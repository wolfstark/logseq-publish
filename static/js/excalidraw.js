(function(){
shadow$provide[444]=function(la,S,Da,C){var v=S(13);!function(u,r){"object"==typeof C&&"object"==typeof Da?Da.exports=r(S(3),S(12)):"function"==typeof define&&define.amd?define(["react","react-dom"],r):"object"==typeof C?C.Excalidraw=r(S(3),S(12)):u.Excalidraw=r(u.React,u.ReactDOM)}(self,function(u,r){return(()=>{function q(x){if(a[x])return a[x].exports;var m=a[x]={id:x,exports:{}};return w[x](m,m.exports,q),m.exports}var l,k,p,w={5374:x=>{function m(g,y,D,J,O,T,H){try{var G=g[T](H),E=G.value}catch(F){return void D(F)}G.done?
y(E):Promise.resolve(E).then(J,O)}x.exports=function(g){return function(){var y=this,D=arguments;return new Promise(function(J,O){function T(E){m(G,J,O,T,H,"next",E)}function H(E){m(G,J,O,T,H,"throw",E)}var G=g.apply(y,D);T(void 0)})}}},566:x=>{x.exports=function(m,g,y){return g in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y,m}},6950:x=>{function m(){return x.exports=m=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var D=arguments[y],J;for(J in D)Object.prototype.hasOwnProperty.call(D,
J)&&(g[J]=D[J])}return g},m.apply(this,arguments)}x.exports=m},5474:(x,m,g)=>{var y=g(8387);x.exports=function(D,J){if(null==D)return{};var O,T=y(D,J);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);for(O=0;O<H.length;O++){var G=H[O];0<=J.indexOf(G)||Object.prototype.propertyIsEnumerable.call(D,G)&&(T[G]=D[G])}}return T}},8387:x=>{x.exports=function(m,g){if(null==m)return{};var y,D={},J=Object.keys(m);for(y=0;y<J.length;y++){var O=J[y];0<=g.indexOf(O)||(D[O]=m[O])}return D}},
6009:(x,m,g)=>{m=g(487);g=g(8328);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},1395:(x,m,g)=>{m=g(487);g=g(6121);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},3211:(x,m,g)=>{m=g(487);g=g(2510);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},5574:(x,m,g)=>{m=g(487);g=g(7972);
"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},4518:(x,m,g)=>{m=g(487);g=g(190);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},3040:(x,m,g)=>{m=g(487);g=g(6718);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8623:(x,m,g)=>{m=g(487);g=g(3623);"string"==typeof(g=g.__esModule?g.default:
g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},4193:(x,m,g)=>{m=g(487);g=g(103);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},341:(x,m,g)=>{m=g(487);g=g(7061);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},9705:(x,m,g)=>{m=g(487);g=g(1498);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",
singleton:!1});x.exports=g.locals||{}},7143:(x,m,g)=>{m=g(487);g=g(666);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},7428:(x,m,g)=>{m=g(487);g=g(849);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8465:(x,m,g)=>{m=g(487);g=g(6915);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||
{}},8680:(x,m,g)=>{m=g(487);g=g(7030);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},205:(x,m,g)=>{m=g(487);g=g(3994);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8416:(x,m,g)=>{m=g(487);g=g(700);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},2816:(x,m,g)=>{m=g(487);g=g(287);
"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},1575:(x,m,g)=>{m=g(487);g=g(5657);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},7287:(x,m,g)=>{m=g(487);g=g(7392);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8518:(x,m,g)=>{m=g(487);g=g(6065);"string"==typeof(g=g.__esModule?g.default:
g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},5849:(x,m,g)=>{m=g(487);g=g(83);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},9478:(x,m,g)=>{m=g(487);g=g(1554);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},2680:(x,m,g)=>{m=g(487);g=g(1970);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",
singleton:!1});x.exports=g.locals||{}},3142:(x,m,g)=>{m=g(487);g=g(961);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8234:(x,m,g)=>{m=g(487);g=g(4878);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},4651:(x,m,g)=>{m=g(487);g=g(1988);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||
{}},2189:(x,m,g)=>{m=g(487);g=g(3245);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},487:(x,m,g)=>{function y(ka){for(var fa=-1,oa=0;oa<F.length;oa++)if(F[oa].identifier===ka){fa=oa;break}return fa}function D(ka,fa){for(var oa={},na=[],qa=0;qa<ka.length;qa++){var K=ka[qa],Q=fa.base?K[0]+fa.base:K[0],ea=oa[Q]||0,ia="".concat(Q," ").concat(ea);oa[Q]=ea+1;Q=y(ia);K={css:K[1],media:K[2],sourceMap:K[3]};-1!==Q?(F[Q].references++,
F[Q].updater(K)):F.push({identifier:ia,updater:H(K,fa),references:1});na.push(ia)}return na}function J(ka){var fa=document.createElement("style"),oa=ka.attributes||{};if(void 0===oa.nonce){var na=g.nc;na&&(oa.nonce=na)}if(Object.keys(oa).forEach(function(qa){fa.setAttribute(qa,oa[qa])}),"function"==typeof ka.insert)ka.insert(fa);else{ka=E(ka.insert||"head");if(!ka)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ka.appendChild(fa)}return fa}
function O(ka,fa,oa,na){oa=oa?"":na.media?"@media ".concat(na.media," {").concat(na.css,"}"):na.css;ka.styleSheet?ka.styleSheet.cssText=ma(fa,oa):(oa=document.createTextNode(oa),na=ka.childNodes,na[fa]&&ka.removeChild(na[fa]),na.length?ka.insertBefore(oa,na[fa]):ka.appendChild(oa))}function T(ka,fa,oa){fa=oa.css;var na=oa.media;oa=oa.sourceMap;if(na?ka.setAttribute("media",na):ka.removeAttribute("media"),oa&&"undefined"!=typeof btoa&&(fa+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(oa)))),
" */")),ka.styleSheet)ka.styleSheet.cssText=fa;else{for(;ka.firstChild;)ka.removeChild(ka.firstChild);ka.appendChild(document.createTextNode(fa))}}function H(ka,fa){if(fa.singleton){var oa=ta++;var na=X||(X=J(fa));var qa=O.bind(null,na,oa,!1);var K=O.bind(null,na,oa,!0)}else na=J(fa),qa=T.bind(null,na,fa),K=function(){if(null===na.parentNode)var Q=!1;else na.parentNode.removeChild(na),Q=void 0;!Q};return qa(ka),function(Q){Q?(Q.css!==ka.css||Q.media!==ka.media||Q.sourceMap!==ka.sourceMap)&&qa(ka=
Q):K()}}var G,E=function(){var ka={};return function(fa){if(void 0===ka[fa]){var oa=document.querySelector(fa);if(window.HTMLIFrameElement&&oa instanceof window.HTMLIFrameElement)try{oa=oa.contentDocument.head}catch(na){oa=null}ka[fa]=oa}return ka[fa]}}(),F=[],da,ma=(da=[],function(ka,fa){return da[ka]=fa,da.filter(Boolean).join("\n")}),X=null,ta=0;x.exports=function(ka,fa){(fa=fa||{}).singleton||"boolean"==typeof fa.singleton||(fa.singleton=(void 0===G&&(G=!(!(window&&document&&document.all)||window.atob)),
G));var oa=D(ka=ka||[],fa);return function(na){if(na=na||[],"[object Array]"===Object.prototype.toString.call(na)){for(var qa=0;qa<oa.length;qa++){var K=y(oa[qa]);F[K].references--}na=D(na,fa);for(qa=0;qa<oa.length;qa++)K=y(oa[qa]),0===F[K].references&&(F[K].updater(),F.splice(K,1));oa=na}}}},2829:x=>{x.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:x=>{x.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(x,m,g)=>{function y(J){if(!g.o(D,J))return Promise.resolve().then(()=>
{var H=Error("Cannot find module '"+J+"'");throw H.code="MODULE_NOT_FOUND",H;});var O=D[J],T=O[0];return Promise.all(O.slice(1).map(g.e)).then(()=>g.t(T,3))}var D={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};y.keys=()=>Object.keys(D);y.id=788;x.exports=y},7154:x=>{function m(){return x.exports=m=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var D=arguments[y],J;for(J in D)Object.prototype.hasOwnProperty.call(D,J)&&(g[J]=D[J])}return g},m.apply(this,arguments)}x.exports=m},6479:(x,m,g)=>{var y=g(7316);x.exports=function(D,J){if(null==D)return{};var O,T=y(D,J);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);
for(O=0;O<H.length;O++){var G=H[O];0<=J.indexOf(G)||Object.prototype.propertyIsEnumerable.call(D,G)&&(T[G]=D[G])}}return T}},7316:x=>{x.exports=function(m,g){if(null==m)return{};var y,D={},J=Object.keys(m);for(y=0;y<J.length;y++){var O=J[y];0<=g.indexOf(O)||(D[O]=m[O])}return D}},8328:(x,m,g)=>{g.r(m);g.d(m,{default:()=>J});m=g(3645);var y=g.n(m);m=g(1667);m=g.n(m);var D=g(7464);g=g(9638);y=y()(function(O){return O[1]});D=m()(D.Z);g=m()(g.Z);y.push([x.id,'@font-face{font-family:"Virgil";src:url('+
D+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+g+");font-display:swap}",""]);const J=y},6121:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const y=g},2510:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const y=g},7972:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const y=g},190:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const y=g},6718:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const y=g},3623:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const y=g},103:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const y=g},7061:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);
g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const y=g},1498:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const y=g},666:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const y=g},849:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const y=g},6915:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});
m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const y=g},7030:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const y=g},3994:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const y=g},700:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const y=g},287:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const y=g},5657:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const y=g},7392:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const y=g},6065:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const y=g},83:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const y=g},1554:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const y=g},1970:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const y=g},961:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const y=g},4878:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const y=g},1988:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const y=g},3245:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,"",""]);g.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const y=g},3645:x=>{x.exports=function(m){var g=[];return g.toString=function(){return this.map(function(y){var D=m(y);return y[2]?"@media ".concat(y[2]," {").concat(D,"}"):D}).join("")},g.i=function(y,D,J){"string"==typeof y&&(y=[[null,
y,""]]);var O={};if(J)for(var T=0;T<this.length;T++){var H=this[T][0];null!=H&&(O[H]=!0)}for(T=0;T<y.length;T++)H=[].concat(y[T]),J&&O[H[0]]||(D&&(H[2]?H[2]="".concat(D," and ").concat(H[2]):H[2]=D),g.push(H))},g}},1667:x=>{x.exports=function(m,g){return g||(g={}),"string"!=typeof(m=m&&m.__esModule?m.default:m)?m:(/^['"].*['"]$/.test(m)&&(m=m.slice(1,-1)),g.hash&&(m+=g.hash),/["'() \t\n]/.test(m)||g.needQuotes?'"'.concat(m.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):m)}},9638:(x,m,g)=>{g.d(m,{Z:()=>
y});const y=g.p+"excalidraw-assets/Cascadia.woff2"},7464:(x,m,g)=>{g.d(m,{Z:()=>y});const y=g.p+"excalidraw-assets/Virgil.woff2"},8288:(x,m,g)=>{g.d(m,{iC:()=>D,f:()=>J,qx:()=>O,Iw:()=>T,$e:()=>H,wZ:()=>G,ay:()=>E,oc:()=>F,Oh:()=>da,Ks:()=>y,Vi:()=>ma,$C:()=>X,ut:()=>ta,_D:()=>ka,n5:()=>fa,rk:()=>oa,Hg:()=>na,hs:()=>qa,eQ:()=>K,k:()=>Q,LO:()=>ea,I:()=>ia,Gj:()=>va,nM:()=>ja,Lg:()=>ha,HM:()=>sa,V4:()=>Ra,EH:()=>db,Gi:()=>cb});var y;x=g(2189);g=g.n(x);var D="Excalidraw",J=10,O=8,T=5,H=1,G=30,E=Math.PI/
12,F={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},da={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Ya){Ya.COPY="copy";Ya.PASTE="paste";Ya.CUT="cut";Ya.KEYDOWN="keydown";Ya.KEYUP="keyup";Ya.MOUSE_MOVE="mousemove";Ya.RESIZE="resize";Ya.UNLOAD="unload";Ya.BLUR="blur";Ya.DRAG_OVER="dragover";Ya.DROP="drop";Ya.GESTURE_END="gestureend";Ya.BEFORE_UNLOAD="beforeunload";Ya.GESTURE_START="gesturestart";Ya.GESTURE_CHANGE="gesturechange";Ya.POINTER_MOVE="pointermove";
Ya.POINTER_UP="pointerup";Ya.STATE_CHANGE="statechange";Ya.WHEEL="wheel";Ya.TOUCH_START="touchstart";Ya.TOUCH_END="touchend";Ya.HASHCHANGE="hashchange";Ya.VISIBILITY_CHANGE="visibilitychange";Ya.SCROLL="scroll"}(y||(y={}));var ma={TEST:"test",DEVELOPMENT:"development"},X={SHAPE_ACTIONS_MENU:"App-menu__left"},ta={1:"Virgil",2:"Helvetica",3:"Cascadia"},ka="Segoe UI Emoji",fa=20,oa=1,na="left",qa="top",K="{version}",Q=20,ea={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
ia={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},va=300,ja=500,ha=5E3,sa=100,Ra=.1,db={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},cb=g().appearanceFilter},3956:(x,m,g)=>{function y(d,h){return Math.pow(d[0]-h[0],2)+Math.pow(d[1]-h[1],2)}function D(d,h,n){return[d[0]+(h[0]-d[0])*n,d[1]+(h[1]-d[1])*n]}function J(d,h,n,B){B=B||[];{var P=d[h+0],W=d[h+1];var wa=d[h+2];const Fa=d[h+3];var pa=3*W[0]-2*P[0]-Fa[0];pa*=pa;W=3*W[1]-2*P[1]-Fa[1];W*=W;let hb=3*wa[0]-2*Fa[0]-P[0];hb*=hb;P=3*wa[1]-2*Fa[1]-P[1];
wa=(P*=P,pa<hb&&(pa=hb),W<P&&(W=P),pa+W)}wa<n?(n=d[h+0],B.length?1<(Ba=B[B.length-1],Ma=n,Math.sqrt(y(Ba,Ma)))&&B.push(n):B.push(n),B.push(d[h+3])):(Ba=d[h+0],pa=d[h+1],Ma=d[h+2],d=d[h+3],h=D(Ba,pa,.5),W=D(pa,Ma,.5),Ma=D(Ma,d,.5),pa=D(h,W,.5),W=D(W,Ma,.5),P=D(pa,W,.5),J([Ba,h,pa,P],0,n,B),J([P,W,Ma,d],0,n,B));var Ba,Ma;return B}function O(d,h){return T(d,0,d.length,h)}function T(d,h,n,B,P){P=P||[];const W=d[h],wa=d[n-1];let pa=0,Ba=1;for(let kb=h+1;kb<n-1;++kb){var Ma=d[kb];var Fa=W,hb=wa,jb=y(Fa,
hb);0===jb?Ma=y(Ma,Fa):(jb=((Ma[0]-Fa[0])*(hb[0]-Fa[0])+(Ma[1]-Fa[1])*(hb[1]-Fa[1]))/jb,Ma=(jb=Math.max(0,Math.min(1,jb)),y(Ma,D(Fa,hb,jb))));Ma>pa&&(pa=Ma,Ba=kb)}return Math.sqrt(pa)>B?(T(d,h,Ba+1,B,P),T(d,Ba,n,B,P)):(P.length||P.push(W),P.push(wa)),P}function H(d,h=.15,n){const B=[],P=(d.length-1)/3;for(let W=0;W<P;W++)J(d,3*W,h,B);return n&&0<n?T(B,0,B.length,n):B}function G(d,h,n){if(d&&d.length){const [B,P]=h;h=Math.PI/180*n;const W=Math.cos(h),wa=Math.sin(h);d.forEach(pa=>{const [Ba,Ma]=pa;
pa[0]=(Ba-B)*W-(Ma-P)*wa+B;pa[1]=(Ba-B)*wa+(Ma-P)*W+P})}}function E(d){const h=d[0];d=d[1];return Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2))}function F(d,h,n,B){const P=h[1]-d[1];h=d[0]-h[0];d=P*d[0]+h*d[1];const W=B[1]-n[1];B=n[0]-B[0];n=W*n[0]+B*n[1];const wa=P*B-W*h;return wa?[(B*d-h*n)/wa,(P*n-W*d)/wa]:null}function da(d,h,n){const B=d.length;if(3>B)return!1;const P=[Number.MAX_SAFE_INTEGER,n];h=[h,n];n=0;for(let W=0;W<B;W++){const wa=d[W],pa=d[(W+1)%B];if(ta(wa,pa,h,P)){if(0===X(wa,
h,pa))return ma(wa,h,pa);n++}}return 1==n%2}function ma(d,h,n){return h[0]<=Math.max(d[0],n[0])&&h[0]>=Math.min(d[0],n[0])&&h[1]<=Math.max(d[1],n[1])&&h[1]>=Math.min(d[1],n[1])}function X(d,h,n){d=(h[1]-d[1])*(n[0]-h[0])-(h[0]-d[0])*(n[1]-h[1]);return 0===d?0:0<d?1:2}function ta(d,h,n,B){const P=X(d,h,n),W=X(d,h,B),wa=X(n,B,d),pa=X(n,B,h);return P!==W&&wa!==pa||!(0!==P||!ma(d,n,h))||!(0!==W||!ma(d,B,h))||!(0!==wa||!ma(n,d,B))||!(0!==pa||!ma(n,h,B))}function ka(d,h){const n=[0,0],B=Math.round(h.hachureAngle+
90);B&&G(d,n,B);h=function(P,W){var wa=[...P];wa[0].join(",")!==wa[wa.length-1].join(",")&&wa.push([wa[0][0],wa[0][1]]);P=[];if(wa&&2<wa.length){let Ba=W.hachureGap;0>Ba&&(Ba=4*W.strokeWidth);Ba=Math.max(Ba,.1);W=[];for(var pa=0;pa<wa.length-1;pa++){const hb=wa[pa],jb=wa[pa+1];if(hb[1]!==jb[1]){const kb=Math.min(hb[1],jb[1]);W.push({ymin:kb,ymax:Math.max(hb[1],jb[1]),x:kb===hb[1]?hb[0]:jb[0],islope:(jb[0]-hb[0])/(jb[1]-hb[1])})}}if(W.sort((hb,jb)=>hb.ymin<jb.ymin?-1:hb.ymin>jb.ymin?1:hb.x<jb.x?-1:
hb.x>jb.x?1:hb.ymax===jb.ymax?0:(hb.ymax-jb.ymax)/Math.abs(hb.ymax-jb.ymax)),!W.length)return P;let Ma=[],Fa=W[0].ymin;for(;Ma.length||W.length;){if(W.length){wa=-1;for(pa=0;pa<W.length&&!(W[pa].ymin>Fa);pa++)wa=pa;W.splice(0,wa+1).forEach(hb=>{Ma.push({s:Fa,edge:hb})})}if(Ma=Ma.filter(hb=>!(hb.edge.ymax<=Fa)),Ma.sort((hb,jb)=>hb.edge.x===jb.edge.x?0:(hb.edge.x-jb.edge.x)/Math.abs(hb.edge.x-jb.edge.x)),1<Ma.length)for(wa=0;wa<Ma.length;wa+=2){pa=wa+1;if(pa>=Ma.length)break;P.push([[Math.round(Ma[wa].edge.x),
Fa],[Math.round(Ma[pa].edge.x),Fa]])}Fa+=Ba;Ma.forEach(hb=>{hb.edge.x+=Ba*hb.edge.islope})}}return P}(d,h);return B&&(G(d,n,-B),function(P,W,wa){const pa=[];P.forEach(Ba=>pa.push(...Ba));G(pa,W,wa)}(h,n,-B)),h}function fa(d){const h=[];a:{var n=d;for(var B=[];""!==n;){if(!n.match(/^([ \t\r\n,]+)/))if(n.match(/^([aAcChHlLmMqQsStTvVzZ])/))B[B.length]={type:0,text:RegExp.$1};else{if(!n.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){n=[];break a}B[B.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}n=
n.substr(RegExp.$1.length)}n=(B[B.length]={type:2,text:""},B)}B="BOD";let P=0;for(var W=n[P];2!==W.type;){let wa=0;const pa=[];if("BOD"===B){if("M"!==W.text&&"m"!==W.text)return fa("M0,0"+d);P++;wa=Oi[W.text];B=W.text}else 1===W.type?wa=Oi[B]:(P++,wa=Oi[W.text],B=W.text);if(!(P+wa<n.length))throw Error("Path data ended short");for(W=P;W<P+wa;W++){const Ba=n[W];if(1!==Ba.type)throw Error("Param not a number: "+B+","+Ba.text);pa[pa.length]=+Ba.text}if("number"!=typeof Oi[B])throw Error("Bad segment: "+
B);h.push({key:B,data:pa});P+=wa;W=n[P];"M"===B&&(B="L");"m"===B&&(B="l")}return h}function oa(d){let h=0,n=0,B=0,P=0;const W=[];for(const {key:wa,data:pa}of d)switch(wa){case "M":W.push({key:"M",data:[...pa]});[h,n]=pa;[B,P]=pa;break;case "m":h+=pa[0];n+=pa[1];W.push({key:"M",data:[h,n]});B=h;P=n;break;case "L":W.push({key:"L",data:[...pa]});[h,n]=pa;break;case "l":h+=pa[0];n+=pa[1];W.push({key:"L",data:[h,n]});break;case "C":W.push({key:"C",data:[...pa]});h=pa[4];n=pa[5];break;case "c":d=pa.map((Ba,
Ma)=>Ma%2?Ba+n:Ba+h);W.push({key:"C",data:d});h=d[4];n=d[5];break;case "Q":W.push({key:"Q",data:[...pa]});h=pa[2];n=pa[3];break;case "q":d=pa.map((Ba,Ma)=>Ma%2?Ba+n:Ba+h);W.push({key:"Q",data:d});h=d[2];n=d[3];break;case "A":W.push({key:"A",data:[...pa]});h=pa[5];n=pa[6];break;case "a":h+=pa[5];n+=pa[6];W.push({key:"A",data:[pa[0],pa[1],pa[2],pa[3],pa[4],h,n]});break;case "H":W.push({key:"H",data:[...pa]});h=pa[0];break;case "h":h+=pa[0];W.push({key:"H",data:[h]});break;case "V":W.push({key:"V",data:[...pa]});
n=pa[0];break;case "v":n+=pa[0];W.push({key:"V",data:[n]});break;case "S":W.push({key:"S",data:[...pa]});h=pa[2];n=pa[3];break;case "s":d=pa.map((Ba,Ma)=>Ma%2?Ba+n:Ba+h);W.push({key:"S",data:d});h=d[2];n=d[3];break;case "T":W.push({key:"T",data:[...pa]});h=pa[0];n=pa[1];break;case "t":h+=pa[0];n+=pa[1];W.push({key:"T",data:[h,n]});break;case "Z":case "z":W.push({key:"Z",data:[]}),h=B,n=P}return W}function na(d){const h=[];var n="";let B=0,P=0,W=0,wa=0,pa=0,Ba=0;for(const {key:Fa,data:hb}of d){switch(Fa){case "M":h.push({key:"M",
data:[...hb]});[B,P]=hb;[W,wa]=hb;break;case "C":h.push({key:"C",data:[...hb]});B=hb[4];P=hb[5];pa=hb[2];Ba=hb[3];break;case "L":h.push({key:"L",data:[...hb]});[B,P]=hb;break;case "H":B=hb[0];h.push({key:"L",data:[B,P]});break;case "V":P=hb[0];h.push({key:"L",data:[B,P]});break;case "S":var Ma=d=0;"C"===n||"S"===n?(d=B+(B-pa),Ma=P+(P-Ba)):(d=B,Ma=P);h.push({key:"C",data:[d,Ma,...hb]});pa=hb[0];Ba=hb[1];B=hb[2];P=hb[3];break;case "T":{const [jb,kb]=hb;Ma=d=0;"Q"===n||"T"===n?(d=B+(B-pa),Ma=P+(P-Ba)):
(d=B,Ma=P);h.push({key:"C",data:[B+2*(d-B)/3,P+2*(Ma-P)/3,jb+2*(d-jb)/3,kb+2*(Ma-kb)/3,jb,kb]});pa=d;Ba=Ma;B=jb;P=kb;break}case "Q":{const [jb,kb,Kb,Ib]=hb;h.push({key:"C",data:[B+2*(jb-B)/3,P+2*(kb-P)/3,Kb+2*(jb-Kb)/3,Ib+2*(kb-Ib)/3,Kb,Ib]});pa=jb;Ba=kb;B=Kb;P=Ib;break}case "A":{n=Math.abs(hb[0]);d=Math.abs(hb[1]);Ma=hb[2];const jb=hb[3],kb=hb[4],Kb=hb[5],Ib=hb[6];if(0===n||0===d)h.push({key:"C",data:[B,P,Kb,Ib,Kb,Ib]}),B=Kb,P=Ib;else if(B!==Kb||P!==Ib)K(B,P,Kb,Ib,n,d,Ma,jb,kb).forEach(function(nc){h.push({key:"C",
data:nc})}),B=Kb,P=Ib;break}case "Z":h.push({key:"Z",data:[]}),B=W,P=wa}n=Fa}return h}function qa(d,h,n){return[d*Math.cos(n)-h*Math.sin(n),d*Math.sin(n)+h*Math.cos(n)]}function K(d,h,n,B,P,W,wa,pa,Ba,Ma){const Fa=(hb=wa,Math.PI*hb/180);var hb;hb=[];if(Ma)[pa,jb,kb,Kb]=Ma;else{[d,h]=qa(d,h,-Fa);[n,B]=qa(n,B,-Fa);var jb=(d-n)/2;var kb=(h-B)/2;var Kb=jb*jb/(P*P)+kb*kb/(W*W);1<Kb&&(Kb=Math.sqrt(Kb),P*=Kb,W*=Kb);Kb=P*P;var Ib=W*W;pa=(pa===Ba?-1:1)*Math.sqrt(Math.abs((Kb*Ib-Kb*kb*kb-Ib*jb*jb)/(Kb*kb*kb+
Ib*jb*jb)));kb=pa*P*kb/W+(d+n)/2;Kb=pa*-W*jb/P+(h+B)/2;pa=Math.asin(parseFloat(((h-Kb)/W).toFixed(9)));jb=Math.asin(parseFloat(((B-Kb)/W).toFixed(9)));d<kb&&(pa=Math.PI-pa);n<kb&&(jb=Math.PI-jb);0>pa&&(pa=2*Math.PI+pa);0>jb&&(jb=2*Math.PI+jb);Ba&&pa>jb&&(pa-=2*Math.PI);!Ba&&jb>pa&&(jb-=2*Math.PI)}if(Math.abs(jb-pa)>120*Math.PI/180){hb=jb;Ib=n;const nc=B;jb=Ba&&jb>pa?pa+120*Math.PI/180:pa+120*Math.PI/180*-1;hb=K(n=kb+P*Math.cos(jb),B=Kb+W*Math.sin(jb),Ib,nc,P,W,wa,0,Ba,[jb,hb,kb,Kb])}wa=Math.tan((jb-
pa)/4);P=4/3*P*wa;wa*=4/3*W;W=[d,h];d=[d+P*Math.sin(pa),h-wa*Math.cos(pa)];h=[n+P*Math.sin(jb),B-wa*Math.cos(jb)];n=[n,B];if(d[0]=2*W[0]-d[0],d[1]=2*W[1]-d[1],Ma)return[d,h,n].concat(hb);hb=[d,h,n].concat(hb);Ma=[];for(n=0;n<hb.length;n+=3)B=qa(hb[n][0],hb[n][1],Fa),d=qa(hb[n+1][0],hb[n+1][1],Fa),h=qa(hb[n+2][0],hb[n+2][1],Fa),Ma.push([B[0],B[1],d[0],d[1],h[0],h[1]]);return Ma}function Q(d,h,n){const B=(d||[]).length;if(2<B){const P=[];for(let W=0;W<B-1;W++)P.push(...Ya(d[W][0],d[W][1],d[W+1][0],
d[W+1][1],n));return h&&P.push(...Ya(d[B-1][0],d[B-1][1],d[0][0],d[0][1],n)),{type:"path",ops:P}}return 2===B?{type:"path",ops:Ya(d[0][0],d[0][1],d[1][0],d[1][1],n)}:{type:"path",ops:[]}}function ea(d,h){let n=Vb(d,1+.2*h.roughness,h);if(!h.disableMultiStroke){var B=1.5*(1+.22*h.roughness);{const P=Object.assign({},h);P.randomizer=void 0;h.seed&&(P.seed=h.seed+1);h=P}d=Vb(d,B,h);n=n.concat(d)}return{type:"path",ops:n}}function ia(d,h,n){const B=2*Math.PI/Math.max(n.curveStepCount,n.curveStepCount/
Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(h/2,2))/2)));d=Math.abs(d/2);h=Math.abs(h/2);const P=1-n.curveFitting;return d+=cb(d*P,n),h+=cb(h*P,n),{increment:B,rx:d,ry:h}}function va(d,h,n,B){const [P,W]=sc(B.increment,d,h,B.rx,B.ry,1,B.increment*db(.1,db(.4,1,n),n),n);let wa=Ub(P,null,n);n.disableMultiStroke||([d]=sc(B.increment,d,h,B.rx,B.ry,1.5,0,n),n=Ub(d,null,n),wa=wa.concat(n));return{estimatedPoints:W,opset:{type:"path",ops:wa}}}function ja(d,h,n,B,P,W,wa,pa,Ba){n=
Math.abs(n/2);B=Math.abs(B/2);n+=cb(.01*n,Ba);for(B+=cb(.01*B,Ba);0>P;)P+=2*Math.PI,W+=2*Math.PI;W-P>2*Math.PI&&(P=0,W=2*Math.PI);var Ma=Math.min(2*Math.PI/Ba.curveStepCount/2,(W-P)/2);const Fa=Ic(Ma,d,h,n,B,P,W,1,Ba);Ba.disableMultiStroke||(Ma=Ic(Ma,d,h,n,B,P,W,1.5,Ba),Fa.push(...Ma));return wa&&(pa?Fa.push(...Ya(d,h,d+n*Math.cos(P),h+B*Math.sin(P),Ba),...Ya(d,h,d+n*Math.cos(W),h+B*Math.sin(W),Ba)):Fa.push({op:"lineTo",data:[d,h]},{op:"lineTo",data:[d+n*Math.cos(P),h+B*Math.sin(P)]})),{type:"path",
ops:Fa}}function ha(d,h){const n=[];if(d.length){const B=h.maxRandomnessOffset||0,P=d.length;if(2<P){n.push({op:"move",data:[d[0][0]+cb(B,h),d[0][1]+cb(B,h)]});for(let W=1;W<P;W++)n.push({op:"lineTo",data:[d[W][0]+cb(B,h),d[W][1]+cb(B,h)]})}}return{type:"fillPath",ops:n}}function sa(d,h){{var n=Zh;let B=h.fillStyle||"hachure";if(!Sf[B])switch(B){case "zigzag":Sf[B]||(Sf[B]=new yf(n));break;case "cross-hatch":Sf[B]||(Sf[B]=new Df(n));break;case "dots":Sf[B]||(Sf[B]=new ge(n));break;case "dashed":Sf[B]||
(Sf[B]=new zh(n));break;case "zigzag-line":Sf[B]||(Sf[B]=new sd(n));break;default:B="hachure",Sf[B]||(Sf[B]=new ng(n))}n=Sf[B]}return n.fillPolygon(d,h)}function Ra(d){return d.randomizer||(d.randomizer=new Ah(d.seed||0)),d.randomizer.next()}function db(d,h,n,B=1){return n.roughness*B*(Ra(n)*(h-d)+d)}function cb(d,h,n=1){return db(-d,d,h,n)}function Ya(d,h,n,B,P,W=!1){const wa=W?P.disableMultiStrokeFill:P.disableMultiStroke;W=Sb(d,h,n,B,P,!0,!1);if(wa)return W;d=Sb(d,h,n,B,P,!0,!0);return W.concat(d)}
function Sb(d,h,n,B,P,W,wa){var pa=Math.pow(d-n,2)+Math.pow(h-B,2),Ba=Math.sqrt(pa);let Ma;Ma=200>Ba?1:500<Ba?.4:-.0016668*Ba+1.233334;let Fa=P.maxRandomnessOffset||0;Fa*Fa*100>pa&&(Fa=Ba/10);pa=Fa/2;Ba=.2+.2*Ra(P);let hb=P.bowing*P.maxRandomnessOffset*(B-h)/200,jb=P.bowing*P.maxRandomnessOffset*(d-n)/200;hb=cb(hb,P,Ma);jb=cb(jb,P,Ma);const kb=[];return W&&(wa?kb.push({op:"move",data:[d+cb(pa,P,Ma),h+cb(pa,P,Ma)]}):kb.push({op:"move",data:[d+cb(Fa,P,Ma),h+cb(Fa,P,Ma)]})),wa?kb.push({op:"bcurveTo",
data:[hb+d+(n-d)*Ba+cb(pa,P,Ma),jb+h+(B-h)*Ba+cb(pa,P,Ma),hb+d+2*(n-d)*Ba+cb(pa,P,Ma),jb+h+2*(B-h)*Ba+cb(pa,P,Ma),n+cb(pa,P,Ma),B+cb(pa,P,Ma)]}):kb.push({op:"bcurveTo",data:[hb+d+(n-d)*Ba+cb(Fa,P,Ma),jb+h+(B-h)*Ba+cb(Fa,P,Ma),hb+d+2*(n-d)*Ba+cb(Fa,P,Ma),jb+h+2*(B-h)*Ba+cb(Fa,P,Ma),n+cb(Fa,P,Ma),B+cb(Fa,P,Ma)]}),kb}function Vb(d,h,n){const B=[];B.push([d[0][0]+cb(h,n),d[0][1]+cb(h,n)]);B.push([d[0][0]+cb(h,n),d[0][1]+cb(h,n)]);for(let P=1;P<d.length;P++)B.push([d[P][0]+cb(h,n),d[P][1]+cb(h,n)]),P===
d.length-1&&B.push([d[P][0]+cb(h,n),d[P][1]+cb(h,n)]);return Ub(B,null,n)}function Ub(d,h,n){const B=d.length,P=[];if(3<B){const W=[],wa=1-n.curveTightness;P.push({op:"move",data:[d[1][0],d[1][1]]});for(let pa=1;pa+2<B;pa++){const Ba=d[pa];W[0]=[Ba[0],Ba[1]];W[1]=[Ba[0]+(wa*d[pa+1][0]-wa*d[pa-1][0])/6,Ba[1]+(wa*d[pa+1][1]-wa*d[pa-1][1])/6];W[2]=[d[pa+1][0]+(wa*d[pa][0]-wa*d[pa+2][0])/6,d[pa+1][1]+(wa*d[pa][1]-wa*d[pa+2][1])/6];W[3]=[d[pa+1][0],d[pa+1][1]];P.push({op:"bcurveTo",data:[W[1][0],W[1][1],
W[2][0],W[2][1],W[3][0],W[3][1]]})}h&&2===h.length&&(d=n.maxRandomnessOffset,P.push({op:"lineTo",data:[h[0]+cb(d,n),h[1]+cb(d,n)]}))}else 3===B?(P.push({op:"move",data:[d[1][0],d[1][1]]}),P.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===B&&P.push(...Ya(d[0][0],d[0][1],d[1][0],d[1][1],n));return P}function sc(d,h,n,B,P,W,wa,pa){const Ba=[],Ma=[],Fa=cb(.5,pa)-Math.PI/2;Ma.push([cb(W,pa)+h+.9*B*Math.cos(Fa-d),cb(W,pa)+n+.9*P*Math.sin(Fa-d)]);for(let hb=Fa;hb<2*Math.PI+
Fa-.01;hb+=d){const jb=[cb(W,pa)+h+B*Math.cos(hb),cb(W,pa)+n+P*Math.sin(hb)];Ba.push(jb);Ma.push(jb)}return Ma.push([cb(W,pa)+h+B*Math.cos(Fa+2*Math.PI+.5*wa),cb(W,pa)+n+P*Math.sin(Fa+2*Math.PI+.5*wa)]),Ma.push([cb(W,pa)+h+.98*B*Math.cos(Fa+wa),cb(W,pa)+n+.98*P*Math.sin(Fa+wa)]),Ma.push([cb(W,pa)+h+.9*B*Math.cos(Fa+.5*wa),cb(W,pa)+n+.9*P*Math.sin(Fa+.5*wa)]),[Ma,Ba]}function Ic(d,h,n,B,P,W,wa,pa,Ba){var Ma=W+cb(.1,Ba);W=[];for(W.push([cb(pa,Ba)+h+.9*B*Math.cos(Ma-d),cb(pa,Ba)+n+.9*P*Math.sin(Ma-d)]);Ma<=
wa;Ma+=d)W.push([cb(pa,Ba)+h+B*Math.cos(Ma),cb(pa,Ba)+n+P*Math.sin(Ma)]);return W.push([h+B*Math.cos(wa),n+P*Math.sin(wa)]),W.push([h+B*Math.cos(wa),n+P*Math.sin(wa)]),Ub(W,null,Ba)}function bc(d,h,n,B,P,W,wa,pa){const Ba=[],Ma=[pa.maxRandomnessOffset||1,(pa.maxRandomnessOffset||1)+.3];let Fa;const hb=pa.disableMultiStroke?1:2;for(let jb=0;jb<hb;jb++)0===jb?Ba.push({op:"move",data:[wa[0],wa[1]]}):Ba.push({op:"move",data:[wa[0]+cb(Ma[0],pa),wa[1]+cb(Ma[0],pa)]}),Fa=[P+cb(Ma[jb],pa),W+cb(Ma[jb],pa)],
Ba.push({op:"bcurveTo",data:[d+cb(Ma[jb],pa),h+cb(Ma[jb],pa),n+cb(Ma[jb],pa),B+cb(Ma[jb],pa),Fa[0],Fa[1]]});return Ba}function uc(d){var h,n,B="";if("string"==typeof d||"number"==typeof d)B+=d;else if("object"==typeof d)if(Array.isArray(d))for(h=0;h<d.length;h++)d[h]&&(n=uc(d[h]))&&(B&&(B+=" "),B+=n);else for(h in d)d[h]&&(B&&(B+=" "),B+=h);return B}function Dc(){for(var d,h,n=0,B="";n<arguments.length;)(d=arguments[n++])&&(h=uc(d))&&(B&&(B+=" "),B+=h);return B}function ld(d,h){var n=Object.keys(d);
if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Eb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?ld(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,
B))})}return d}function gc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function gb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?gc(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach(function(B){Object.defineProperty(d,
B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Ha(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ja(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Ha(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):
Ha(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Ia(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ca(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Ia(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Ta(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ab(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Ta(Object(n),
!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Fb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Hb(d,h){var n=Object.keys(d);
if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Zb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Hb(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Hb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,
B))})}return d}function qc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ec(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?qc(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach(function(B){Object.defineProperty(d,
B,Object.getOwnPropertyDescriptor(n,B))})}return d}function rc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Vc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?rc(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):
rc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Pd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function bd(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Pd(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function ce(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ue(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?ce(Object(n),
!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function hd(d){var h=d.options,n=d.value,B=d.label,P=d.onChange,W=d.onClose,wa=R().useRef(),pa=R().useRef(),Ba=R().useRef(null);R().useEffect(function(){pa.current?pa.current.focus():Ba.current&&Ba.current.focus()},[]);return R().createElement("div",{className:"picker",
role:"dialog","aria-modal":"true","aria-label":B,onKeyDown:function(Ma){var Fa=h.find(function(Kb){return Kb.keyBinding===Ma.key.toLowerCase()});if(Ma.metaKey||Ma.altKey||Ma.ctrlKey||!Fa)if("Tab"===Ma.key)setTimeout(function(){pa.current!==document.activeElement&&W()},0);else if(ci(Ma.key)){Fa=Ye.rtl;if(-1!==(kb=Array.prototype.indexOf.call(Ba.current.children,document.activeElement))){var hb=h.length,jb=kb;switch(Ma.key){case Fa?"ArrowLeft":"ArrowRight":case "ArrowDown":jb=(kb+1)%hb;break;case Fa?
"ArrowRight":"ArrowLeft":case "ArrowUp":jb=(hb+kb-1)%hb}Ba.current.children[jb].focus()}Ma.preventDefault()}else"Escape"!==Ma.key&&"Enter"!==Ma.key||(Ma.preventDefault(),W());else{var kb=h.indexOf(Fa);Ba.current.children[kb].focus();Ma.preventDefault()}Ma.nativeEvent.stopImmediatePropagation()}},R().createElement("div",{className:"picker-content",ref:Ba},h.map(function(Ma,Fa){return R().createElement("button",{className:"picker-option",onClick:function(hb){hb.currentTarget.focus();P(Ma.value)},title:"".concat(Ma.text,
" — ").concat(Ma.keyBinding.toUpperCase()),"aria-label":Ma.text||"none","aria-keyshortcuts":Ma.keyBinding,key:Ma.text,ref:function(hb){hb&&0===Fa&&(wa.current=hb);hb&&Ma.value===n&&(pa.current=hb)},onFocus:function(){P(Ma.value)}},Ma.icon,R().createElement("span",{className:"picker-keybinding"},Ma.keyBinding))})))}function dd(d){var h,n=d.value,B=d.label,P=d.options,W=d.onChange;d=d.group;d=void 0===d?"":d;var wa=R().useState(!1),pa=wa[0],Ba=wa[1],Ma=R().useRef(null);wa=Ye.rtl;return R().createElement("label",
{className:"picker-container"},R().createElement("button",{name:d,className:pa?"active":"","aria-label":B,onClick:function(){return Ba(!pa)},ref:Ma},null===(h=P.find(function(Fa){return Fa.value===n}))||void 0===h?void 0:h.icon),R().createElement(R().Suspense,{fallback:""},pa?R().createElement(R().Fragment,null,R().createElement(eb,Ad()({onCloseRequest:function(Fa){return Fa.target!==Ma.current&&Ba(!1)}},wa?{right:5.5}:{left:-5.5}),R().createElement(hd,{options:P,value:n,label:B,onChange:W,onClose:function(){var Fa;
Ba(!1);null===(Fa=Ma.current)||void 0===Fa||Fa.focus()}})),R().createElement("div",{className:"picker-triangle"})):null))}function Je(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function de(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Je(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function De(){return(0,Z.useContext)(Me)}function Xe(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ze(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?
arguments[h]:{};h%2?Xe(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function sf(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Cf(d){for(var h=
1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?sf(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}async function kh(...d){return(await mm).default(...d)}async function Hf(...d){return(await $e).default(...d)}function Ge(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=
Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ee(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Ge(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function nf(d,
h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function We(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?nf(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(B){Object.defineProperty(d,
B,Object.getOwnPropertyDescriptor(n,B))})}return d}function ob(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function sb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?ob(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):
ob(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function ib(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ua(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?ib(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function bb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function mb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?bb(Object(n),
!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Gb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ac(d){for(var h=1;h<arguments.length;h++){var n=
null!=arguments[h]?arguments[h]:{};h%2?Gb(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Gb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function fc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,
B)}return n}function kc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?fc(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Xc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));n.push.apply(n,B)}return n}function Qb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Xc(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Pb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);
h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Kd(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Pb(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function zd(d,h){var n=Object.keys(d);
if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function nd(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?zd(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,
B))})}return d}function ah(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function yc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?ah(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach(function(B){Object.defineProperty(d,
B,Object.getOwnPropertyDescriptor(n,B))})}return d}function bh(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Na(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?bh(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):
bh(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function tb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function tc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?tb(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Jc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ad(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Jc(Object(n),
!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Fd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function qe(d){for(var h=1;h<arguments.length;h++){var n=
null!=arguments[h]?arguments[h]:{};h%2?Fd(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function hc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,
B)}return n}function Yc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?hc(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Tb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));n.push.apply(n,B)}return n}function lb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Tb(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Tb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function fe(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);
h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Le(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Cd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));n.push.apply(n,B)}return n}function dc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Cd(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Pa(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);
h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Va(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Pa(Object(n),!0).forEach(function(B){ve()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}g.r(m);g.d(m,{default:()=>Tt,defaultLang:()=>
Ld,getElementMap:()=>Gh,getSceneVersion:()=>Al,getSyncableElements:()=>Fh,languages:()=>Tc,restore:()=>en,restoreAppState:()=>xn,restoreElements:()=>vj});var Sa=g(7154),ya=g.n(Sa),ra=g(6479),N=g.n(ra),Z=g(4698),R=g.n(Z),Qa=g(8288);const fb=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==Qa.Vi.TEST&&(g.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(fb.u2,"@").concat(fb.i8,"/dist/"));var Bb=g(5374),ub=g.n(Bb),oc=g(2829),od=g(2051),rd=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");
for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&
pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Ld={code:"en",label:"English"},
Tc=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",
label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},
{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Ld]).sort(function(d,h){return d.label>h.label?1:-1}).filter(function(d){return 85<=od[d.code]});"production"===Qa.Vi.DEVELOPMENT&&Tc.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var ud,Ye=Ld,fg={},Ne=function(){var d=ub()(function(h){return rd(this,function(n){switch(n.label){case 0:return Ye=h,document.documentElement.dir=
Ye.rtl?"rtl":"ltr",document.documentElement.lang=Ye.code,h.code.startsWith("__test__")?(fg={},[3,3]):[3,1];case 1:return[4,g(788)("./".concat(Ye.code,".json"))];case 2:fg=n.sent(),n.label=3;case 3:return[2]}})});return function(h){return d.apply(this,arguments)}}(),Nd=function(d,h){for(var n=0;n<h.length;++n){var B=h[n];if(void 0===d[B])return;d=d[B]}if("string"==typeof d)return d},Jb=function(d,h){if(Ye.code.startsWith("__test__"))return d=h?"".concat(d,"(").concat(JSON.stringify(h).slice(1,-1),
")"):d,"‪[[".concat(d,"]]‬");var n=d.split(".");n=Nd(fg,n)||Nd(oc,n);if(void 0===n)throw Error("Can't find translation for ".concat(d));if(h)for(var B in h)n=n.replace("{{".concat(B,"}}"),h[B]);return n},Rf=function(){return R().createElement("div",{className:"LoadingMessage"},R().createElement("span",null,Jb("labels.loadingScene")))},sh=(ud=function(d,h){return(ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,B){n.__proto__=B}||function(n,B){for(var P in B)Object.prototype.hasOwnProperty.call(B,
P)&&(n[P]=B[P])})(d,h)},function(d,h){function n(){this.constructor=d}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");ud(d,h);d.prototype=null===h?Object.create(h):(n.prototype=h.prototype,new n)}),le=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=
W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&
pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},th=function(d){function h(){for(var n=[],B=0;B<arguments.length;B++)n[B]=arguments[B];var P;B=this;return P=B=d.apply(this,
n)||this,B.state={isLoading:!0},P}return sh(h,d),h.prototype.componentDidMount=function(){var n=this;return ub()(function(){var B;return le(this,function(P){switch(P.label){case 0:return B=Tc.find(function(W){return W.code===n.props.langCode})||Ld,[4,Ne(B)];case 1:return P.sent(),n.setState({isLoading:!1}),[2]}})})()},h.prototype.render=function(){return this.state.isLoading?R().createElement(Rf,null):this.props.children},h}(R().Component),Qh=g(566),ve=g.n(Qh);class ng{constructor(d){this.helper=
d}fillPolygon(d,h){return this._fillPolygon(d,h)}_fillPolygon(d,h,n=!1){let B=ka(d,h);n&&(d=this.connectingLines(d,B),B=B.concat(d));return{type:"fillSketch",ops:this.renderLines(B,h)}}renderLines(d,h){const n=[];for(const B of d)n.push(...this.helper.doubleLineOps(B[0][0],B[0][1],B[1][0],B[1][1],h));return n}connectingLines(d,h){const n=[];if(1<h.length)for(let P=1;P<h.length;P++){var B=h[P-1];3>E(B)||(B=[h[P][0],B[1]],3<E(B)&&(B=this.splitOnIntersections(d,B),n.push(...B)))}return n}midPointInPolygon(d,
h){return da(d,(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2)}splitOnIntersections(d,h){var n=Math.max(5,.1*E(h)),B=[];for(var P=0;P<d.length;P++){var W=d[P],wa=d[(P+1)%d.length];if(ta(W,wa,...h)&&(W=F(W,wa,h[0],h[1]))){wa=E([W,h[0]]);const pa=E([W,h[1]]);wa>n&&pa>n&&B.push({point:W,distance:wa})}}if(1<B.length){n=B.sort((pa,Ba)=>pa.distance-Ba.distance).map(pa=>pa.point);if(da(d,...h[0])||n.shift(),da(d,...h[1])||n.pop(),1>=n.length)return this.midPointInPolygon(d,h)?[h]:[];h=[h[0],...n,h[1]];n=[];for(B=
0;B<h.length-1;B+=2)P=[h[B],h[B+1]],this.midPointInPolygon(d,P)&&n.push(P);return n}return this.midPointInPolygon(d,h)?[h]:[]}}class yf extends ng{fillPolygon(d,h){return this._fillPolygon(d,h,!0)}}class Df extends ng{fillPolygon(d,h){const n=this._fillPolygon(d,h);h=Object.assign({},h,{hachureAngle:h.hachureAngle+90});d=this._fillPolygon(d,h);return n.ops=n.ops.concat(d.ops),n}}class ge{constructor(d){this.helper=d}fillPolygon(d,h){d=ka(d,h=Object.assign({},h,{curveStepCount:4,hachureAngle:0,roughness:1}));
return this.dotsOnLines(d,h)}dotsOnLines(d,h){const n=[];let B=h.hachureGap;0>B&&(B=4*h.strokeWidth);B=Math.max(B,.1);let P=h.fillWeight;0>P&&(P=h.strokeWidth/2);const W=B/4;for(const Ma of d){var wa=E(Ma);d=Math.ceil(wa/B)-1;wa-=d*B;const Fa=(Ma[0][0]+Ma[1][0])/2-B/4,hb=Math.min(Ma[0][1],Ma[1][1]);for(let jb=0;jb<d;jb++){var pa=hb+wa+jb*B,Ba=this.helper.randOffsetWithRange(Fa-W,Fa+W,h);pa=this.helper.randOffsetWithRange(pa-W,pa+W,h);Ba=this.helper.ellipse(Ba,pa,P,P,h);n.push(...Ba.ops)}}return{type:"fillSketch",
ops:n}}}class zh{constructor(d){this.helper=d}fillPolygon(d,h){d=ka(d,h);return{type:"fillSketch",ops:this.dashedLine(d,h)}}dashedLine(d,h){const n=0>h.dashOffset?0>h.hachureGap?4*h.strokeWidth:h.hachureGap:h.dashOffset,B=0>h.dashGap?0>h.hachureGap?4*h.strokeWidth:h.hachureGap:h.dashGap,P=[];return d.forEach(W=>{var wa=E(W);const pa=Math.floor(wa/(n+B));wa=(wa+B-pa*(n+B))/2;let Ba=W[0];var Ma=W[1];Ba[0]>Ma[0]&&(Ba=W[1],Ma=W[0]);W=Math.atan((Ma[1]-Ba[1])/(Ma[0]-Ba[0]));for(Ma=0;Ma<pa;Ma++){var Fa=
Ma*(n+B),hb=Fa+n;Fa=[Ba[0]+Fa*Math.cos(W)+wa*Math.cos(W),Ba[1]+Fa*Math.sin(W)+wa*Math.sin(W)];hb=[Ba[0]+hb*Math.cos(W)+wa*Math.cos(W),Ba[1]+hb*Math.sin(W)+wa*Math.sin(W)];P.push(...this.helper.doubleLineOps(Fa[0],Fa[1],hb[0],hb[1],h))}}),P}}class sd{constructor(d){this.helper=d}fillPolygon(d,h){const n=0>h.hachureGap?4*h.strokeWidth:h.hachureGap,B=0>h.zigzagOffset?n:h.zigzagOffset;d=ka(d,h=Object.assign({},h,{hachureGap:n+B}));return{type:"fillSketch",ops:this.zigzagLines(d,B,h)}}zigzagLines(d,h,
n){const B=[];return d.forEach(P=>{var W=E(P);W=Math.round(W/(2*h));let wa=P[0];var pa=P[1];wa[0]>pa[0]&&(wa=P[1],pa=P[0]);P=Math.atan((pa[1]-wa[1])/(pa[0]-wa[0]));for(pa=0;pa<W;pa++){var Ba=2*pa*h,Ma=2*(pa+1)*h,Fa=Math.sqrt(2*Math.pow(h,2));Ba=[wa[0]+Ba*Math.cos(P),wa[1]+Ba*Math.sin(P)];Ma=[wa[0]+Ma*Math.cos(P),wa[1]+Ma*Math.sin(P)];Fa=[Ba[0]+Fa*Math.cos(P+Math.PI/4),Ba[1]+Fa*Math.sin(P+Math.PI/4)];B.push(...this.helper.doubleLineOps(Ba[0],Ba[1],Fa[0],Fa[1],n),...this.helper.doubleLineOps(Fa[0],
Fa[1],Ma[0],Ma[1],n))}}),B}}const Sf={};class Ah{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Oi={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Zh={randOffset:function(d,h){return cb(d,h)},randOffsetWithRange:function(d,h,n){return db(d,h,n)},ellipse:function(d,h,n,B,P){n=ia(n,B,P);return va(d,h,P,n).opset},doubleLineOps:function(d,h,n,B,P){return Ya(d,h,n,B,P,!0)}};class ie{constructor(d){this.defaultOptions=
{maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,
d):this.defaultOptions}_d(d,h,n){return{shape:d,sets:h||[],options:n||this.defaultOptions}}line(d,h,n,B,P){P=this._o(P);return this._d("line",[{type:"path",ops:Ya(d,h,n,B,P)}],P)}rectangle(d,h,n,B,P){P=this._o(P);const W=[];var wa=Q([[d,h],[d+n,h],[d+n,h+B],[d,h+B]],!0,P);P.fill&&(d=[[d,h],[d+n,h],[d+n,h+B],[d,h+B]],"solid"===P.fillStyle?W.push(ha(d,P)):W.push(sa(d,P)));return"none"!==P.stroke&&W.push(wa),this._d("rectangle",W,P)}ellipse(d,h,n,B,P){P=this._o(P);const W=[];B=ia(n,B,P);n=va(d,h,P,B);
P.fill&&("solid"===P.fillStyle?(d=va(d,h,P,B).opset,d.type="fillPath",W.push(d)):W.push(sa(n.estimatedPoints,P)));return"none"!==P.stroke&&W.push(n.opset),this._d("ellipse",W,P)}circle(d,h,n,B){d=this.ellipse(d,h,n,n,B);return d.shape="circle",d}linearPath(d,h){h=this._o(h);return this._d("linearPath",[Q(d,!1,h)],h)}arc(d,h,n,B,P,W,wa=!1,pa){pa=this._o(pa);const Ba=[],Ma=ja(d,h,n,B,P,W,wa,!0,pa);if(wa&&pa.fill)if("solid"===pa.fillStyle)d=ja(d,h,n,B,P,W,!0,!1,pa),d.type="fillPath",Ba.push(d);else{wa=
Ba.push;{n=Math.abs(n/2);B=Math.abs(B/2);n+=cb(.01*n,pa);for(B+=cb(.01*B,pa);0>P;)P+=2*Math.PI,W+=2*Math.PI;W-P>2*Math.PI&&(P=0,W=2*Math.PI);const Fa=(W-P)/pa.curveStepCount,hb=[];for(;P<=W;P+=Fa)hb.push([d+n*Math.cos(P),h+B*Math.sin(P)]);d=(hb.push([d+n*Math.cos(W),h+B*Math.sin(W)]),hb.push([d,h]),sa(hb,pa))}wa.call(Ba,d)}return"none"!==pa.stroke&&Ba.push(Ma),this._d("arc",Ba,pa)}curve(d,h){h=this._o(h);const n=[],B=ea(d,h);h.fill&&"none"!==h.fill&&3<=d.length&&(d=H(function(P,W=0){var wa=P.length;
if(3>wa)throw Error("A curve must have at least three points.");const pa=[];if(3===wa)pa.push([...P[0]],[...P[1]],[...P[2]],[...P[2]]);else{wa=[];wa.push(P[0],P[0]);for(var Ba=1;Ba<P.length;Ba++)wa.push(P[Ba]),Ba===P.length-1&&wa.push(P[Ba]);P=[];W=1-W;pa.push([...wa[0]]);for(Ba=1;Ba+2<wa.length;Ba++){const Ma=wa[Ba];P[0]=[Ma[0],Ma[1]];P[1]=[Ma[0]+(W*wa[Ba+1][0]-W*wa[Ba-1][0])/6,Ma[1]+(W*wa[Ba+1][1]-W*wa[Ba-1][1])/6];P[2]=[wa[Ba+1][0]+(W*wa[Ba][0]-W*wa[Ba+2][0])/6,wa[Ba+1][1]+(W*wa[Ba][1]-W*wa[Ba+
2][1])/6];P[3]=[wa[Ba+1][0],wa[Ba+1][1]];pa.push(P[1],P[2],P[3])}}return pa}(d),10,(1+h.roughness)/2),"solid"===h.fillStyle?n.push(ha(d,h)):n.push(sa(d,h)));return"none"!==h.stroke&&n.push(B),this._d("curve",n,h)}polygon(d,h){h=this._o(h);const n=[],B=Q(d,!0,h);return h.fill&&("solid"===h.fillStyle?n.push(ha(d,h)):n.push(sa(d,h))),"none"!==h.stroke&&n.push(B),this._d("polygon",n,h)}path(d,h){const n=this._o(h),B=[];if(!d)return this._d("path",B,n);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g",
" ");h=n.fill&&"transparent"!==n.fill&&"none"!==n.fill;const P="none"!==n.stroke,W=!!(n.simplification&&1>n.simplification),wa=function(pa,Ba,Ma){var Fa=na(oa(fa(pa)));pa=[];let hb=[];var jb=[0,0];let kb=[];const Kb=()=>{4<=kb.length&&hb.push(...H(kb,Ba));kb=[]};for(const {key:Ib,data:nc}of Fa)switch(Ib){case "M":Kb();hb.length&&(pa.push(hb),hb=[]);jb=[nc[0],nc[1]];hb.push(jb);break;case "L":Kb();hb.push([nc[0],nc[1]]);break;case "C":kb.length||(Fa=hb.length?hb[hb.length-1]:jb,kb.push([Fa[0],Fa[1]]));
kb.push([nc[0],nc[1]]);kb.push([nc[2],nc[3]]);kb.push([nc[4],nc[5]]);break;case "Z":Kb(),hb.push([jb[0],jb[1]])}Kb();hb.length&&(pa.push(hb),hb=[]);if(!Ma)return pa;jb=[];for(const Ib of pa)pa=O(Ib,Ma),pa.length&&jb.push(pa);return jb}(d,1,W?4-4*n.simplification:(1+n.roughness)/2);if(h)if(n.combineNestedSvgPaths){const pa=[];wa.forEach(Ba=>pa.push(...Ba));"solid"===n.fillStyle?B.push(ha(pa,n)):B.push(sa(pa,n))}else wa.forEach(pa=>{"solid"===n.fillStyle?B.push(ha(pa,n)):B.push(sa(pa,n))});return P&&
(W?wa.forEach(pa=>{B.push(Q(pa,!1,n))}):B.push(function(pa,Ba){pa=na(oa(fa(pa)));const Ma=[];let Fa=[0,0],hb=[0,0];for(const {key:jb,data:kb}of pa)switch(jb){case "M":{const Kb=1*(Ba.maxRandomnessOffset||0);Ma.push({op:"move",data:kb.map(Ib=>Ib+cb(Kb,Ba))});hb=[kb[0],kb[1]];Fa=[kb[0],kb[1]];break}case "L":Ma.push(...Ya(hb[0],hb[1],kb[0],kb[1],Ba));hb=[kb[0],kb[1]];break;case "C":{const [Kb,Ib,nc,Sc,Zc,jd]=kb;Ma.push(...bc(Kb,Ib,nc,Sc,Zc,jd,hb,Ba));hb=[Zc,jd];break}case "Z":Ma.push(...Ya(hb[0],hb[1],
Fa[0],Fa[1],Ba)),hb=[Fa[0],Fa[1]]}return{type:"path",ops:Ma}}(d,n))),this._d("path",B,n)}opsToPath(d){let h="";for(const n of d.ops)switch(d=n.data,n.op){case "move":h+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":h+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":h+=`L${d[0]} ${d[1]} `}return h.trim()}toPaths(d){var h=d.sets||[];d=d.options||this.defaultOptions;const n=[];for(const B of h){h=null;switch(B.type){case "path":h={d:this.opsToPath(B),stroke:d.stroke,strokeWidth:d.strokeWidth,
fill:"none"};break;case "fillPath":h={d:this.opsToPath(B),stroke:"none",strokeWidth:0,fill:d.fill||"none"};break;case "fillSketch":h=this.fillSketch(B,d)}h&&n.push(h)}return n}fillSketch(d,h){let n=h.fillWeight;return 0>n&&(n=h.strokeWidth/2),{d:this.opsToPath(d),stroke:h.fill||"none",strokeWidth:n,fill:"none"}}}class Nl{constructor(d,h){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new ie(h)}draw(d){const h=d.sets||[],n=d.options||this.getDefaultOptions(),B=this.ctx;for(const P of h)switch(P.type){case "path":B.save();
B.strokeStyle="none"===n.stroke?"transparent":n.stroke;B.lineWidth=n.strokeWidth;n.strokeLineDash&&B.setLineDash(n.strokeLineDash);n.strokeLineDashOffset&&(B.lineDashOffset=n.strokeLineDashOffset);this._drawToContext(B,P);B.restore();break;case "fillPath":B.save();B.fillStyle=n.fill||"";this._drawToContext(B,P,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");B.restore();break;case "fillSketch":this.fillSketch(B,P,n)}}fillSketch(d,h,n){let B=n.fillWeight;0>B&&(B=n.strokeWidth/2);d.save();
n.fillLineDash&&d.setLineDash(n.fillLineDash);n.fillLineDashOffset&&(d.lineDashOffset=n.fillLineDashOffset);d.strokeStyle=n.fill||"";d.lineWidth=B;this._drawToContext(d,h);d.restore()}_drawToContext(d,h,n="nonzero"){d.beginPath();for(const B of h.ops){const P=B.data;switch(B.op){case "move":d.moveTo(P[0],P[1]);break;case "bcurveTo":d.bezierCurveTo(P[0],P[1],P[2],P[3],P[4],P[5]);break;case "lineTo":d.lineTo(P[0],P[1])}}"fillPath"===h.type?d.fill(n):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,
h,n,B,P){d=this.gen.line(d,h,n,B,P);return this.draw(d),d}rectangle(d,h,n,B,P){d=this.gen.rectangle(d,h,n,B,P);return this.draw(d),d}ellipse(d,h,n,B,P){d=this.gen.ellipse(d,h,n,B,P);return this.draw(d),d}circle(d,h,n,B){d=this.gen.circle(d,h,n,B);return this.draw(d),d}linearPath(d,h){d=this.gen.linearPath(d,h);return this.draw(d),d}polygon(d,h){d=this.gen.polygon(d,h);return this.draw(d),d}arc(d,h,n,B,P,W,wa=!1,pa){d=this.gen.arc(d,h,n,B,P,W,wa,pa);return this.draw(d),d}curve(d,h){d=this.gen.curve(d,
h);return this.draw(d),d}path(d,h){d=this.gen.path(d,h);return this.draw(d),d}}class pk{constructor(d,h){this.svg=d;this.gen=new ie(h)}draw(d){var h=d.sets||[];const n=d.options||this.getDefaultOptions(),B=this.svg.ownerDocument||window.document,P=B.createElementNS("http://www.w3.org/2000/svg","g");for(const W of h){h=null;switch(W.type){case "path":h=B.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",this.opsToPath(W));h.setAttribute("stroke",n.stroke);h.setAttribute("stroke-width",
n.strokeWidth+"");h.setAttribute("fill","none");n.strokeLineDash&&h.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim());n.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case "fillPath":h=B.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",this.opsToPath(W));h.setAttribute("stroke","none");h.setAttribute("stroke-width","0");h.setAttribute("fill",n.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||h.setAttribute("fill-rule",
"evenodd");break;case "fillSketch":h=this.fillSketch(B,W,n)}h&&P.appendChild(h)}return P}fillSketch(d,h,n){let B=n.fillWeight;0>B&&(B=n.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(h)),d.setAttribute("stroke",n.fill||""),d.setAttribute("stroke-width",B+""),d.setAttribute("fill","none"),n.fillLineDash&&d.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),
d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,h,n,B,P){d=this.gen.line(d,h,n,B,P);return this.draw(d)}rectangle(d,h,n,B,P){d=this.gen.rectangle(d,h,n,B,P);return this.draw(d)}ellipse(d,h,n,B,P){d=this.gen.ellipse(d,h,n,B,P);return this.draw(d)}circle(d,h,n,B){d=this.gen.circle(d,h,n,B);return this.draw(d)}linearPath(d,h){d=this.gen.linearPath(d,h);return this.draw(d)}polygon(d,h){d=this.gen.polygon(d,h);return this.draw(d)}arc(d,
h,n,B,P,W,wa=!1,pa){d=this.gen.arc(d,h,n,B,P,W,wa,pa);return this.draw(d)}curve(d,h){d=this.gen.curve(d,h);return this.draw(d)}path(d,h){d=this.gen.path(d,h);return this.draw(d)}}const Xf={canvas:(d,h)=>new Nl(d,h),svg:(d,h)=>new pk(d,h),generator:d=>new ie(d),newSeed:()=>ie.newSeed()};var og=function(d){return null!=d&&"text"===d.type},pg=function(d){return null!=d&&$h(d.type)},$h=function(d){return"arrow"===d||"line"===d||"draw"===d},zf=function(d){return null!=d&&"arrow"===d.type},Pi=function(d){return null!=
d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},Ue=function(d,h,n,B,P){return[(d-n)*Math.cos(P)-(h-B)*Math.sin(P)+n,(d-n)*Math.sin(P)+(h-B)*Math.cos(P)+B]},qk=function(d,h,n){return Ue(d[0],d[1],h[0],h[1],n)},wj=function(d,h,n,B,P,W,wa,pa){var Ba=Math.cos(B);B=Math.sin(B);return d.e&&d.w?h+=P+wa:d.e?(h+=P*(1+Ba),n+=P*B,h+=wa*(1-Ba),n+=wa*-B):d.w&&(h+=P*(1-Ba),n+=P*-B,h+=wa*(1+Ba),n+=wa*B),d.n&&d.s?n+=W+pa:d.n?(h+=W*B,n+=W*(1-Ba),h+=pa*-B,n+=pa*(1+Ba)):d.s&&(h+=
W*-B,n+=W*(1+Ba),h+=pa*B,n+=pa*(1-Ba)),[h,n]},bj=function(d,h){if(void 0===h&&(h=1),3<=d.length){var n=[d[0],d[d.length-1]];d=n[0];n=n[1];return Math.hypot(n[0]-d[0],n[1]-d[1])<=Qa.qx/h}return!1},cj=function(d,h,n){var B=d.length;if(3>B)return!1;var P=[Number.MAX_SAFE_INTEGER,n];h=[h,n];for(var W=n=0;W<B;W++){var wa=d[W],pa=d[(W+1)%B],Ba=wa,Ma=pa,Fa=h,hb=P,jb=zi(Ba,Ma,Fa),kb=zi(Ba,Ma,hb),Kb=zi(Fa,hb,Ba),Ib=zi(Fa,hb,Ma);if(jb!==kb&&Kb!==Ib||0===jb&&xj(Ba,Fa,Ma)||0===kb&&xj(Ba,hb,Ma)||0===Kb&&xj(Fa,
Ba,hb)||0===Ib&&xj(Fa,Ma,hb)){if(0===zi(wa,h,pa))return xj(wa,h,pa);n++}}return 1==n%2},xj=function(d,h,n){return h[0]<=Math.max(d[0],n[0])&&h[0]>=Math.min(d[0],n[0])&&h[1]<=Math.max(d[1],n[1])&&h[1]>=Math.min(d[1],n[1])},zi=function(d,h,n){d=(h[1]-d[1])*(n[0]-h[0])-(h[0]-d[0])*(n[1]-h[1]);return 0===d?0:0<d?1:2},ch=function(d,h,n){return n?[Math.round(d/n)*n,Math.round(h/n)*n]:[d,h]},oi=function(d,h,n){var B=n.map(function(Ba){return Ba[d]}),P=Math.max.apply(Math,B);B=Math.min.apply(Math,B);P-=B;
var W=0===P?1:h/P,wa=1/0;h=n.map(function(Ba){return Ba.map(function(Ma,Fa){if(Fa!==d)return Ma;Ma*=W;return wa=Math.min(Ma,wa),Ma})});if(2===h.length)return h;var pa=B-wa;return h.map(function(Ba){return Ba.map(function(Ma,Fa){return Fa===d?Ma+pa:Ma})})},Jf=function(d){return pg(d)?wl(d):[d.x,d.y,d.x+d.width,d.y+d.height]},bi=function(d){for(var h=0,n=d.sets;h<n.length;h++){var B=n[h];if("path"===B.type)return B.ops}return d.sets[0].ops},fl=function(d,h){var n=[0,0];d=d.reduce(function(B,P){var W,
wa=P.op;P=P.data;if("move"===wa)n=P;else if("bcurveTo"===wa){var pa=[P[0],P[1]],Ba=[P[2],P[3]],Ma=[P[4],P[5]],Fa=n;n=Ma;wa=function(kb,Kb){return Math.pow(1-kb,3)*Ma[Kb]+3*kb*Math.pow(1-kb,2)*Ba[Kb]+3*Math.pow(kb,2)*(1-kb)*pa[Kb]+Fa[Kb]*Math.pow(kb,3)};for(P=0;1>=P;){var hb=wa(P,0),jb=wa(P,1);h&&(hb=(W=h(hb,jb))[0],jb=W[1]);B.minY=Math.min(B.minY,jb);B.minX=Math.min(B.minX,hb);B.maxX=Math.max(B.maxX,hb);B.maxY=Math.max(B.maxY,jb);P+=.1}}return B},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[d.minX,
d.minY,d.maxX,d.maxY]},wl=function(d){if(2>d.points.length||!qi.get(d)){var h=d.points.reduce(function(n,B){var P=B[0];B=B[1];return n.minY=Math.min(n.minY,B),n.minX=Math.min(n.minX,P),n.maxX=Math.max(n.maxX,P),n.maxY=Math.max(n.maxY,B),n},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[h.minX+d.x,h.minY+d.y,h.maxX+d.x,h.maxY+d.y]}h=qi.get(d);h=bi(h[0]);h=fl(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]},yj=function(d){var h=Jf(d),n=h[0],B=h[1],P=h[2],W=h[3];h=(n+P)/2;var wa=(B+W)/2;if(pg(d))return function(hb,
jb,kb){if(2>hb.points.length||!qi.get(hb)){var Kb=hb.points.reduce(function(Ib,nc){var Sc,Zc=nc[0];nc=nc[1];return Zc=(Sc=Ue(hb.x+Zc,hb.y+nc,jb,kb,hb.angle))[0],nc=Sc[1],Ib.minY=Math.min(Ib.minY,nc),Ib.minX=Math.min(Ib.minX,Zc),Ib.maxX=Math.max(Ib.maxX,Zc),Ib.maxY=Math.max(Ib.maxY,nc),Ib},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Kb.minX,Kb.minY,Kb.maxX,Kb.maxY]}Kb=qi.get(hb);Kb=bi(Kb[0]);return fl(Kb,function(Ib,nc){return Ue(hb.x+Ib,hb.y+nc,jb,kb,hb.angle)})}(d,h,wa);if("diamond"===d.type){B=
Ue(h,B,h,wa,d.angle);var pa=B[0];B=B[1];W=Ue(h,W,h,wa,d.angle);var Ba=W[0];W=W[1];var Ma=Ue(n,wa,h,wa,d.angle);n=Ma[0];Ma=Ma[1];wa=Ue(P,wa,h,wa,d.angle);h=wa[0];wa=wa[1];return[Math.min(pa,Ba,n,h),Math.min(B,W,Ma,wa),Math.max(pa,Ba,n,h),Math.max(B,W,Ma,wa)]}if("ellipse"===d.type)return P=(P-n)/2,pa=(W-B)/2,B=Math.cos(d.angle),Ba=Math.sin(d.angle),d=Math.hypot(P*B,pa*Ba),P=Math.hypot(pa*B,P*Ba),[h-d,wa-P,h+d,wa+P];Ba=Ue(n,B,h,wa,d.angle);pa=Ba[0];Ba=Ba[1];Ma=Ue(n,W,h,wa,d.angle);n=Ma[0];Ma=Ma[1];var Fa=
Ue(P,W,h,wa,d.angle);W=Fa[0];Fa=Fa[1];wa=Ue(P,B,h,wa,d.angle);h=wa[0];wa=wa[1];return[Math.min(pa,n,W,h),Math.min(Ba,Ma,Fa,wa),Math.max(pa,n,W,h),Math.max(Ba,Ma,Fa,wa)]},Yf=function(d){if(!d.length)return[0,0,0,0];var h=1/0,n=-1/0,B=1/0,P=-1/0;return d.forEach(function(W){W=yj(W);var wa=W[1],pa=W[2],Ba=W[3];h=Math.min(h,W[0]);B=Math.min(B,wa);n=Math.max(n,pa);P=Math.max(P,Ba)}),[h,B,n,P]},hh=function(d,h,n){if(!pg(d))return[d.x,d.y,d.x+h,d.y+n];h=oi(0,h,oi(1,n,d.points));n=Xf.generator();h="sharp"===
d.strokeSharpness?n.linearPath(h,di(d)):n.curve(h,di(d));h=bi(h);h=fl(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]},Td=function(d,h,n){var B=Xf.generator();h="sharp"===n?B.linearPath(h,di(d)):B.curve(h,di(d));h=bi(h);h=fl(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]};const Wd=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var lh=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Ig=function(d){return[Wd.Q6[d],Wd.iQ[d],Wd.pl[d],Wd.ht[d],Wd.QN[d],Wd.iN[d],Wd.sl[d],Wd.$C[d],Wd.ek[d],Wd.LR[d],Wd.er[d],Wd.$y[d]]};const qg={canvasBackground:lh([Wd.ix,Wd.MA[0],Wd.MA[1]],Ig(0)),elementBackground:lh(["transparent",Wd.MA[4],Wd.MA[6]],Ig(6)),elementStroke:lh([Wd.Sn,Wd.MA[8],Wd.MA[7]],Ig(9))};var Ug=g(6207),zg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),zj=/^Win/.test(window.navigator.platform),
we=zg?"metaKey":"ctrlKey",ci=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},Vj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},Bh=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},Ch=function(d){var h=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(Qa.ut[h],", ").concat(Qa._D))},Jg=function(d,
h){var n=document.createElement("div"),B=document.body;n.style.position="absolute";n.style.whiteSpace="pre";n.style.font=h;B.appendChild(n);n.innerText=d.split("\n").map(function(P){return P||" "}).join("\n");d=n.offsetWidth;h=n.offsetHeight;B=document.createElement("span");B.style.display="inline-block";B.style.overflow="hidden";B.style.width="1px";B.style.height="1px";n.appendChild(B);B=B.offsetTop+B.offsetHeight;return document.body.removeChild(n),{width:d,height:h,baseline:B}},dj=function(d,h){var n,
B=0,P=function(){for(var W=[],wa=0;wa<arguments.length;wa++)W[wa]=arguments[wa];n=W;clearTimeout(B);B=window.setTimeout(function(){return d.apply(void 0,W)},h)};return P.flush=function(){clearTimeout(B);n&&d.apply(void 0,n)},P.cancel=function(){clearTimeout(B)},P},Rh=function(d){d&&(d.style.cursor="")},pi=function(d,h){d&&(d.style.cursor=h)},Kf=function(d,h){d&&("selection"===h?Rh(d):d.style.cursor=Qa.oc.CROSSHAIR)},mh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===
d?void 0:d.nodeName)},td=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),zg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},Zf=function(d,h){var n=h.zoom,B=1/n.value;return{x:(d.clientX-n.translation.x-h.offsetLeft)*B-h.scrollX,y:(d.clientY-n.translation.y-h.offsetTop)*B-h.scrollY}},rg=function(d,h){var n=h.zoom;return{x:(d.sceneX+h.scrollX+h.offsetLeft)*
n.value+n.translation.x,y:(d.sceneY+h.scrollY+h.offsetTop)*n.value+n.translation.y}},ej=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},sg=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),fj=function(d){return{x:d[0],y:d[1]}},vk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},cf=function(d){return function(h){(0,Ug.unstable_batchedUpdates)(d,h)}},Lf=function(d,h){var n,B=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(n=B.length-1;0<n&&!(d>=B[n].value);n--);return(d/B[n].value).toFixed(h).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+B[n].symbol},vg=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||Qa.eQ},uh=function(){var d=new Map,h=Qa.rk,n=Qa.n5,B=Wd.Sn,P=Qa.Hg,W=window.innerHeight,wa="".concat(Jb("labels.untitled"),"-"),pa=wa.concat;var Ba=new Date;var Ma=Ba.getFullYear();var Fa="".concat(Ba.getMonth()+
1).padStart(2,"0"),hb="".concat(Ba.getDate()).padStart(2,"0"),jb="".concat(Ba.getHours()).padStart(2,"0");Ba="".concat(Ba.getMinutes()).padStart(2,"0");Ma="".concat(Ma,"-").concat(Fa,"-").concat(hb,"-").concat(jb).concat(Ba);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:h,currentItemFontSize:n,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:B,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:P,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:W,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:pa.call(wa,Ma),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Wd.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},$f={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},gl=function(d,h){for(var n={},B=0,P=
Object.keys(d);B<P.length;B++){var W=P[B],wa=$f[W];null!=wa&&wa[h]&&(n[W]=d[W])}return n},em=uh(),xl=[12,8],Ik=[3,6],gm=function(d,h,n){switch(n.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":h.draw(qi.get(d));break;case "arrow":case "draw":case "line":qi.get(d).forEach(function(hb){h.draw(hb)});break;default:if(!og(d))throw Error("Unimplemented type ".concat(d.type));var B=sg.test(d.text),P=B&&!n.canvas.isConnected;P&&document.body.appendChild(n.canvas);n.canvas.setAttribute("dir",
B?"rtl":"ltr");B=n.font;n.font=Ch(d);var W=n.fillStyle;n.fillStyle=d.strokeColor;var wa=n.textAlign;n.textAlign=d.textAlign;var pa=d.text.replace(/\r\n?/g,"\n").split("\n"),Ba=d.height/pa.length,Ma=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var Fa=0;Fa<pa.length;Fa++)n.fillText(pa[Fa],d,(Fa+1)*Ba-Ma);n.fillStyle=W;n.font=B;n.textAlign=wa;P&&n.canvas.remove()}n.globalAlpha=1},fm=new WeakMap,qi=new WeakMap,di=function(d){var h={seed:d.seed,strokeLineDash:"dashed"===
d.strokeStyle?xl:"dotted"===d.strokeStyle?Ik:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return h.fillStyle=d.fillStyle,h.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(h.curveFitting=1),h;case "line":case "draw":return bj(d.points)&&
(h.fillStyle=d.fillStyle,h.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),h;case "arrow":return h;default:throw Error("Unimplemented type ".concat(d.type));}},Ai=function(d,h){var n=qi.get(d)||null;if(!n){switch(fm.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){n=d.width;var B=d.height,P=.25*Math.min(n,B);n=h.path("M ".concat(P," 0 L ").concat(n-P," 0 Q ").concat(n," 0, ").concat(n," ").concat(P," L ").concat(n," ").concat(B-P," Q ").concat(n," ").concat(B,", ").concat(n-
P," ").concat(B," L ").concat(P," ").concat(B," Q 0 ").concat(B,", 0 ").concat(B-P," L 0 ").concat(P," Q 0 0, ").concat(P," 0"),di(d))}else n=h.rectangle(0,0,d.width,d.height,di(d));break;case "diamond":n=function(wa){var pa=Math.floor(wa.width/2)+1,Ba=Math.floor(wa.height/2)+1;return[pa,0,wa.width,Ba,pa,wa.height,0,Ba]}(d);n=h.polygon([[n[0],n[1]],[n[2],n[3]],[n[4],n[5]],[n[6],n[7]]],di(d));break;case "ellipse":n=h.ellipse(d.width/2,d.height/2,d.width,d.height,di(d));break;case "line":case "draw":case "arrow":var W=
di(d);n=d.points.length?d.points:[[0,0]];if(n="sharp"===d.strokeSharpness?W.fill?[h.polygon(n,W)]:[h.linearPath(n,W)]:[h.curve(n,W)],"arrow"===d.type){B=d.startArrowhead;B=void 0===B?null:B;P=d.endArrowhead;P=void 0===P?"arrow":P;function wa(pa,Ba,Ma,Fa){Ba=function(Kb,Ib,nc,Sc){Ib=bi(Ib[0]);if(1>Ib.length)return null;var Zc="start"===nc?1:Ib.length-1,jd=Ib[Zc].data,me=[jd[4],jd[5]],ke=[jd[2],jd[3]],xe=[jd[0],jd[1]];Ib=Ib[Zc-1];var pe=[0,0];"move"===Ib.op?pe=Ib.data:"bcurveTo"===Ib.op&&(pe=[Ib.data[4],
Ib.data[5]]);Zc=function(md,Id){return Math.pow(1-md,3)*me[Id]+3*md*Math.pow(1-md,2)*ke[Id]+3*Math.pow(md,2)*(1-md)*xe[Id]+pe[Id]*Math.pow(md,3)};Ib="start"===nc?pe:me;nc=Ib[0];Ib=Ib[1];jd=[Zc(.3,0),Zc(.3,1)];Zc=jd[0];jd=jd[1];var Oe=Math.hypot(nc-Zc,Ib-jd);Zc=(nc-Zc)/Oe;jd=(Ib-jd)/Oe;Oe={arrow:30,bar:15,dot:15}[Sc];Kb=Kb.points.reduce(function(md,Id,Xd,Be){Xd=0<Xd?Be[Xd-1]:[0,0];return md+Math.hypot(Id[0]-Xd[0],Id[1]-Xd[1])},0);Oe=Math.min(Oe,Kb/2);Kb=nc-Zc*Oe;Zc=Ib-jd*Oe;if("dot"===Sc)return[nc,
Ib,Math.hypot(Zc-Ib,Kb-nc)];jd={arrow:20,bar:90}[Sc];Oe=Ue(Kb,Zc,nc,Ib,-jd*Math.PI/180);Sc=Oe[0];Oe=Oe[1];Kb=Ue(Kb,Zc,nc,Ib,jd*Math.PI/180);return[nc,Ib,Sc,Oe,Kb[0],Kb[1]]}(pa,Ba,Ma,Fa);if(null===Ba)return[];if("dot"===Fa)return[h.circle(Ba[0],Ba[1],Ba[2],Eb(Eb({},W),{},{fill:pa.strokeColor,fillStyle:"solid"}))];Fa=Ba[0];Ma=Ba[1];var hb=Ba[2],jb=Ba[3],kb=Ba[4];Ba=Ba[5];return"dotted"===pa.strokeStyle?W.strokeLineDash=[3,4]:delete W.strokeLineDash,[h.line(hb,jb,Fa,Ma,W),h.line(kb,Ba,Fa,Ma,W)]}null!==
B&&(B=wa(d,n,"start",B),n.push.apply(n,B));null!==P&&(B=wa(d,n,"end",P),n.push.apply(n,B))}break;case "text":n=[]}qi.set(d,n)}},Fm=function(d,h,n,B,P){var W=h.generator;switch(d.type){case "selection":n.translate(d.x+P.scrollX,d.y+P.scrollY);h=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)";n.fillRect(0,0,d.width,d.height);n.fillStyle=h;n.translate(-d.x-P.scrollX,-d.y-P.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Ai(d,W),B){h=P?
P.zoom:em.zoom;W=(B=fm.get(d))&&B.canvasZoom!==h.value&&!(null!=P&&P.shouldCacheIgnoreZoom);if(!B||W){B=document.createElement("canvas");W=B.getContext("2d");var wa=0,pa=0;if(pg(d)){wa=Jf(d);var Ba=wa[0];pa=wa[1];var Ma=wa[3];B.width=Math.abs(Ba-wa[2])*window.devicePixelRatio*h.value+40*h.value;B.height=Math.abs(pa-Ma)*window.devicePixelRatio*h.value+40*h.value;wa=d.x>Ba?Math.floor(Math.abs(d.x-Ba))*window.devicePixelRatio*h.value:0;pa=d.y>pa?Math.floor(Math.abs(d.y-pa))*window.devicePixelRatio*h.value:
0;W.translate(wa,pa)}else B.width=d.width*window.devicePixelRatio*h.value+40*h.value,B.height=d.height*window.devicePixelRatio*h.value+40*h.value;W.translate(20*h.value,20*h.value);W.scale(window.devicePixelRatio*h.value,window.devicePixelRatio*h.value);Ba=Xf.canvas(B);h=(gm(d,Ba,W),W.translate(-20*h.value,-20*h.value),W.scale(1/(window.devicePixelRatio*h.value),1/(window.devicePixelRatio*h.value)),{element:d,canvas:B,canvasZoom:h.value,canvasOffsetX:wa,canvasOffsetY:pa});d=(fm.set(d,h),h)}else d=
B;h=d.element;wa=Jf(h);B=wa[0];W=wa[1];pa=wa[2];wa=wa[3];Ba=((B+pa)/2+P.scrollX)*window.devicePixelRatio;P=((W+wa)/2+P.scrollY)*window.devicePixelRatio;n.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);n.translate(Ba,P);n.rotate(h.angle);n.drawImage(d.canvas,-(pa-B)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(wa-W)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);n.rotate(-h.angle);n.translate(-Ba,-P);n.scale(window.devicePixelRatio,
window.devicePixelRatio);!0}else W=Jf(d),pa=W[0],B=W[1],wa=W[2],Ba=W[3],W=(pa+wa)/2+P.scrollX,P=(B+Ba)/2+P.scrollY,pa=(wa-pa)/2-(d.x-pa),B=(Ba-B)/2-(d.y-B),n.translate(W,P),n.rotate(d.angle),n.translate(-pa,-B),gm(d,h,n),n.translate(pa,B),n.rotate(-d.angle),n.translate(-W,-P);break;default:throw Error("Unimplemented type ".concat(d.type));}},Lg=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return d.mapElementToScene=function(h,
n){"string"==typeof h?this.sceneMapById.set(h,n):this.sceneMapByElement.set(h,n)},d.getScene=function(h){return"string"==typeof h?this.sceneMapById.get(h)||null:this.sceneMapByElement.get(h)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(h){return this.elementsMap.get(h)||null},d.prototype.getNonDeletedElement=function(h){return(h=this.getElement(h))&&!h.isDeleted?h:
null},d.prototype.getNonDeletedElements=function(h){var n=this,B=[];return h.forEach(function(P){P=n.getNonDeletedElement(P);null!=P&&B.push(P)}),B},d.prototype.replaceAllElements=function(h){var n=this;this.elements=h;this.elementsMap.clear();h.forEach(function(B){n.elementsMap.set(B.id,B);d.mapElementToScene(B,n)});this.nonDeletedElements=Sd(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var h=0,n=Array.from(this.callbacks);h<n.length;h++)(0,n[h])()},d.prototype.addCallback=
function(h){var n=this;if(this.callbacks.has(h))throw Error();return this.callbacks.add(h),function(){if(!n.callbacks.has(h))throw Error();n.callbacks.delete(h)}},d.prototype.destroy=function(){var h=this;d.sceneMapById.forEach(function(n,B){n===h&&d.sceneMapById.delete(B)});this.callbacks.clear()},d}();Lg.sceneMapByElement=new WeakMap;Lg.sceneMapById=new Map;var Ol=new Ah(Date.now()),pf=function(){return Math.floor(Ol.next()*Math.pow(2,31))},Xj=function(){return((d=21)=>{let h="",n=crypto.getRandomValues(new Uint8Array(d));
for(;d--;){let B=63&n[d];h+=36>B?B.toString(36):62>B?(B-26).toString(36).toUpperCase():63>B?"_":"-"}return h})()},Gd=function(d,h){var n,B=!1,P=h.points,W;for(W in void 0!==P&&(h=gb(gb({},function(kb){var Kb=kb.map(function(Ib){return Ib[0]});kb=kb.map(function(Ib){return Ib[1]});return{width:Math.max.apply(Math,Kb)-Math.min.apply(Math,Kb),height:Math.max.apply(Math,kb)-Math.min.apply(Math,kb)}}(P)),h)),h){var wa=h[W];if(void 0!==wa&&(d[W]!==wa||"object"==typeof wa&&null!==wa&&"groupIds"!==W)){if("points"===
W){var pa=d[W],Ba=wa;if(pa.length===Ba.length){for(var Ma=!1,Fa=pa.length;--Fa;){var hb=pa[Fa],jb=Ba[Fa];if(hb[0]!==jb[0]||hb[1]!==jb[1]){Ma=!0;break}}if(!Ma)continue}}d[W]=wa;B=!0}}B&&(void 0===h.height&&void 0===h.width&&void 0===P||qi.delete(d),d.version++,d.versionNonce=pf(),null===(n=Lg.getScene(d))||void 0===n||n.informMutation())},wf=function(d,h){return gb(gb(gb({},d),h),{},{version:d.version+1,versionNonce:pf()})},Sh=function(d){return pg(d)?2>d.points.length:0===d.width&&0===d.height},Mg=
function(d,h,n){var B=Math.abs(h),P=Math.abs(n);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(P/B)/Qa.ay)*Qa.ay,0===d?n=0:d===Math.PI/2?h=0:n=Math.round(B*Math.tan(d))*Math.sign(n)||n):"selection"!==d&&(n=B*Math.sign(n));return{width:h,height:n}},hj=function(d){var h={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var n=Math.abs(d.width);h.width=n;h.x=d.x-n}0>d.height&&(n=Math.abs(d.height),h.height=n,h.y=d.y-n);return h},Aj=g(5474),si=g.n(Aj),hl=function(d,h){for(var n=0,
B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Bj=function(d,h,n){var B,P;n=n.filter(function(W){return W.groupIds.includes(d)});return 2>n.length?h.selectedGroupIds[d]||h.editingGroupId===d?Ja(Ja({},h),{},{selectedGroupIds:Ja(Ja({},h.selectedGroupIds),{},(B={},B[d]=!1,B)),editingGroupId:null}):h:Ja(Ja({},h),{},{selectedGroupIds:Ja(Ja({},h.selectedGroupIds),{},(P={},P[d]=!0,P)),selectedElementIds:Ja(Ja({},h.selectedElementIds),Object.fromEntries(n.map(function(W){return[W.id,!0]})))})},Di=
function(d,h){return h.groupIds.filter(function(n){return n!==d.editingGroupId}).find(function(n){return d.selectedGroupIds[n]})},Si=function(d){return Object.entries(d.selectedGroupIds).filter(function(h){h[0];return h[1]}).map(function(h){var n=h[0];h[1];return n})},Zj=function(d,h){for(var n=Ja({},d),B=0,P=df(h,d);B<P.length;B++){var W=P[B].groupIds;if(d.editingGroupId){var wa=W.indexOf(d.editingGroupId);-1<wa&&(W=W.slice(0,wa))}0<W.length&&(n=Bj(W[W.length-1],n,h))}return n},Ke=function(d,h){return d.filter(function(n){return n.groupIds.includes(h)})},
ak=function(d,h){var n,B,P=h.x,W=h.y,wa=h.strokeColor,pa=h.backgroundColor,Ba=h.fillStyle,Ma=h.strokeWidth,Fa=h.strokeStyle,hb=h.roughness,jb=h.opacity,kb=h.width;kb=void 0===kb?0:kb;var Kb=h.height;Kb=void 0===Kb?0:Kb;var Ib=h.angle;Ib=void 0===Ib?0:Ib;var nc=h.groupIds;nc=void 0===nc?[]:nc;var Sc=h.strokeSharpness,Zc=h.boundElementIds;Zc=void 0===Zc?null:Zc;h=si()(h,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:h.id||Xj(),type:d,x:P,y:W,width:kb,height:Kb,angle:Ib,strokeColor:wa,backgroundColor:pa,fillStyle:Ba,strokeWidth:Ma,strokeStyle:Fa,roughness:hb,opacity:jb,groupIds:nc,strokeSharpness:Sc,seed:null!==(n=h.seed)&&void 0!==n?n:pf(),version:h.version||1,versionNonce:null!==(B=h.versionNonce)&&void 0!==B?B:0,isDeleted:!1,boundElementIds:Zc}},Pl=function(d){return ak(d.type,d)},Ti=function(d,h){return{x:"center"===d.textAlign?h.width/2:"right"===d.textAlign?h.width:0,y:"middle"===d.verticalAlign?
h.height/2:0}},bk=function(d){var h=Jg(d.text,Ch(d)),n=Ti(d,h);return wf(Ca(Ca({},ak("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-n.x,y:d.y-n.y,width:h.width,height:h.height,baseline:h.baseline}),{})},Hi=function(d){return Ca(Ca({},ak(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},fi=function(d,h){if(void 0===
h&&(h=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var n="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},B;for(B in d)d.hasOwnProperty(B)&&(0!==h||"shape"!==B&&"canvas"!==B)&&(n[B]=fi(d[B],h+1));return n}if(Array.isArray(d)){n=d.length;for(B=Array(n);n--;)B[n]=fi(d[n],h+1);return B}return d},Ii=function(d,h,n,B){n=fi(n);return n.id=Xj(),n.seed=pf(),n.groupIds=function(P,W,wa){var pa=hl([],P);W=W?P.indexOf(W):-1;P=-1<
W?W:P.length;for(W=0;W<P;W++)pa[W]=wa(pa[W]);return pa}(n.groupIds,d,function(P){return h.has(P)||h.set(P,Xj()),h.get(P)}),B&&(n=Object.assign(n,B)),n},te={mouse:8,pen:16,touch:28},zl={e:!0,s:!0,n:!0,w:!0},Im={e:!0,s:!0,n:!0,w:!0},ck={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},Cj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},Kg=function(d,h,n,B,P,W,wa){d=Ue(d+n/2,h+B/2,P,W,wa);return[d[0]-n/2,d[1]-B/2,n,B]},uk=function(d,h,n,B,P){var W=d[0],wa=d[1],pa=d[2];d=d[3];void 0===P&&(P={});var Ba=te[B];B=Ba/n.value;var Ma=Ba/
n.value,Fa=Ba/n.value,hb=Ba/n.value,jb=pa-W,kb=d-wa,Kb=(W+pa)/2,Ib=(wa+d)/2,nc=4/n.value;Ba=(Ba-8)/(2*n.value);var Sc={nw:P.nw?void 0:Kg(W-nc-Fa+Ba,wa-nc-hb+Ba,B,Ma,Kb,Ib,h),ne:P.ne?void 0:Kg(pa+nc-Ba,wa-nc-hb+Ba,B,Ma,Kb,Ib,h),sw:P.sw?void 0:Kg(W-nc-Fa+Ba,d+nc-Ba,B,Ma,Kb,Ib,h),se:P.se?void 0:Kg(pa+nc-Ba,d+nc-Ba,B,Ma,Kb,Ib,h),rotation:P.rotation?void 0:Kg(W+jb/2-B/2,wa-nc-hb+Ba-16/n.value,B,Ma,Kb,Ib,h)};n=5*te.mouse/n.value;return Math.abs(jb)>n&&(P.n||(Sc.n=Kg(W+jb/2-B/2,wa-nc-hb+Ba,B,Ma,Kb,Ib,h)),
P.s||(Sc.s=Kg(W+jb/2-B/2,d+nc-Ba,B,Ma,Kb,Ib,h))),Math.abs(kb)>n&&(P.w||(Sc.w=Kg(W-nc-Fa+Ba,wa+kb/2-Ma/2,B,Ma,Kb,Ib,h)),P.e||(Sc.e=Kg(pa+nc-Ba,wa+kb/2-Ma/2,B,Ma,Kb,Ib,h))),Sc},gj=function(d,h,n){void 0===n&&(n="mouse");var B={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var P=d.points[1];0===P[0]||0===P[1]?B=Cj:0<P[0]&&0>P[1]?B=ck:0<P[0]&&0<P[1]?B=Cj:0>P[0]&&0<P[1]?B=ck:0>P[0]&&0>P[1]&&(B=Cj)}}else"text"===d.type&&(B=Im);return uk(Jf(d),d.angle,h,n,B)},ti=function(d,
h){return[0,0,0,0,h,d,1,0]},Bg=function(d,h){void 0===d&&(d=0);void 0===h&&(h=0);var n=[0,0,0,0,0,0,0,0];if(0>h||7<h)throw Error("Expected `index` betwen 0 and 7, got `".concat(h,"`"));return 0!==d&&(n[h]=d),n},gi=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},wk=function(d,h){return"number"==typeof h?[d[0]-h,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-h[0],d[1]-h[1],d[2]-h[2],d[3]-h[3],d[4]-h[4],d[5]-h[5],d[6]-h[6],d[7]-h[7]]},zk=function(d,h){return"number"==typeof h?[d[0]*h,d[1]*
h,d[2]*h,d[3]*h,d[4]*h,d[5]*h,d[6]*h,d[7]*h]:[h[0]*d[0]+h[2]*d[2]+h[3]*d[3]-h[6]*d[6],h[1]*d[0]+h[0]*d[1]-h[4]*d[2]+h[5]*d[3]+h[2]*d[4]-h[3]*d[5]-h[7]*d[6]-h[6]*d[7],h[2]*d[0]+h[0]*d[2]-h[6]*d[3]+h[3]*d[6],h[3]*d[0]+h[6]*d[2]+h[0]*d[3]-h[2]*d[6],h[4]*d[0]+h[2]*d[1]-h[1]*d[2]+h[7]*d[3]+h[0]*d[4]+h[6]*d[5]-h[5]*d[6]+h[3]*d[7],h[5]*d[0]-h[3]*d[1]+h[7]*d[2]+h[1]*d[3]-h[6]*d[4]+h[0]*d[5]+h[4]*d[6]+h[2]*d[7],h[6]*d[0]+h[3]*d[2]-h[2]*d[3]+h[0]*d[6],h[7]*d[0]+h[6]*d[1]+h[5]*d[2]+h[4]*d[3]+h[3]*d[4]+h[2]*
d[5]+h[1]*d[6]+h[0]*d[7]]},ek=function(d,h){return[Fj(d,h),d[1]*h[7]+d[4]*h[5]-d[5]*h[4]+d[7]*h[1],d[2]*h[7]-d[4]*h[6]+d[6]*h[4]+d[7]*h[2],d[3]*h[7]+d[5]*h[6]-d[6]*h[5]+d[7]*h[3],d[4]*h[7]+d[7]*h[4],d[5]*h[7]+d[7]*h[5],d[6]*h[7]+d[7]*h[6],d[7]*h[7]]},Fj=function(d,h){return d[0]*h[7]+d[1]*h[6]+d[2]*h[5]+d[3]*h[4]+d[4]*h[3]+d[5]*h[2]+d[6]*h[1]+d[7]*h[0]},lm=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},Qi=function(d){var h=lm(d);return 0===h||1===h?d:zk(d,(0>d[6]?
-1:1)/h)},xk=(Bg(1,1),Bg(1,2),Bg(1,3),Bg(1,4),Bg(1,5),Bg(1,6),Bg(1,7),function(d,h,n){return Qi([0,n,d,h,0,0,0,0])}),kj=function(d,h){return n=d,[(B=h)[0]*n[0]+B[2]*n[2]+B[3]*n[3]-B[6]*n[6],B[1]*n[0]+B[0]*n[1]-B[4]*n[2]+B[5]*n[3]+B[2]*n[4]-B[3]*n[5]-B[7]*n[6]-B[6]*n[7],B[2]*n[0]+B[0]*n[2]-B[6]*n[3]+B[3]*n[6],B[3]*n[0]+B[6]*n[2]+B[0]*n[3]-B[2]*n[6],B[4]*n[0]+B[7]*n[3]+B[0]*n[4]+B[3]*n[7],B[5]*n[0]+B[7]*n[2]+B[0]*n[5]+B[2]*n[7],B[6]*n[0]+B[0]*n[6],B[7]*n[0]+B[0]*n[7]];var n,B},dk=function(d){return[0,
0,0,0,d[1],d[0],1,0]},Eh=function(d){return[d[5],d[4]]},hi=function(d,h){return n=zk(d,Math.sin(h/2)),B=Math.cos(h/2),"number"==typeof B?[n[0]+B,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+B[0],n[1]+B[1],n[2]+B[2],n[3]+B[3],n[4]+B[4],n[5]+B[5],n[6]+B[6],n[7]+B[7]];var n,B},ui=function(d,h){return Qi(zk(zk(d,h),gi(d)))},Lk=function(d,h,n,B){var P=10/h.zoom.value;return!Ej(d,h,[n,B])&&nm(d,[n,B],P)},Ej=function(d,h,n){h=10/h.zoom.value;if("text"===d.type)var B=pm;else"arrow"===d.type?B=!1:(B="transparent"!==
d.backgroundColor,B="line"===d.type||"draw"===d.type?B&&bj(d.points):B),B=B?Ck:yk;return jj({element:d,point:n,threshold:h,check:B})},nm=function(d,h,n){var B=h[0],P=h[1],W=Jf(d);h=W[0];var wa=W[1],pa=W[2];W=W[3];B=Ue(B,P,(h+pa)/2,(wa+W)/2,-d.angle);d=B[0];B=B[1];return d>h-n&&d<pa+n&&B>wa-n&&B<W+n},om=function(d,h){var n=h.x;h=h.y;var B=Dj(d,d.width,d.height);return jj({element:d,point:[n,h],threshold:B,check:kn})},Dj=function(d,h,n){return Math.max(16,Math.min(.25*("diamond"===d.type?1/Math.sqrt(2):
1)*Math.min(h,n),32))},jj=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var h=Hm(d.element,d.point);return d.check(h,d.threshold);case "arrow":case "line":case "draw":return Vg(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Hm=function(d,h){switch(d.type){case "rectangle":case "text":var n=Tg(d,h),B=n[1],P=n[2];d=Math;h=d.max;n=xk(0,1,-n[3]);n=Fj(B,n);P=xk(1,0,-P);B=Fj(B,P);return h.call(d,
n,B);case "diamond":return B=Tg(d,h),d=B[1],h=B[2],B=B[3],h=xk(B,h,-B*h),Fj(d,h);case "ellipse":return d=im(d,h),h=d[1],-Math.sign(h[1])*Fj(d[0],h)}},pm=function(d,h){return 0>d},Ck=function(d,h){return d<h},yk=function(d,h){return Math.abs(d)<h},kn=function(d,h){return 0<=d&&d<h},im=function(d,h){h=Tg(d,h);d=h[1];var n=h[2],B=h[3];h=Eh(d);var P=h[0],W=h[1],wa=.707,pa=.707;[0,1,2,3].forEach(function(Ba){Ba=(n*n-B*B)*Math.pow(wa,3)/n;var Ma=(B*B-n*n)*Math.pow(pa,3)/B,Fa=P-Ba,hb=W-Ma,jb=Math.hypot(B*
pa-Ma,n*wa-Ba),kb=Math.hypot(hb,Fa);wa=Math.min(1,Math.max(0,(Fa*jb/kb+Ba)/n));pa=Math.min(1,Math.max(0,(hb*jb/kb+Ma)/B));Ba=Math.hypot(pa,wa);wa/=Ba;pa/=Ba});h=ti(n*wa,B*pa);return[d,kj(Qi(ek(h,d)),h)]},Vg=function(d){var h=d.element,n=d.threshold;if(!qi.get(h))return!1;var B=Tg(d.element,d.point),P=B[0],W=B[1],wa=B[2];B=xk(0,1,-B[3]);wa=xk(1,0,-wa);if(!Ck(Fj(W,B),n)||!Ck(Fj(W,wa),n))return!1;P=Eh(P);var pa=P[0],Ba=P[1];P=qi.get(h);return d.check===Ck&&P.some(function(Ma){var Fa=h.strokeSharpness;
var hb=[],jb=!1,kb=0;for(Ma=bi(Ma);kb<Ma.length;kb++){var Kb=Ma[kb];"move"===Kb.op?(jb=!jb)&&hb.push([Kb.data[0],Kb.data[1]]):"bcurveTo"===Kb.op&&jb&&(hb.push([Kb.data[0],Kb.data[1]]),hb.push([Kb.data[2],Kb.data[3]]),hb.push([Kb.data[4],Kb.data[5]]))}4<=hb.length?"sharp"===Fa?Fa=cj(hb,pa,Ba):(Fa=H(hb,10,5),Fa=cj(Fa,pa,Ba)):Fa=!1;return Fa})?!0:P.some(function(Ma){return Ff(Ma,pa,Ba,n)})},Tg=function(d,h){var n,B=dk(h);h=Jf(d);var P=Gj(h),W=hi(P,d.angle);B=ui(W,B);P=wk(B,[0,0,0,0,P[4],P[5],0,0]);P=
[0,0,0,0,Math.abs(P[4]),Math.abs(P[5]),1,0];d=(n=d.x,[0,0,0,0,d.y,n,0,0]);return[wk(B,d),P,(h[2]-h[0])/2,(h[3]-h[1])/2]},Ag=function(d){var h=Jf(d);h=Gj(h);d=hi(h,d.angle);h=[0,0,0,0,h[4],h[5],0,0];h=gi([1,0,0,0,-.5*h[5],.5*h[4],0,0]);return zk(h,d)},Gj=function(d){return ti((d[0]+d[2])/2,(d[1]+d[3])/2)},Sg=function(d,h,n,B){switch(void 0===B&&(B=0),d.type){case "rectangle":case "text":case "diamond":var P=ai(d);var W=P.flatMap(function(wa,pa){pa=[wa,P[(pa+1)%4]];var Ba=B;wa=pa[0];pa=pa[1];var Ma=
[0,0,0,0,pa[4]-wa[4],pa[5]-wa[5],0,0];var Fa=Math.sqrt(Math.abs(Ma[7]*Ma[7]-Ma[5]*Ma[5]-Ma[4]*Ma[4]+Ma[1]*Ma[1]));Ma=0===Fa||1===Fa?Ma:zk(Ma,1/Fa);Ba*=.5;Ba=[1,0,0,0,Ba*Ma[4],Ba*Ma[5],0,0];pa=[ui(Ba,wa),ui(Ba,pa)];wa=pa[0];pa=pa[1];if(0<=Fj(wa,h)*Fj(pa,h))var hb=[];else{a:{wa=Qi(ek(pa,wa));wa=Qi((hb=h,[(jb=wa)[0]*hb[0],jb[1]*hb[0]+jb[0]*hb[1],jb[2]*hb[0]+jb[0]*hb[2],jb[3]*hb[0]+jb[0]*hb[3],jb[4]*hb[0]+jb[2]*hb[1]-jb[1]*hb[2]+jb[0]*hb[4],jb[5]*hb[0]-jb[3]*hb[1]+jb[1]*hb[3]+jb[0]*hb[5],jb[6]*hb[0]+
jb[3]*hb[2]-jb[2]*hb[3]+jb[0]*hb[6],jb[7]*hb[0]+jb[6]*hb[1]+jb[5]*hb[2]+jb[4]*hb[3]+jb[3]*hb[4]+jb[2]*hb[5]+jb[1]*hb[6]]));break a;var jb}hb=[wa]}return hb}).concat(P.flatMap(function(wa){var pa=B;if(0===pa)var Ba=0===Fj(h,wa)?[wa]:[];else{Ba=h[2];var Ma=h[3],Fa=h[1],hb=Eh(wa);wa=hb[0];var jb=hb[1];hb=Ba*Ba+Ma*Ma;pa=pa*pa*hb-Math.pow(Ba*wa+Ma*jb+Fa,2);if(0===hb||0>=pa)Ba=[];else{pa=Math.sqrt(pa);var kb=wa*Ma*Ma-jb*Ba*Ma-Ba*Fa;Fa=jb*Ba*Ba-wa*Ba*Ma-Ma*Fa;Ba=[ti((kb+Ma*pa)/hb,(Fa-Ba*pa)/hb),ti((kb-Ma*
pa)/hb,(Fa+Ba*pa)/hb)]}}return Ba}));break;case "ellipse":W=vf(d,B,h)}if(2>W.length)return[];d=W.sort(function(wa,pa){return lm(ek(wa,n))-lm(ek(pa,n))});return[d[0],d[d.length-1]]},ai=function(d,h){void 0===h&&(h=1);var n=h*d.width/2;h=h*d.height/2;switch(d.type){case "rectangle":case "text":return[ti(n,h),ti(n,-h),ti(-n,-h),ti(-n,h)];case "diamond":return[ti(0,h),ti(n,0),ti(0,-h),ti(-n,0)]}},vf=function(d,h,n){var B=d.width/2+h;d=d.height/2+h;h=n[2];var P=n[3],W=n[1];n=B*B*h*h+d*d*P*P;var wa=n-W*
W;if(0===n||0>=wa)return[];wa=Math.sqrt(wa);var pa=-B*B*h*W;W*=-d*d*P;return[ti((pa+B*d*P*wa)/n,(W-B*d*h*wa)/n),ti((pa-B*d*P*wa)/n,(W+B*d*h*wa)/n)]},Gm=function(d,h,n){var B=Math.sign(h),P=0,W=null;return ai(d,Math.abs(h)).forEach(function(wa){var pa=B*Qi(ek(wa,n))[1];pa>P&&(P=pa,W=wa)}),W},Ff=function(d,h,n,B){var P=[0,0];return bi(d).some(function(W,wa){wa=W.op;var pa=W.data;if("move"===wa)P=pa;else if("bcurveTo"===wa){W=[pa[0],pa[1]];wa=[pa[2],pa[3]];pa=[pa[4],pa[5]];var Ba=P;return P=pa,function(Ma,
Fa,hb,jb,kb,Kb){var Ib=kb[0];kb=kb[1];for(var nc=function(me,ke){return Math.pow(1-me,3)*jb[ke]+3*me*Math.pow(1-me,2)*hb[ke]+3*Math.pow(me,2)*(1-me)*Fa[ke]+Ma[ke]*Math.pow(me,3)},Sc=0;1>=Sc;){var Zc=nc(Sc,0),jd=nc(Sc,1);if(Math.sqrt(Math.pow(Zc-Ib,2)+Math.pow(jd-kb,2))<Kb)return!0;Sc+=.01}return!1}(Ba,W,wa,pa,[h,n],B)}return!1})},rk=function(d,h,n){return h>=d[0]&&h<=d[0]+d[2]&&n>=d[1]&&n<=d[1]+d[3]},Sl=function(d,h,n,B,P,W){return d.reduce(function(wa,pa){return wa?wa:(wa=function(Ba,Ma,Fa,hb,jb,
kb){if(!Ma.selectedElementIds[Ba.id])return!1;Ba=gj(Ba,jb,kb);Ma=Ba.rotation;var Kb=si()(Ba,["rotation"]);if(Ma&&rk(Ma,Fa,hb))return"rotation";Ba=Object.keys(Kb).filter(function(Ib){Ib=Kb[Ib];return!!Ib&&rk(Ib,Fa,hb)});return 0<Ba.length&&Ba[0]}(pa,h,n,B,P,W))?{element:pa,transformHandleType:wa}:null},null)},lj=function(d,h,n,B,P){var W=uk([d[0],d[1],d[2],d[3]],0,B,P,zl);return Object.keys(W).find(function(wa){return(wa=W[wa])&&rk(wa,h,n)})||!1},Ng=["ns","nesw","ew","nwse"],Og=function(d){var h=d.element,
n=h&&-1==Math.sign(h.height)*Math.sign(h.width),B=null;switch(d.transformHandleType){case "n":case "s":B="ns";break;case "w":case "e":B="ew";break;case "nw":case "se":B=n?"nesw":"nwse";break;case "ne":case "sw":B=n?"nwse":"nesw";break;case "rotation":return"grab"}B&&h&&(d=B,h=h.angle,n=Ng.indexOf(d),0<=n&&(d=Ng[(n+Math.round(h/(Math.PI/4)))%Ng.length]),B=d);return B?"".concat(B,"-resize"):""},mj=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},ag=function(){function d(h,
n){this.elementId=h.id;Lg.mapElementToScene(this.elementId,n);d.normalizePoints(h);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(h){var n;return(null===(n=Lg.getScene(h))||void 0===n?void 0:n.getNonDeletedElement(h))||null},d.handlePointDragging=function(h,n,B,P,W){if(!h.editingLinearElement)return!1;var wa=h.editingLinearElement,pa=wa.activePointIndex,Ba=wa.isDragging,
Ma=d.getElement(wa.elementId);return Ma?null!=pa&&-1<pa?(!1===Ba&&n({editingLinearElement:ab(ab({},wa),{},{isDragging:!0})}),h=d.createPointAt(Ma,B-wa.pointerOffset.x,P-wa.pointerOffset.y,h.gridSize),d.movePoint(Ma,pa,h),zf(Ma)&&W(Ma,0===pa?"start":"end"),!0):!1:!1},d.handlePointerUp=function(h,n,B){h=n.activePointIndex;var P=n.isDragging,W=d.getElement(n.elementId);if(!W)return n;var wa={};!P||0!==h&&h!==W.points.length-1||(bj(W.points,B.zoom.value)&&d.movePoint(W,h,0===h?W.points[W.points.length-
1]:W.points[0]),P=B.isBindingEnabled?ph(fj(d.getPointAtIndexGlobalCoordinates(W,h)),Lg.getScene(W)):null,(B={})[0===h?"startBindingElement":"endBindingElement"]=P,wa=B);return ab(ab(ab({},n),wa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(h,n,B,P,W){var wa={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return wa;var pa=d.getElement(n.editingLinearElement.elementId);if(!pa)return wa;if(h.altKey)return null==n.editingLinearElement.lastUncommittedPoint&&Gd(pa,
{points:mj(mj([],pa.points),[d.createPointAt(pa,W.x,W.y,n.gridSize)])}),P.resumeRecording(),B({editingLinearElement:ab(ab({},n.editingLinearElement),{},{activePointIndex:pa.points.length-1,lastUncommittedPoint:null,endBindingElement:ph(W,Lg.getScene(pa))})}),wa.didAddPoint=!0,wa;h=d.getPointIndexUnderCursor(pa,n.zoom,W.x,W.y);if(-1<h)wa.hitElement=pa;else{var Ba=n.editingLinearElement;P=Ba.startBindingElement;Ba=Ba.endBindingElement;n.isBindingEnabled&&zf(pa)&&Gf(pa,P,Ba)}Ba=Jf(pa);P=(Ba[0]+Ba[2])/
2;Ba=(Ba[1]+Ba[3])/2;pa=-1<h&&Ue(pa.x+pa.points[h][0],pa.y+pa.points[h][1],P,Ba,pa.angle);return B({editingLinearElement:ab(ab({},n.editingLinearElement),{},{activePointIndex:-1<h?h:null,pointerOffset:pa?{x:W.x-pa[0],y:W.y-pa[1]}:{x:0,y:0}})}),wa},d.handlePointerMove=function(h,n,B,P,W){var wa=P.lastUncommittedPoint,pa=d.getElement(P.elementId);if(!pa)return P;var Ba=pa.points,Ma=Ba[Ba.length-1];if(!h.altKey)return Ma===wa&&d.movePoint(pa,Ba.length-1,"delete"),ab(ab({},P),{},{lastUncommittedPoint:null});
h=d.createPointAt(pa,n-P.pointerOffset.x,B-P.pointerOffset.y,W);return Ma===wa?d.movePoint(pa,pa.points.length-1,h):d.movePoint(pa,"new",h),ab(ab({},P),{},{lastUncommittedPoint:pa.points[pa.points.length-1]})},d.getPointsGlobalCoordinates=function(h){var n=Jf(h),B=(n[0]+n[2])/2,P=(n[1]+n[3])/2;return h.points.map(function(W){var wa;return[(wa=Ue(h.x+W[0],h.y+W[1],B,P,h.angle))[0],wa[1]]})},d.getPointAtIndexGlobalCoordinates=function(h,n){var B=0>n?h.points.length+n:n;n=Jf(h);B=h.points[B];return Ue(h.x+
B[0],h.y+B[1],(n[0]+n[2])/2,(n[1]+n[3])/2,h.angle)},d.pointFromAbsoluteCoords=function(h,n){var B=Jf(h);n=Ue(n[0],n[1],(B[0]+B[2])/2,(B[1]+B[3])/2,-h.angle);return[n[0]-h.x,n[1]-h.y]},d.getPointIndexUnderCursor=function(h,n,B,P){h=this.getPointsGlobalCoordinates(h);for(var W=h.length;-1<--W;){var wa=h[W];if(Math.hypot(wa[0]-B,wa[1]-P)*n.value<this.POINT_HANDLE_SIZE/2+1)return W}return-1},d.createPointAt=function(h,n,B,P){n=ch(n,B,P);B=Jf(h);n=Ue(n[0],n[1],(B[0]+B[2])/2,(B[1]+B[3])/2,-h.angle);return[n[0]-
h.x,n[1]-h.y]},d.normalizePoints=function(h){var n=h.points,B=n[0][0],P=n[0][1];Gd(h,{points:n.map(function(W,wa){return[W[0]-B,W[1]-P]}),x:h.x+B,y:h.y+P})},d.movePointByOffset=function(h,n,B){var P=h.points[n];d.movePoint(h,n,[P[0]+B.x,P[1]+B.y])},d.movePoint=function(h,n,B,P){var W=h.points,wa=0,pa=0;if("delete"===B){if("new"===n)throw Error("invalid args in movePoint");(B=W.slice()).splice(n,1);0===n&&(wa=B[0][0],pa=B[0][1],B=B.map(function(hb,jb){return 0===jb?[0,0]:[hb[0]-wa,hb[1]-pa]}))}else if("new"===
n)B=mj(mj([],W),[B]);else{var Ba=B[0]-W[n][0],Ma=B[1]-W[n][1];B=W.map(function(hb,jb){return jb===n?0===jb?(wa=Ba,pa=Ma,hb):(wa=0,pa=0,[hb[0]+Ba,hb[1]+Ma]):wa||pa?[hb[0]-wa,hb[1]-pa]:hb})}var Fa=Td(h,B,h.strokeSharpness||"round");W=Td(h,W,h.strokeSharpness||"round");W=Ue(wa,pa,(W[0]+W[2])/2-(Fa[0]+Fa[2])/2,(W[1]+W[3])/2-(Fa[1]+Fa[3])/2,h.angle);Gd(h,ab(ab({},P),{},{points:B,x:h.x+W[0],y:h.y+W[1]}))},d}();ag.POINT_HANDLE_SIZE=20;var qm=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=
h[n];return d},Gf=function(d,h,n){var B=new Set,P=new Set;kg(d,h,n,"start",B,P);kg(d,n,h,"end",B,P);h=Array.from(P).filter(function(W){return!B.has(W)});Lg.getScene(d).getNonDeletedElements(h).forEach(function(W){var wa;Gd(W,{boundElementIds:null===(wa=W.boundElementIds)||void 0===wa?void 0:wa.filter(function(pa){return pa!==d.id})})})},kg=function(d,h,n,B,P,W){if("keep"!==h)if(null!=h)null!=n&&("keep"===n?rf(d,h,B):"start"!==B&&n.id===h.id)||(mk(d,h,B),P.add(h.id));else{var wa;h="start"===B?"startBinding":
"endBinding";n=d[h];d=null==n?null:(Gd(d,((wa={})[h]=null,wa)),n.elementId);null!=d&&W.add(d)}},lg=function(d){d.forEach(function(h){zf(h)?Gf(h,Dg(h,"start"),Dg(h,"end")):Pi(h)&&il(h)})},il=function(d){Hh(d).forEach(function(h){var n=h[1];return Gf(h[0],"end"===n?"keep":d,"start"===n?"keep":d)})},Hj=function(d,h,n,B){null!=h.startBoundElement&&mk(d,h.startBoundElement,"start");h=ph(B,n);null==h||rf(d,h,"end")||mk(d,h,"end")},mk=function(d,h,n){var B,P;Gd(d,((B={})["start"===n?"startBinding":"endBinding"]=
function(W){for(var wa=1;wa<arguments.length;wa++){var pa=null!=arguments[wa]?arguments[wa]:{};wa%2?Fb(Object(pa),!0).forEach(function(Ba){ve()(W,Ba,pa[Ba])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(pa)):Fb(Object(pa)).forEach(function(Ba){Object.defineProperty(W,Ba,Object.getOwnPropertyDescriptor(pa,Ba))})}return W}({elementId:h.id},Fe(d,h,n)),B));Gd(h,{boundElementIds:Array.from(new Set(qm(qm([],null!==(P=h.boundElementIds)&&void 0!==P?P:[]),[d.id])))})},
rf=function(d,h,n){n=d["start"===n?"endBinding":"startBinding"];return(null==n?void 0:n.elementId)===h.id&&3>d.points.length},xh=function(d){d.forEach(function(h){zf(h)&&Gf(h,null,null)})},ph=function(d,h){return yi(h.getElements(),function(n){return Pi(n)&&om(n,d)})},Fe=function(d,h,n){var B="start"===n?-1:1;n=-1===B?0:d.points.length-1;B=n-B;n=ag.getPointAtIndexGlobalCoordinates(d,n);B=ag.getPointAtIndexGlobalCoordinates(d,B);a:{d=Ag(h);B=ui(d,dk(B));d=ui(d,dk(n));var P=Qi(ek(d,B));d=h.height/h.width;
B=h.width/2;var W=h.height/2,wa=P[2],pa=P[3];P=P[1];var Ba=Math.abs(pa),Ma=Math.abs(wa);switch(h.type){case "rectangle":case "text":d=P/(B*(Ma+d*Ba));break a;case "diamond":d=Ba<Ma?P/(Ma*B):P/(Ba*W);break a;case "ellipse":d=P/(B*Math.sqrt(Math.pow(wa,2)+Math.pow(d,2)*Math.pow(pa,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,Hm(h,n))}},Vh=function(d,h){var n,B=null!==(n=d.boundElementIds)&&void 0!==n?n:[];if(0!==B.length){h=null!=h?h:{};var P=h.newSize,W=Ei(h.simultaneouslyUpdated);Lg.getScene(d).getNonDeletedElements(B).forEach(function(wa){var pa,
Ba;if((null===(pa=wa.startBinding)||void 0===pa?void 0:pa.elementId)===d.id||(null===(Ba=wa.endBinding)||void 0===Ba?void 0:Ba.elementId)===d.id)pa=qf(d,wa.startBinding,P),Ba=qf(d,wa.endBinding,P),W.has(wa.id)?Gd(wa,{startBinding:pa,endBinding:Ba}):(xm(wa,"start",pa,d),xm(wa,"end",Ba,d))})}},Ei=function(d){return new Set((d||[]).map(function(h){return h.id}))},xm=function(d,h,n,B){var P;if(!(null==n||n.elementId!==B.id&&2<d.points.length)){var W=Lg.getScene(d).getElement(n.elementId);if(null!=W){var wa=
"start"===h?-1:1;B=-1===wa?0:d.points.length-1;var pa=ag.getPointAtIndexGlobalCoordinates(d,B-wa);wa=function(Ba,Ma,Fa){if(0===Ma){var hb=Jf(Ba);hb=Gj(hb);return Eh(hb)}hb=Ag(Ba);Fa=ui(hb,dk(Fa));hb=gi(hb);switch(Ba.type){case "rectangle":case "text":case "diamond":var jb=Gm(Ba,Ma,Fa);break;case "ellipse":var kb=Math.abs(Ma);jb=Ba.width*kb/2;Ba=Ba.height*kb/2;Ma=Math.sign(Ma);kb=Eh(Fa);Fa=kb[0];kb=kb[1];kb=0===kb?1E-4:kb;var Kb=Math.pow(Fa,2)*Math.pow(Ba,2)+Math.pow(kb,2)*Math.pow(jb,2);Ma=(-Fa*Math.pow(Ba,
2)+Ma*kb*Math.sqrt(Math.max(0,Kb-Math.pow(jb,2)*Math.pow(Ba,2))))/Kb;Fa=(-Ma*Fa-1)/kb;jb=-Math.pow(jb,2)*Ma/(Math.pow(Fa,2)*Math.pow(Ba,2)+Math.pow(Ma,2)*Math.pow(jb,2));jb=ti(jb,(-Ma*jb-1)/Fa)}return Eh(ui(hb,jb))}(W,n.focus,pa);0===n.gap?W=wa:(W=function(Ba,Ma,Fa,hb){void 0===hb&&(hb=0);var jb=Ag(Ba);Ma=ui(jb,dk(Ma));Fa=ui(jb,dk(Fa));Fa=Qi(ek(Fa,Ma));var kb=gi(jb);return Sg(Ba,Fa,Ma,hb).map(function(Kb){return Eh(ui(kb,Kb))})}(W,pa,wa,n.gap),W=0===W.length?wa:W[0]);ag.movePoint(d,B,ag.pointFromAbsoluteCoords(d,
W),((P={})["start"===h?"startBinding":"endBinding"]=n,P))}}},qf=function(d,h,n){if(null==h||null==n)return h;var B=h.gap,P=h.focus,W=n.width;n=n.height;var wa=d.width,pa=d.height;return{elementId:h.elementId,gap:Math.max(1,Math.min(Dj(d,W,n),B*(W<n?W/wa:n/pa))),focus:P}},bn=function(d){return[Dg(d,"start"),Dg(d,"end")].filter(function(h){return null!=h})},Dg=function(d,h){return ph(fj(ag.getPointAtIndexGlobalCoordinates(d,"start"===h?0:-1)),Lg.getScene(d))},Hh=function(d){return Lg.getScene(d).getElements().map(function(h){if(!zf(h))return null;
var n=Nf(h,"start",d),B=Nf(h,"end",d);return n||B?[h,n&&B?"both":n?"start":"end",d]:null}).filter(function(h){return null!=h})},Nf=function(d,h,n){return null==d["start"===h?"startBinding":"endBinding"]&&!rf(d,n,h)&&om(n,fj(ag.getPointAtIndexGlobalCoordinates(d,"start"===h?0:-1)))},el=function(d,h,n,B){var P=new Set,W=new Set,wa="duplicatesServeAsOld"===B;h.forEach(function(pa){var Ba=pa.boundElementIds;if(null!=Ba&&0<Ba.length&&(Ba.forEach(function(Ma){wa&&!n.has(Ma)&&P.add(Ma)}),W.add(n.get(pa.id))),
zf(pa))null!=pa.startBinding&&(Ba=pa.startBinding.elementId,wa&&!n.has(Ba)&&W.add(Ba)),null!=pa.endBinding&&(Ba=pa.endBinding.elementId,wa&&!n.has(Ba)&&W.add(Ba)),null==pa.startBinding&&null==pa.endBinding||P.add(n.get(pa.id))});d.filter(function(pa){return P.has(pa.id)}).forEach(function(pa){var Ba=pa.endBinding;Gd(pa,{startBinding:Zg(pa.startBinding,n),endBinding:Zg(Ba,n)})});d.filter(function(pa){return W.has(pa.id)}).forEach(function(pa){var Ba=pa.boundElementIds;null!=Ba&&0<Ba.length&&Gd(pa,
{boundElementIds:Ba.map(function(Ma){var Fa;return null!==(Fa=n.get(Ma))&&void 0!==Fa?Fa:Ma})})})},Zg=function(d,h){var n;if(null==d)return null;var B=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(n=h.get(B))&&void 0!==n?n:B}},li=function(d,h){var n=new Set(h.map(function(P){return P.id})),B=new Set;h.forEach(function(P){var W;Pi(P)&&(null===(W=P.boundElementIds)||void 0===W||W.forEach(function(wa){n.has(wa)||B.add(wa)}))});d.filter(function(P){return B.has(P.id)}).forEach(function(P){var W=
P.endBinding;Gd(P,{startBinding:Jl(P.startBinding,n),endBinding:Jl(W,n)})})},Jl=function(d,h){return null==d||h.has(d.elementId)?null:d},qj=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},mf=function(d){return d>=2*Math.PI?d-2*Math.PI:d},af=function(d,h,n){return pg(d)?{points:oi(0,h,oi(1,n,d.points))}:{}},$g=function(d,h,n){h=h/d.width*d.fontSize;if(1>h)return null;d=Jg(d.text,Ch({fontSize:h,fontFamily:d.fontFamily}));return{size:h,baseline:d.baseline+(n-d.height)}},
tl=function(d,h,n,B){var P=Yf(d),W=P[0],wa=P[1],pa=P[2],Ba=P[3];switch(h){case "se":var Ma=Math.max((n-W)/(pa-W),(B-wa)/(Ba-wa));var Fa=function(jb,kb,Kb){var Ib=kb[0];kb=kb[1];return{x:jb.x+(Ib-W)*(Ma-1)+Ib-Kb[0],y:jb.y+(kb-wa)*(Ma-1)+kb-Kb[1]}};break;case "nw":Ma=Math.max((pa-n)/(pa-W),(Ba-B)/(Ba-wa));Fa=function(jb,kb,Kb){var Ib=kb[2];kb=kb[3];return{x:jb.x-(pa-Ib)*(Ma-1)+Ib-Kb[2],y:jb.y-(Ba-kb)*(Ma-1)+kb-Kb[3]}};break;case "ne":Ma=Math.max((n-W)/(pa-W),(Ba-B)/(Ba-wa));Fa=function(jb,kb,Kb){var Ib=
kb[0];kb=kb[3];return{x:jb.x+(Ib-W)*(Ma-1)+Ib-Kb[0],y:jb.y-(Ba-kb)*(Ma-1)+kb-Kb[3]}};break;case "sw":Ma=Math.max((pa-n)/(pa-W),(B-wa)/(Ba-wa)),Fa=function(jb,kb,Kb){var Ib=kb[1];kb=kb[2];return{x:jb.x-(pa-kb)*(Ma-1)+kb-Kb[2],y:jb.y+(Ib-wa)*(Ma-1)+Ib-Kb[1]}}}if(0<Ma){var hb=d.reduce(function(jb,kb){if(!jb)return jb;var Kb=kb.width*Ma,Ib=kb.height*Ma,nc={};if("text"===kb.type){nc=$g(kb,Kb,Ib);if(null===nc)return null;nc={fontSize:nc.size,baseline:nc.baseline}}var Sc=Jf(kb),Zc=af(kb,Kb,Ib);Vh(kb,{newSize:{width:Kb,
height:Ib},simultaneouslyUpdated:d});var jd=hh(Zb(Zb({},kb),Zc),Kb,Ib);Sc=Fa(kb,Sc,jd);kb=Sc.x;Sc=Sc.y;return qj(qj([],jb),[Zb(Zb({width:Kb,height:Ib,x:kb,y:Sc},Zc),nc)])},[]);hb&&d.forEach(function(jb,kb){Gd(jb,hb[kb])})}},kk=function(d,h,n,B,P,W,wa){var pa=5*Math.PI/2+Math.atan2(B-wa,n-W);P&&(pa+=Qa.ay/2,pa-=pa%Qa.ay);h.forEach(function(Ba,Ma){var Fa,hb,jb=Jf(Ba);Ma=(jb[0]+jb[2])/2;jb=(jb[1]+jb[3])/2;var kb=null!==(Fa=null===(hb=d.originalElements.get(Ba.id))||void 0===hb?void 0:hb.angle)&&void 0!==
Fa?Fa:Ba.angle;Fa=Ue(Ma,jb,W,wa,pa+kb-Ba.angle);Gd(Ba,{x:Ba.x+(Fa[0]-Ma),y:Ba.y+(Fa[1]-jb),angle:mf(pa+kb)})})},Lh=function(d,h,n,B,P,W,wa,pa,Ba,Ma){var Fa;Ba&&(wa=(Fa=Mg(h,wa,W<B?-pa:pa)).width,0>(pa=Fa.height)&&(pa=-pa));h=P<n?n-wa:n;W=W<B?B-pa:B;Ma&&(h=n-(wa+=wa)/2,W=B-(pa+=pa)/2);0!==wa&&0!==pa&&Gd(d,{x:h,y:W,width:wa,height:pa})},lk=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},Zk=function(d){var h=Jg(d.text,Ch(d));Gd(d,{width:h.width,height:h.height,baseline:h.baseline})},
Ef=function(d,h){return!(d.viewModeEnabled||!d.editingElement&&!df(h,d).length&&"selection"===d.elementType)},Fh=function(d){return d.filter(function(h){return h.isDeleted||!Sh(h)})},Gh=function(d){return d.reduce(function(h,n){return h[n.id]=n,h},{})},Al=function(d){return d.reduce(function(h,n){return h+n.version},0)},Sd=function(d){return d.filter(function(h){return!h.isDeleted})},xg=function(d){return Sd(d).map(function(h){return $h(h.type)?Ec(Ec({},h),{},{lastCommittedPoint:null}):h})},sl=function(d,
h,n){var B=[d.horizontal,d.vertical].map(function(P){return null!=P&&P.x<=h&&h<=P.x+P.width&&P.y<=n&&n<=P.y+P.height});d=B[0];B=B[1];return{isOverEither:d||B,isOverHorizontal:d,isOverVertical:B}},Eg=function(d,h){return d.some(function(n){return h.selectedElementIds[n.id]})},df=function(d,h){return d.filter(function(n){return h.selectedElementIds[n.id]})},nj=function(d,h){return h.editingElement?[h.editingElement]:df(d,h)},Bi=function(d){var h=d.scenePoint,n=d.viewportDimensions;d=d.zoom;return{scrollX:n.width/
2*(1/d.value)-h.x-1/d.value*d.translation.x,scrollY:n.height/2*(1/d.value)-h.y-1/d.value*d.translation.y}},mi=function(d,h,n){var B;if(!d.length)return{scrollX:0,scrollY:0};var P=Yf(d);n=P[0];var W=P[1],wa=P[2];P=P[3];return function(pa,Ba,Ma){Ba=Ma[2];var Fa=Ma[3],hb=rg({sceneX:Ma[0],sceneY:Ma[1]},pa);Ma=hb.x;hb=hb.y;Ba=rg({sceneX:Ba,sceneY:Fa},pa);Fa=Ba.y;return Ba.x-Ma>pa.width||Fa-hb>pa.height}(h,0,[n,W,wa,P])&&(n=(B=function(pa,Ba){if(!pa.length)return[0,0,0,0];var Ma=1/0,Fa=pa[0];return pa.forEach(function(hb){var jb=
yj(hb);jb=Math.hypot(Ba.x-(jb[0]+jb[2])/2,Ba.y-(jb[1]+jb[3])/2);jb<Ma&&(Ma=jb,Fa=hb)}),yj(Fa)}(d,Zf({clientX:h.scrollX,clientY:h.scrollY},h)))[0],W=B[1],wa=B[2],P=B[3]),Bi({scenePoint:{x:(n+wa)/2,y:(W+P)/2},viewportDimensions:{width:h.width,height:h.height},zoom:h.zoom})},Ij=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Bf=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},rj=function(d){return"rectangle"===
d||"arrow"===d||"draw"===d||"line"===d},yi=function(d,h){for(var n=null,B=d.length-1;0<=B;--B){var P=d[B];if(!P.isDeleted&&h(P)){n=P;break}}return n},qh=function(d,h,n,B){return void 0===B&&(B={x:0,y:0}),{value:d,translation:{x:B.x-n.left-d/h.value*(B.x-n.left-h.translation.x),y:B.y-n.top-d/h.value*(B.y-n.top-h.translation.y)}}},Nj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},Qe=(g(9478),R().forwardRef(function(d,h){var n=R().useRef(null);R().useImperativeHandle(h,function(){return n.current});
h="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?R().createElement("button",{className:Dc("ToolIcon_type_button",h,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:n},R().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&R().createElement("span",
{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&R().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):R().createElement("label",{className:Dc("ToolIcon",d.className),title:d.title},R().createElement("input",{className:"ToolIcon_type_radio ".concat(h),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:n}),R().createElement("div",
{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&R().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));Qe.defaultProps={visible:!0,className:""};var Fg=function(d){return"light"===d?Wd.$y[4]:Wd.$y[9]},ee=function(d){return"light"===d?Wd.Sn:Wd.MA[4]},Wg=function(d){return"light"===d?Wd.ix:"#1e1e1e"},be=function(d,h){void 0===h&&(h=512);h="number"==typeof h?{width:h}:h;var n=h.width;n=void 0===n?512:n;var B=h.height;B=void 0===B?n:B;var P=h.mirror;h=h.style;return R().createElement("svg",
{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(n," ").concat(B),className:Dc({"rtl-mirror":P}),style:h},"string"==typeof d?R().createElement("path",{fill:"currentColor",d}):d)},$k=be("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),he=be("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Oj=be("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),Gk=be("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),$i=be("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Fi=be("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Pj=be("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
Ki=be("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Zi=be("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),fd=be("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Jd=be("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),gd=be("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
kd=be("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),jh=be("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),Qf=be("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),Kl=(be("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),be("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),be(R().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),Gg=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,
null,R().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ee(d),stroke:ee(d),strokeWidth:"2"}),R().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Yh=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,
null,R().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"}),R().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ee(d),stroke:ee(d),strokeWidth:"2"})),{width:24,mirror:!0})}),ul=R().memo(function(d){d=d.appearance;
return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:ee(d),stroke:ee(d),strokeWidth:"2"}),R().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Qc=R().memo(function(d){d=d.appearance;
return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Fg(d),stroke:Fg(d),strokeLinejoin:"round",strokeWidth:"2"}),R().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:ee(d),stroke:ee(d),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),
wd=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 2,5 H 22",fill:ee(d),stroke:ee(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:Fg(d),
stroke:Fg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Mh=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 2,19 H 22",fill:ee(d),stroke:ee(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Uc=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 5,2 V 22",fill:ee(d),stroke:ee(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24})}),jl=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 19,2 V 22",fill:ee(d),stroke:ee(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24})}),Uf=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M5 5V19Z",fill:"black"}),R().createElement("path",{d:"M19 5V19M5 5V19",stroke:ee(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24})}),Nh=R().memo(function(d){d=
d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M5 5L19 5M5 19H19",fill:ee(d),stroke:ee(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24})}),rh=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"}),R().createElement("path",{d:"M 2,12 H 22",fill:ee(d),stroke:ee(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),aj=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"}),R().createElement("path",{d:"M 12,2 V 22",fill:ee(d),stroke:ee(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),oe=be("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),sj=(be("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),be("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),be("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),Qj=be("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),yg=be("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Ed=be("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),If=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M25 26H111V111H25",
fill:ee(d)}),R().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ee(d),strokeWidth:"2"}),R().createElement("path",{d:"M100 100H160V160H100",fill:ee(d)}),R().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:ee(d),strokeWidth:"2"}),R().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"}),R().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),
vi=R().memo(function(d){d=d.appearance;return be(R().createElement(R().Fragment,null,R().createElement("path",{d:"M25 26H111V111H25",fill:ee(d)}),R().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:ee(d),strokeWidth:"2"}),R().createElement("path",{d:"M100 100H160V160H100",fill:ee(d)}),R().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:ee(d),strokeWidth:"2"}),
R().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"}),R().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"}),R().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",
fill:Wg(d),stroke:ee(d),strokeWidth:"6"}),R().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Wg(d),stroke:ee(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),tj=R().memo(function(d){d=d.appearance;return be(R().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:ee(d)}),{width:40,height:20})}),Od=R().memo(function(d){d=d.appearance;return be(R().createElement("g",{fill:ee(d),fillRule:"evenodd",clipRule:"evenodd"},R().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),R().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),vl=R().memo(function(d){d=d.appearance;return be(R().createElement("path",{d:"M2 2H38V18H2V2Z",fill:ee(d)}),{width:40,height:20})}),cg=R().memo(function(d){var h=d.appearance;d=d.strokeWidth;return be(R().createElement("path",{d:"M6 10H34",stroke:ee(h),strokeWidth:d,fill:"none"}),{width:40,height:20})}),Ih=R().memo(function(d){d=d.appearance;return be(R().createElement("path",{d:"M6 10H34",stroke:ee(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Tl=R().memo(function(d){d=
d.appearance;return be(R().createElement("path",{d:"M6 10H34",stroke:ee(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),Ui=R().memo(function(d){d=d.appearance;return be(R().createElement("path",{d:"M6 10H34",stroke:ee(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Ph=R().memo(function(d){d=d.appearance;return be(R().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:ee(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Bl=R().memo(function(d){d=d.appearance;return be(R().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:ee(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),nk=R().memo(function(d){d=
d.appearance;return be(R().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:ee(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),dh=R().memo(function(d){d=d.appearance;return be(R().createElement("path",
{d:"M10 17L10 5L35 5",stroke:ee(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),al=R().memo(function(d){d=d.appearance;return be(R().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:ee(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),fk=R().memo(function(d){d=d.appearance;return be(R().createElement("path",{d:"M6 10H34",stroke:ee(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),mg=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&
d;return be(R().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:ee(h),strokeWidth:2,fill:"none"},R().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),R().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),ln=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&d;return be(R().createElement("g",{stroke:ee(h),fill:ee(h),transform:d?"translate(40, 0) scale(-1, 1)":""},R().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),R().createElement("circle",
{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),bl=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&d;return be(R().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},R().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:ee(h),strokeWidth:2,fill:"none"})),{width:40,height:20})}),gg=[],Yd=function(d){return gg=gg.concat(d),d},vh=function(d,h){var n;return d.editingGroupId&&(h=Ke(Sd(h),d.editingGroupId),h.length)?Vc(Vc({},d),{},
{selectedElementIds:(n={},n[h[0].id]=!0,n)}):d},Cl=Yd({name:"deleteSelectedElements",perform:function(d,h){if(h.editingLinearElement){var n=h.editingLinearElement,B=n.activePointIndex,P=n.startBindingElement,W=n.endBindingElement,wa=ag.getElement(n.elementId);if(!wa)return!1;if(null==B||-1===B||2>wa.points.length)return d=d.filter(function(pa){return pa.id!==wa.id}),{elements:d,appState:Vc(Vc({},vh(h,d)),{},{editingLinearElement:null}),commitToHistory:!1};n={startBindingElement:0===B?null:P,endBindingElement:B===
wa.points.length-1?null:W};return ag.movePoint(wa,B,"delete"),{elements:d,appState:Vc(Vc({},h),{},{editingLinearElement:Vc(Vc(Vc({},h.editingLinearElement),n),{},{activePointIndex:0<B?B-1:0})}),commitToHistory:!0}}n=function(pa,Ba){return{elements:pa.map(function(Ma){return Ba.selectedElementIds[Ma.id]?wf(Ma,{isDeleted:!0}):Ma}),appState:Vc(Vc({},Ba),{},{selectedElementIds:{}})}}(d,h);B=n.elements;n=n.appState;return li(B,d.filter(function(pa){return h.selectedElementIds[pa.id]})),{elements:B,appState:Vc(Vc({},
n=vh(n,B)),{},{elementType:"selection",multiElement:null}),commitToHistory:Eg(Sd(d),h)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{type:"button",icon:Fi,title:Jb("labels.delete"),"aria-label":Jb("labels.delete"),onClick:function(){return B(null)},visible:Eg(Sd(h),n)})}}),Ae=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];
return d},Dk=function(d,h){for(var n=[],B=[],P=null,W=-1;++W<d.length;)h.selectedElementIds[d[W].id]?(B.length&&(n=n.concat(B),B=[]),n.push(W),P=W+1):d[W].isDeleted&&P===W?(P=W+1,B.push(W)):B=[];return n},yh=function(d,h,n,B){var P=h[n],W=function(wa){return!wa.isDeleted&&(!d.editingGroupId||wa.groupIds.includes(d.editingGroupId))};n="left"===B?function(wa,pa,Ba){void 0===Ba&&(Ba=wa.length-1);0>Ba&&(Ba=wa.length+Ba);for(Ba=Math.min(wa.length-1,Math.max(Ba,0))+1;-1<--Ba;)if(pa(wa[Ba],Ba,wa))return Ba;
return-1}(h,W,Math.max(0,n-1)):function(wa,pa,Ba){void 0===Ba&&(Ba=0);0>Ba&&(Ba=wa.length+Ba);for(Ba=Math.min(wa.length,Math.max(Ba,0))-1;++Ba<wa.length;)if(pa(wa[Ba],Ba,wa))return Ba;return-1}(h,W,n+1);W=h[n];if(!W)return-1;if(d.editingGroupId){if((null==P?void 0:P.groupIds.join(""))===(null==W?void 0:W.groupIds.join("")))return n;if(null==W||!W.groupIds.includes(d.editingGroupId))return-1}if(!W.groupIds.length)return n;P=d.editingGroupId?W.groupIds[W.groupIds.indexOf(d.editingGroupId)-1]:W.groupIds[W.groupIds.length-
1];P=Ke(h,P);return P.length?"left"===B?h.indexOf(P[0]):h.indexOf(P[P.length-1]):n},Of=function(d,h,n){var B,P=Dk(h,d),W=(B=0,P.reduce(function(wa,pa,Ba){return 0<Ba&&P[Ba-1]!==pa-1&&(B=++B),(wa[B]||(wa[B]=[])).push(pa),wa},[]));return"right"===n&&(W=W.reverse()),W.forEach(function(wa,pa){pa=wa[0];wa=wa[wa.length-1];var Ba="left"===n?pa:wa,Ma=yh(d,h,Ba,n);if(-1!==Ma&&Ba!==Ma){Ba="left"===n?h.slice(0,Ma):h.slice(0,pa);var Fa=h.slice(pa,wa+1);pa="left"===n?h.slice(Ma,pa):h.slice(wa+1,Ma+1);wa="left"===
n?h.slice(wa+1):h.slice(Ma+1);h=Ae("left"===n?Ae(Ae(Ae([],Ba),Fa),pa):Ae(Ae(Ae([],Ba),pa),Fa),wa)}}),h},Hg=function(d,h,n){var B=Dk(d,h),P=[],W=[];if("left"===n){if(h.editingGroupId){if(!(h=Ke(d,h.editingGroupId)).length)return d;var wa=d.indexOf(h[0])}else wa=0;h=B[B.length-1]}else{if(h.editingGroupId){if(!(h=Ke(d,h.editingGroupId)).length)return d;h=d.indexOf(h[h.length-1])}else h=d.length-1;wa=B[0]}for(var pa=wa;pa<h+1;pa++)B.includes(pa)?P.push(d[pa]):W.push(d[pa]);B=d.slice(0,wa);d=d.slice(h+
1);return Ae("left"===n?Ae(Ae(Ae([],B),P),W):Ae(Ae(Ae([],B),W),P),d)},Fo=Yd({name:"sendBackward",perform:function(d,h){return{elements:Of(h,d.slice(),"left"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[we]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return h(null)},title:"".concat(Jb("labels.sendBackward"),
" — ").concat(td("CtrlOrCmd+["))},R().createElement(Yh,{appearance:d.appearance}))}}),ni=Yd({name:"bringForward",perform:function(d,h){return{elements:Of(h,d.slice(),"right"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[we]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return h(null)},
title:"".concat(Jb("labels.bringForward")," — ").concat(td("CtrlOrCmd+]"))},R().createElement(Gg,{appearance:d.appearance}))}}),f=Yd({name:"sendToBack",perform:function(d,h){return{elements:Hg(d,h,"left"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return zg?d[we]&&d.altKey&&"BracketLeft"===d.code:d[we]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return h(null)},title:"".concat(Jb("labels.sendToBack")," — ").concat(td(zg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},R().createElement(Qc,{appearance:d.appearance}))}}),A=Yd({name:"bringToFront",perform:function(d,h){return{elements:Hg(d,h,"right"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return zg?d[we]&&d.altKey&&"BracketRight"===d.code:d[we]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var h=d.updateData;d=
d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(n){return h(null)},title:"".concat(Jb("labels.bringToFront")," — ").concat(td(zg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},R().createElement(ul,{appearance:d.appearance}))}}),V=Yd({name:"selectAll",perform:function(d,h){return!h.editingLinearElement&&{appState:Zj(bd(bd({},h),{},{editingGroupId:null,selectedElementIds:d.reduce(function(n,B){return B.isDeleted||(n[B.id]=!0),n},{})}),Sd(d)),commitToHistory:!0}},
contextItemLabel:"labels.selectAll",keyTest:function(d){return d[we]&&"a"===d.key}}),U=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},ca=Yd({name:"duplicateSelection",perform:function(d,h){if(h.editingLinearElement){var n=h.editingLinearElement,B=n.activePointIndex;n=ag.getElement(n.elementId);if(!n||null===B)return!1;var P=n.points,W=P[B],wa=P[B+1];return Gd(n,{points:U(U(U([],P.slice(0,B+1)),[wa?[(W[0]+wa[0])/2,(W[1]+wa[1])/2]:[W[0]+30,W[1]+30]]),P.slice(B+1))}),
{appState:ue(ue({},h),{},{editingLinearElement:ue(ue({},h.editingLinearElement),{},{activePointIndex:B+1})}),elements:d,commitToHistory:!0}}return ue(ue({},Aa(d,h)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[we]&&"d"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{type:"button",icon:yg,title:"".concat(Jb("labels.duplicateSelection")," — ").concat(td("CtrlOrCmd+D")),"aria-label":Jb("labels.duplicateSelection"),
onClick:function(){return B(null)},visible:Eg(Sd(h),n)})}}),Aa=function(d,h){for(var n=new Map,B=[],P=[],W=new Map,wa=function(hb){var jb=Ii(h.editingGroupId,n,hb,{x:hb.x+Qa.k/2,y:hb.y+Qa.k/2});return W.set(hb.id,jb.id),P.push(hb),B.push(jb),jb},pa=[],Ba=0;Ba<d.length;){var Ma=d[Ba];if(h.selectedElementIds[Ma.id]){if(Ma.groupIds.length){var Fa=Di(h,Ma);if(Fa){Ma=Ke(d,Fa);pa.push.apply(pa,U(U([],Ma),Ma.map(function(hb){return wa(hb)})));Ba+=Ma.length;continue}}pa.push(Ma,wa(Ma))}else pa.push(Ma);Ba++}return el(pa,
P,W),{elements:pa,appState:Zj(ue(ue({},h),{},{selectedGroupIds:{},selectedElementIds:B.reduce(function(hb,jb){return hb[jb.id]=!0,hb},{})}),Sd(pa))}},Ka=function(d){var h=d.options,n=d.value,B=d.onChange,P=d.group;return R().createElement("div",{className:"buttonList buttonListIcon"},h.map(function(W){return R().createElement("label",{key:W.text,className:Dc({active:n===W.value}),title:W.text},R().createElement("input",{type:"radio",name:P,onChange:function(){return B(W.value)},checked:n===W.value}),
W.icon)}))},La=function(d){var h=d.options,n=d.value,B=d.onChange,P=d.group;return R().createElement("div",{className:"buttonList"},h.map(function(W){return R().createElement("label",{key:W.text,className:Dc({active:n===W.value})},R().createElement("input",{type:"radio",name:P,onChange:function(){return B(W.value)},checked:n===W.value}),W.text)}))},eb=(g(2816),function(d){var h=d.children,n=d.left,B=d.top,P=d.onCloseRequest;d=d.fitInViewport;var W=void 0!==d&&d,wa=(0,Z.useRef)(null);return(0,Z.useLayoutEffect)(function(){if(W&&
wa.current){var pa=wa.current,Ba=pa.getBoundingClientRect(),Ma=Ba.y,Fa=Ba.width,hb=Ba.height,jb=window.innerWidth;Ba.x+Fa>jb&&(pa.style.left="".concat(jb-Fa,"px"));Ba=window.innerHeight;Ma+hb>Ba&&(pa.style.top="".concat(Ba-hb,"px"))}},[W]),(0,Z.useEffect)(function(){if(P){var pa=function(Ba){var Ma;null!==(Ma=wa.current)&&void 0!==Ma&&Ma.contains(Ba.target)||(0,Ug.unstable_batchedUpdates)(function(){return P(Ba)})};return document.addEventListener("pointerdown",pa,!1),function(){return document.removeEventListener("pointerdown",
pa,!1)}}},[P]),R().createElement("div",{className:"popover",style:{top:B,left:n},ref:wa},h)}),vb=(g(5574),function(d){var h=(new Option).style;return h.color=d,!!h.color}),yb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),cc=function(d){var h=d.colors,n=d.color,B=d.onChange,P=d.onClose,W=d.label,wa=d.showInput,pa=void 0===wa||wa;d=d.type;var Ba=R().useRef(),Ma=R().useRef(),Fa=R().useRef(),hb=R().useRef();R().useEffect(function(){Ma.current?Ma.current.focus():hb.current?
hb.current.focus():Fa.current&&Fa.current.focus()},[]);return R().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":Jb("labels.colorPicker"),onKeyDown:function(jb){if("Tab"===jb.key){var kb,Kb=document.activeElement;if(jb.shiftKey)Kb===Ba.current&&(null===(kb=hb.current)||void 0===kb||kb.focus(),jb.preventDefault());else if(Kb===hb.current){var Ib;null===(Ib=Ba.current)||void 0===Ib||Ib.focus();jb.preventDefault()}}else ci(jb.key)?
(Kb=document.activeElement,kb=Ye.rtl,-1!==(Ib=Array.prototype.indexOf.call(Fa.current.children,Kb))&&(Kb=Fa.current.children.length-(pa?1:0),Fa.current.children[jb.key===(kb?"ArrowLeft":"ArrowRight")?(Ib+1)%Kb:jb.key===(kb?"ArrowRight":"ArrowLeft")?(Kb+Ib-1)%Kb:"ArrowDown"===jb.key?(Ib+5)%Kb:"ArrowUp"===jb.key?(Kb+Ib-5)%Kb:Ib].focus()),jb.preventDefault()):yb.includes(jb.key.toLowerCase())&&!Bh(jb.target)?(Ib=yb.indexOf(jb.key.toLowerCase()),Fa.current.children[Ib].focus(),jb.preventDefault()):"Escape"!==
jb.key&&"Enter"!==jb.key||(jb.preventDefault(),P());jb.nativeEvent.stopImmediatePropagation()}},R().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),R().createElement("div",{className:"color-picker-triangle"}),R().createElement("div",{className:"color-picker-content",ref:function(jb){jb&&(Fa.current=jb)},tabIndex:0},h.map(function(jb,kb){return R().createElement("button",{className:"color-picker-swatch",onClick:function(Kb){Kb.currentTarget.focus();B(jb)},title:"".concat(jb,
" — ").concat(yb[kb].toUpperCase()),"aria-label":jb,"aria-keyshortcuts":yb[kb],style:{color:jb},key:jb,ref:function(Kb){Kb&&0===kb&&(Ba.current=Kb);Kb&&jb===n&&(Ma.current=Kb)},onFocus:function(){B(jb)}},"transparent"===jb?R().createElement("div",{className:"color-picker-transparent"}):void 0,R().createElement("span",{className:"color-picker-keybinding"},yb[kb]))}),pa&&R().createElement(ic,{color:n,label:W,onChange:function(jb){B(jb)},ref:hb})))},ic=R().forwardRef(function(d,h){var n=d.color,B=d.onChange;
d=d.label;var P=R().useState(n),W=P[0],wa=P[1],pa=R().useRef(null);R().useEffect(function(){wa(n)},[n]);R().useImperativeHandle(h,function(){return pa.current});var Ba=R().useCallback(function(Ma){Ma=Ma.toLowerCase();var Fa;(Fa="transparent"===Ma||vb(Ma)?Ma:vb("#".concat(Ma))?"#".concat(Ma):null)&&B(Fa);wa(Ma)},[B]);return R().createElement("label",{className:"color-input-container"},R().createElement("div",{className:"color-picker-hash"},"#"),R().createElement("input",{spellCheck:!1,className:"color-picker-input",
"aria-label":d,onChange:function(Ma){return Ba(Ma.target.value)},value:(W||"").replace(/^#/,""),onBlur:function(){return wa(n)},ref:pa}))}),jc=function(d){var h=d.type,n=d.color,B=d.onChange;d=d.label;var P=R().useState(!1),W=P[0],wa=P[1],pa=R().useRef(null);return R().createElement("div",null,R().createElement("div",{className:"color-picker-control-container"},R().createElement("button",{className:"color-picker-label-swatch","aria-label":d,style:n?{"--swatch-color":n}:void 0,onClick:function(){return wa(!W)},
ref:pa}),R().createElement(ic,{color:n,label:d,onChange:function(Ba){B(Ba)}})),R().createElement(R().Suspense,{fallback:""},W?R().createElement(eb,{onCloseRequest:function(Ba){return Ba.target!==pa.current&&wa(!1)}},R().createElement(cc,{colors:qg[h],color:n||null,onChange:function(Ba){B(Ba)},onClose:function(){var Ba;wa(!1);null===(Ba=pa.current)||void 0===Ba||Ba.focus()},label:d,showInput:!1,type:h})):null))},Mc=g(6950),Ad=g.n(Mc);g(7143);var $d=function(d,h,n){return d.map(function(B){var P;return h.selectedElementIds[B.id]||
B.id===(null===(P=h.editingElement)||void 0===P?void 0:P.id)?n(B):B})},Tf=function(d,h,n,B){var P,W,wa=h.editingElement;d=Sd(d);return null!==(P=null!==(W=wa&&n(wa))&&void 0!==W?W:Eg(d,h)?function(pa,Ba,Ma){pa=Array.from(new Set(df(pa,Ba).map(function(Fa){return Ma(Fa)})));return 1===pa.length?pa[0]:null}(d,h,n):B)&&void 0!==P?P:null},je=(Yd({name:"changeStrokeColor",perform:function(d,h,n){return{elements:$d(d,h,function(B){return wf(B,{strokeColor:n})}),appState:de(de({},h),{},{currentItemStrokeColor:n}),
commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState;d=d.updateData;return R().createElement(R().Fragment,null,R().createElement("h3",{"aria-hidden":"true"},Jb("labels.stroke")),R().createElement(jc,{type:"elementStroke",label:Jb("labels.stroke"),color:Tf(h,n,function(B){return B.strokeColor},n.currentItemStrokeColor),onChange:d}))}}),Yd({name:"changeBackgroundColor",perform:function(d,h,n){return{elements:$d(d,h,function(B){return wf(B,{backgroundColor:n})}),appState:de(de({},
h),{},{currentItemBackgroundColor:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState;d=d.updateData;return R().createElement(R().Fragment,null,R().createElement("h3",{"aria-hidden":"true"},Jb("labels.background")),R().createElement(jc,{type:"elementBackground",label:Jb("labels.background"),color:Tf(h,n,function(B){return B.backgroundColor},n.currentItemBackgroundColor),onChange:d}))}}),Yd({name:"changeFillStyle",perform:function(d,h,n){return{elements:$d(d,h,function(B){return wf(B,
{fillStyle:n})}),appState:de(de({},h),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.fill")),R().createElement(Ka,{options:[{value:"hachure",text:Jb("labels.hachure"),icon:R().createElement(tj,{appearance:n.appearance})},{value:"cross-hatch",text:Jb("labels.crossHatch"),icon:R().createElement(Od,{appearance:n.appearance})},{value:"solid",text:Jb("labels.solid"),
icon:R().createElement(vl,{appearance:n.appearance})}],group:"fill",value:Tf(h,n,function(P){return P.fillStyle},n.currentItemFillStyle),onChange:function(P){B(P)}}))}}),Yd({name:"changeStrokeWidth",perform:function(d,h,n){return{elements:$d(d,h,function(B){return wf(B,{strokeWidth:n})}),appState:de(de({},h),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",
null,Jb("labels.strokeWidth")),R().createElement(Ka,{group:"stroke-width",options:[{value:1,text:Jb("labels.thin"),icon:R().createElement(cg,{appearance:n.appearance,strokeWidth:2})},{value:2,text:Jb("labels.bold"),icon:R().createElement(cg,{appearance:n.appearance,strokeWidth:6})},{value:4,text:Jb("labels.extraBold"),icon:R().createElement(cg,{appearance:n.appearance,strokeWidth:10})}],value:Tf(h,n,function(P){return P.strokeWidth},n.currentItemStrokeWidth),onChange:function(P){return B(P)}}))}}),
Yd({name:"changeSloppiness",perform:function(d,h,n){return{elements:$d(d,h,function(B){return wf(B,{seed:pf(),roughness:n})}),appState:de(de({},h),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.sloppiness")),R().createElement(Ka,{group:"sloppiness",options:[{value:0,text:Jb("labels.architect"),icon:R().createElement(Ph,{appearance:n.appearance})},
{value:1,text:Jb("labels.artist"),icon:R().createElement(Bl,{appearance:n.appearance})},{value:2,text:Jb("labels.cartoonist"),icon:R().createElement(nk,{appearance:n.appearance})}],value:Tf(h,n,function(P){return P.roughness},n.currentItemRoughness),onChange:function(P){return B(P)}}))}}),Yd({name:"changeStrokeStyle",perform:function(d,h,n){return{elements:$d(d,h,function(B){return wf(B,{strokeStyle:n})}),appState:de(de({},h),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(d){var h=
d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.strokeStyle")),R().createElement(Ka,{group:"strokeStyle",options:[{value:"solid",text:Jb("labels.strokeStyle_solid"),icon:R().createElement(Ih,{appearance:n.appearance})},{value:"dashed",text:Jb("labels.strokeStyle_dashed"),icon:R().createElement(Tl,{appearance:n.appearance})},{value:"dotted",text:Jb("labels.strokeStyle_dotted"),icon:R().createElement(Ui,{appearance:n.appearance})}],
value:Tf(h,n,function(P){return P.strokeStyle},n.currentItemStrokeStyle),onChange:function(P){return B(P)}}))}}),Yd({name:"changeOpacity",perform:function(d,h,n){return{elements:$d(d,h,function(B){return wf(B,{opacity:n})}),appState:de(de({},h),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(d){var h,n=d.elements,B=d.appState,P=d.updateData;return R().createElement("label",{className:"control-label"},Jb("labels.opacity"),R().createElement("input",{type:"range",min:"0",max:"100",
step:"10",onChange:function(W){return P(+W.target.value)},onWheel:function(W){W.stopPropagation();var wa=+W.target.value;0>W.deltaY&&100>wa?P(wa+10):0<W.deltaY&&0<wa&&P(wa-10)},value:null!==(h=Tf(n,B,function(W){return W.opacity},B.currentItemOpacity))&&void 0!==h?h:void 0}))}}),Yd({name:"changeFontSize",perform:function(d,h,n){return{elements:$d(d,h,function(B){return og(B)?(B=wf(B,{fontSize:n}),Zk(B),B):B}),appState:de(de({},h),{},{currentItemFontSize:n}),commitToHistory:!0}},PanelComponent:function(d){var h=
d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.fontSize")),R().createElement(La,{group:"font-size",options:[{value:16,text:Jb("labels.small")},{value:20,text:Jb("labels.medium")},{value:28,text:Jb("labels.large")},{value:36,text:Jb("labels.veryLarge")}],value:Tf(h,n,function(P){return og(P)&&P.fontSize},n.currentItemFontSize||Qa.n5),onChange:function(P){return B(P)}}))}}),Yd({name:"changeFontFamily",perform:function(d,h,n){return{elements:$d(d,
h,function(B){return og(B)?(B=wf(B,{fontFamily:n}),Zk(B),B):B}),appState:de(de({},h),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;d=[{value:1,text:Jb("labels.handDrawn")},{value:2,text:Jb("labels.normal")},{value:3,text:Jb("labels.code")}];return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.fontFamily")),R().createElement(La,{group:"font-family",options:d,value:Tf(h,n,function(P){return og(P)&&
P.fontFamily},n.currentItemFontFamily||Qa.rk),onChange:function(P){return B(P)}}))}}),Yd({name:"changeTextAlign",perform:function(d,h,n){return{elements:$d(d,h,function(B){return og(B)?(B=wf(B,{textAlign:n}),Zk(B),B):B}),appState:de(de({},h),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.textAlign")),R().createElement(La,{group:"text-align",
options:[{value:"left",text:Jb("labels.left")},{value:"center",text:Jb("labels.center")},{value:"right",text:Jb("labels.right")}],value:Tf(h,n,function(P){return og(P)&&P.textAlign},n.currentItemTextAlign),onChange:function(P){return B(P)}}))}}),Yd({name:"changeSharpness",perform:function(d,h,n){var B=nj(Sd(d),h),P=B.length?B.every(function(W){return!pg(W)}):!$h(h.elementType);B=B.length?B.every(pg):$h(h.elementType);return{elements:$d(d,h,function(W){return wf(W,{strokeSharpness:n})}),appState:de(de({},
h),{},{currentItemStrokeSharpness:P?n:h.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:B?n:h.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.edges")),R().createElement(Ka,{group:"edges",options:[{value:"sharp",text:Jb("labels.sharp"),icon:R().createElement(dh,{appearance:n.appearance})},{value:"round",text:Jb("labels.round"),
icon:R().createElement(al,{appearance:n.appearance})}],value:Tf(h,n,function(P){return P.strokeSharpness},rj(n.elementType)&&($h(n.elementType)?n.currentItemLinearStrokeSharpness:n.currentItemStrokeSharpness)||null),onChange:function(P){return B(P)}}))}}),Yd({name:"changeArrowhead",perform:function(d,h,n){var B;return{elements:$d(d,h,function(P){if(pg(P)){var W=n.position,wa=n.type;if("start"===W)return wf(P,{startArrowhead:wa});if("end"===W)return wf(P,{endArrowhead:wa})}return P}),appState:de(de({},
h),{},(B={},B["start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=n.type,B)),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;d=Ye.rtl;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.arrowheads")),R().createElement("div",{className:"iconSelectList"},R().createElement(dd,{label:"arrowhead_start",options:[{value:null,text:Jb("labels.arrowhead_none"),icon:R().createElement(fk,{appearance:n.appearance}),
keyBinding:"q"},{value:"arrow",text:Jb("labels.arrowhead_arrow"),icon:R().createElement(mg,{appearance:n.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:Jb("labels.arrowhead_bar"),icon:R().createElement(bl,{appearance:n.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:Jb("labels.arrowhead_dot"),icon:R().createElement(ln,{appearance:n.appearance,flip:!d}),keyBinding:"r"}],value:Tf(h,n,function(P){return pg(P)&&"arrow"===P.type?P.startArrowhead:n.currentItemStartArrowhead},n.currentItemStartArrowhead),
onChange:function(P){return B({position:"start",type:P})}}),R().createElement(dd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Jb("labels.arrowhead_none"),keyBinding:"q",icon:R().createElement(fk,{appearance:n.appearance})},{value:"arrow",text:Jb("labels.arrowhead_arrow"),keyBinding:"w",icon:R().createElement(mg,{appearance:n.appearance,flip:d})},{value:"bar",text:Jb("labels.arrowhead_bar"),keyBinding:"e",icon:R().createElement(bl,{appearance:n.appearance,flip:d})},{value:"dot",
text:Jb("labels.arrowhead_dot"),keyBinding:"r",icon:R().createElement(ln,{appearance:n.appearance,flip:d})}],value:Tf(h,n,function(P){return pg(P)&&"arrow"===P.type?P.endArrowhead:n.currentItemEndArrowhead},n.currentItemEndArrowhead),onChange:function(P){return B({position:"end",type:P})}})))}}),g(2189)),gf=g.n(je),Me=R().createContext(!1),eg=function(){return window.matchMedia?window.matchMedia(gf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},Vf=function(d){d=
d.children;var h=(0,Z.useRef)();h.current||(h.current=eg());var n=(0,Z.useState)(h.current.matches),B=n[0],P=n[1];return(0,Z.useEffect)(function(){var W=function(){return P(h.current.matches)};return h.current.addListener(W),function(){return h.current.removeListener(W)}},[]),R().createElement(Me.Provider,{value:B},d)};Yd({name:"changeViewBackgroundColor",perform:function(d,h,n){return{appState:ze(ze({},h),{},{viewBackgroundColor:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.appState,
n=d.updateData;return R().createElement("div",{style:{position:"relative"}},R().createElement(jc,{label:Jb("labels.canvasBackground"),type:"canvasBackground",color:h.viewBackgroundColor,onChange:function(B){return n(B)}}))}});Yd({name:"clearCanvas",perform:function(d,h){return{elements:d.map(function(n){return wf(n,{isDeleted:!0})}),appState:ze(ze({},uh()),{},{appearance:h.appearance,elementLocked:h.elementLocked,exportBackground:h.exportBackground,exportEmbedScene:h.exportEmbedScene,gridSize:h.gridSize,
shouldAddWatermark:h.shouldAddWatermark,showStats:h.showStats,pasteDialog:h.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:Fi,title:Jb("buttons.clearReset"),"aria-label":Jb("buttons.clearReset"),showAriaLabel:De(),onClick:function(){window.confirm(Jb("alerts.clearReset"))&&h(null)}})}});Yd({name:"zoomIn",perform:function(d,h){d=qh(Nj(h.zoom.value+Qa.V4),h.zoom,{left:h.offsetLeft,top:h.offsetTop},{x:h.width/2,y:h.height/
2});return{appState:ze(ze({},h),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:Zi,title:"".concat(Jb("buttons.zoomIn")," — ").concat(td("CtrlOrCmd++")),"aria-label":Jb("buttons.zoomIn"),onClick:function(){h(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[we]||d.shiftKey)}});Yd({name:"zoomOut",perform:function(d,h){d=qh(Nj(h.zoom.value-Qa.V4),h.zoom,{left:h.offsetLeft,top:h.offsetTop},
{x:h.width/2,y:h.height/2});return{appState:ze(ze({},h),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:fd,title:"".concat(Jb("buttons.zoomOut")," — ").concat(td("CtrlOrCmd+-")),"aria-label":Jb("buttons.zoomOut"),onClick:function(){h(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===d.code)&&(d[we]||d.shiftKey)}});Yd({name:"resetZoom",perform:function(d,h){return{appState:ze(ze({},h),{},{zoom:qh(1,
h.zoom,{left:h.offsetLeft,top:h.offsetTop},{x:h.width/2,y:h.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:Kl,title:Jb("buttons.resetZoom"),"aria-label":Jb("buttons.resetZoom"),onClick:function(){h(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[we]||d.shiftKey)}});var He=function(d,h,n){d=Sd(d);var B=df(d,h);B=n&&0<B.length?Yf(B):Yf(d);n=qh(Math.min(Math.max(Math.floor(Math.min(h.width/
(B[2]-B[0]),h.height/(B[3]-B[1]))/Qa.V4)*Qa.V4,Qa.V4),1),h.zoom,{left:h.offsetLeft,top:h.offsetTop});d=(B[0]+B[2])/2;B=(B[1]+B[3])/2;return{appState:ze(ze(ze({},h),Bi({scenePoint:{x:d,y:B},viewportDimensions:{width:h.width,height:h.height},zoom:n})),{},{zoom:n}),commitToHistory:!1}};Yd({name:"zoomToSelection",perform:function(d,h){return He(d,h,!0)},keyTest:function(d){return"Digit2"===d.code&&d.shiftKey&&!d.altKey&&!d[we]}});Yd({name:"zoomToFit",perform:function(d,h){return He(d,h,!1)},keyTest:function(d){return"Digit1"===
d.code&&d.shiftKey&&!d.altKey&&!d[we]}});var of,Re,Pf=Yd({name:"finalize",perform:function(d,h,n,B){var P,W;n=B.canvas;if(h.editingLinearElement){B=h.editingLinearElement;var wa=B.startBindingElement,pa=B.endBindingElement,Ba=ag.getElement(B.elementId);if(Ba)return zf(Ba)&&Gf(Ba,wa,pa),{elements:2>Ba.points.length||Sh(Ba)?d.filter(function(hb){return hb.id!==Ba.id}):void 0,appState:Cf(Cf({},h),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&
window.document.activeElement.blur();if(B=h.multiElement?h.multiElement:"draw"===(null===(W=h.editingElement)||void 0===W?void 0:W.type)?h.editingElement:null){"draw"!==B.type&&"touch"!==h.lastPointerDownWith&&(W=B.points,(wa=B.lastCommittedPoint)&&W[W.length-1]===wa||Gd(B,{points:B.points.slice(0,-1)}));Sh(B)&&(d=d.slice(0,-1));W=bj(B.points,h.zoom.value);if(("line"===B.type||"draw"===B.type)&&W){var Ma=B.points,Fa=Ma[0];Gd(B,{points:Ma.map(function(hb,jb){return jb===Ma.length-1?[Fa[0],Fa[1]]:hb})})}zf(B)&&
!W&&1<B.points.length&&(wa=ag.getPointAtIndexGlobalCoordinates(B,-1),W=wa[0],wa=wa[1],Hj(B,h,Lg.getScene(B),{x:W,y:wa}));h.elementLocked||"draw"===h.elementType||(h.selectedElementIds[B.id]=!0)}return(h.elementLocked||"draw"===h.elementType)&&B||Rh(n),{elements:d,appState:Cf(Cf({},h),{},{elementType:(h.elementLocked||"draw"===h.elementType)&&B?h.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:B&&!h.elementLocked&&
"draw"!==h.elementType?Cf(Cf({},h.selectedElementIds),{},(P={},P[B.id]=!0,P)):h.selectedElementIds}),commitToHistory:"draw"===h.elementType}},keyTest:function(d,h){return"Escape"===d.key&&(null!==h.editingLinearElement||!h.draggingElement&&null===h.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==h.multiElement},PanelComponent:function(d){var h=d.appState;d=d.updateData;return R().createElement(Qe,{type:"button",icon:Jd,title:Jb("buttons.done"),"aria-label":Jb("buttons.done"),onClick:d,
visible:null!=h.multiElement})}}),eh="undefined"!=typeof v&&null!==(of=v.env)&&void 0!==of&&of.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,h,n,B){window.gtag("event",h,{event_category:d,event_label:n,value:B})}:("undefined"!=typeof v&&null!==(Re=v.env)&&void 0!==Re&&Re.JEST_WORKER_ID,function(d,h,n,B){}),Dh=(g(8518),function(){var d=function(h,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,P){B.__proto__=P}||function(B,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,
W)&&(B[W]=P[W])})(h,n)};return function(h,n){function B(){this.constructor=h}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");d(h,n);h.prototype=null===n?Object.create(n):(B.prototype=n.prototype,new B)}}()),Oh=function(d){function h(){for(var n=[],B=0;B<arguments.length;B++)n[B]=arguments[B];var P,W;B=this;return B=d.apply(this,n)||this,P=W=B,B.handleFocus=function(wa){wa=wa.currentTarget;var pa=window.getSelection();if(pa){var Ba=
document.createRange();Ba.selectNodeContents(wa);pa.removeAllRanges();pa.addRange(Ba)}},B.handleBlur=function(wa){wa=wa.currentTarget.innerText.trim();wa!==W.props.value&&W.props.onChange(wa);(wa=window.getSelection())&&wa.removeAllRanges()},B.handleKeyDown=function(wa){"Enter"!==wa.key||(wa.preventDefault(),wa.nativeEvent.isComposing||229===wa.keyCode)||wa.currentTarget.blur()},B.makeEditable=function(wa){if(wa)try{wa.contentEditable="plaintext-only"}catch(pa){wa.contentEditable="true"}},P}return Dh(h,
d),h.prototype.render=function(){return R().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},h}(Z.Component),Rj=(g(2680),function(d){var h=d.children,n=d.label,B=d.position;B=void 0===B?"below":B;d=d.long;d=void 0!==d&&d;return R().createElement("div",{className:"Tooltip"},R().createElement("span",
{className:"above"===B?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},n),h)}),Bk=function(d){var h=d.title?d.title:"dark"===d.value?Jb("buttons.lightMode"):Jb("buttons.darkMode");return R().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:h},R().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(n){return d.onChange(n.target.checked?
"dark":"light")},checked:"dark"===d.value,"aria-label":h}),R().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?Rl.MOON:Rl.SUN))},Rl={SUN:R().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:R().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const km="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",mm=km?"chooseFileSystemEntries"===km?g.e(736).then(g.bind(g,9012)):g.e(736).then(g.bind(g,499)):g.e(736).then(g.bind(g,5034));km?"chooseFileSystemEntries"===km?g.e(736).then(g.bind(g,6980)):g.e(736).then(g.bind(g,868)):g.e(736).then(g.bind(g,3110));const $e=km?"chooseFileSystemEntries"===km?g.e(736).then(g.bind(g,1170)):g.e(736).then(g.bind(g,7814)):g.e(736).then(g.bind(g,4001));var Ok,Gi=function(d,h){if(null!=h&&h.collaborators&&
(h=h.collaborators.get(d),null!=h&&h.color))return h.color;d=d.split("").reduce(function(B,P){return B+P.charCodeAt(0)},0);h=qg.elementBackground.slice(1);var n=qg.elementStroke.slice(1);return{background:h[d%h.length],stroke:n[d%n.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(Ok||(Ok={}));var ym=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),cl=function(d,h,n,B,P,W,wa,pa,Ba){void 0===Ba&&(Ba=!1);d.translate(W,wa);d.rotate(pa);Ba&&d.fillRect(h-W,n-wa,B,P);d.strokeRect(h-W,n-wa,B,P);d.rotate(-pa);d.translate(-W,-wa)},zm=function(d,h,n,B){d.beginPath();d.arc(h,n,B,0,2*Math.PI);d.fill();d.stroke()},cn=function(d,h,n,B,P,W,wa,pa){var Ba=void 0===pa?{}:pa;pa=Ba.renderScrollbars;pa=void 0===pa||pa;var Ma=Ba.renderSelection,Fa=void 0===Ma||Ma;Ma=Ba.renderOptimizations;var hb=void 0!==Ma&&Ma;Ba=Ba.renderGrid;var jb=void 0===
Ba||Ba;if(!W)return{atLeastOneVisibleElement:!1};var kb=W.getContext("2d");kb.scale(B,B);var Kb=W.width/B,Ib=W.height/B;(wa.exportWithDarkMode&&(kb.filter=Qa.Gi),"string"==typeof wa.viewBackgroundColor)?(("transparent"===wa.viewBackgroundColor||5===wa.viewBackgroundColor.length||9===wa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(wa.viewBackgroundColor))&&kb.clearRect(0,0,Kb,Ib),Ba=kb.fillStyle,kb.fillStyle=wa.viewBackgroundColor,kb.fillRect(0,0,Kb,Ib),kb.fillStyle=Ba):kb.clearRect(0,0,Kb,Ib);
Ba=wa.zoom.translation.x;Ma=wa.zoom.translation.y;kb.translate(Ba,Ma);kb.scale(wa.zoom.value,wa.zoom.value);jb&&h.gridSize&&function(md,Id,Xd,Be,wh,Wh){var oj=md.strokeStyle;md.strokeStyle="rgba(0,0,0,0.1)";md.beginPath();for(var Ji=Xd;Ji<Xd+wh+2*Id;Ji+=Id)md.moveTo(Ji,Be-Id),md.lineTo(Ji,Be+Wh+2*Id);for(Ji=Be;Ji<Be+Wh+2*Id;Ji+=Id)md.moveTo(Xd-Id,Ji),md.lineTo(Xd+wh+2*Id,Ji);md.stroke();md.strokeStyle=oj}(kb,h.gridSize,-Math.ceil(Ba/wa.zoom.value/h.gridSize)*h.gridSize+wa.scrollX%h.gridSize,-Math.ceil(Ma/
wa.zoom.value/h.gridSize)*h.gridSize+wa.scrollY%h.gridSize,Kb/wa.zoom.value,Ib/wa.zoom.value);W=d.filter(function(md){var Id={zoom:wa.zoom,offsetLeft:h.offsetLeft,offsetTop:h.offsetTop,scrollX:wa.scrollX,scrollY:wa.scrollY},Xd=yj(md);md=Xd[0];var Be=Xd[1],wh=Xd[2];Xd=Xd[3];var Wh=Zf({clientX:Id.offsetLeft,clientY:Id.offsetTop},Id);Id=Zf({clientX:Id.offsetLeft+Kb,clientY:Id.offsetTop+Ib},Id);return Wh.x<=wh&&Wh.y<=Xd&&Id.x>=md&&Id.y>=Be});(W.forEach(function(md){Fm(md,P,kb,hb,wa)}),h.editingLinearElement)&&
(jb=ag.getElement(h.editingLinearElement.elementId))&&function(md,Id,Xd,Be){md.translate(Xd.scrollX,Xd.scrollY);var wh=md.strokeStyle,Wh=md.lineWidth;md.lineWidth=1/Xd.zoom.value;ag.getPointsGlobalCoordinates(Be).forEach(function(oj,Ji){var El;md.strokeStyle="red";md.setLineDash([]);md.fillStyle=(null===(El=Id.editingLinearElement)||void 0===El?void 0:El.activePointIndex)===Ji?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";zm(md,oj[0],oj[1],ag.POINT_HANDLE_SIZE/2/Xd.zoom.value)});md.setLineDash([]);
md.lineWidth=Wh;md.translate(-Xd.scrollX,-Xd.scrollY);md.strokeStyle=wh}(kb,h,wa,jb);if(n&&Fm(n,P,kb,hb,wa),h.isBindingEnabled&&h.suggestedBindings.filter(function(md){return null!=md}).forEach(function(md){var Id=kb.strokeStyle,Xd=kb.lineWidth,Be=Array.isArray(md)?Li:Ll;kb.translate(wa.scrollX,wa.scrollY);Be(kb,md);kb.strokeStyle=Id;kb.lineWidth=Xd;kb.translate(-wa.scrollX,-wa.scrollY)}),Fa&&!h.multiElement&&!h.editingLinearElement){var nc=d.reduce(function(md,Id){var Xd=[];if(h.selectedElementIds[Id.id]&&
null==Di(h,Id)&&Xd.push(Wd.Sn),wa.remoteSelectedElementIds[Id.id]&&Xd.push.apply(Xd,wa.remoteSelectedElementIds[Id.id].map(function(wh){return Gi(wh,h).background})),Xd.length){var Be=Jf(Id);md.push({angle:Id.angle,elementX1:Be[0],elementY1:Be[1],elementX2:Be[2],elementY2:Be[3],selectionColors:Xd})}return md},[]);n=function(md){md=Ke(d,md);md=Yf(md);nc.push({angle:0,elementX1:md[0],elementX2:md[2],elementY1:md[1],elementY2:md[3],selectionColors:[Wd.Sn]})};Fa=0;for(jb=Si(h);Fa<jb.length;Fa++)n(jb[Fa]);
h.editingGroupId&&n(h.editingGroupId);nc.forEach(function(md){var Id=md.angle,Xd=md.elementX1,Be=md.elementY1,wh=md.selectionColors,Wh=md.elementX2-Xd;md=md.elementY2-Be;var oj=kb.getLineDash(),Ji=kb.lineWidth,El=kb.lineDashOffset,mn=kb.strokeStyle,Ul=4/wa.zoom.value,nn=8/wa.zoom.value,Nm=4/wa.zoom.value;kb.lineWidth=1/wa.zoom.value;kb.translate(wa.scrollX,wa.scrollY);for(var bo=wh.length,Mm=0;Mm<bo;++Mm)kb.strokeStyle=wh[Mm],kb.setLineDash([nn,Nm+(nn+Nm)*(bo-1)]),kb.lineDashOffset=(nn+Nm)*Mm,cl(kb,
Xd-Ul,Be-Ul,Wh+2*Ul,md+2*Ul,Xd+Wh/2,Be+md/2,Id);kb.lineDashOffset=El;kb.strokeStyle=mn;kb.lineWidth=Ji;kb.setLineDash(oj);kb.translate(-wa.scrollX,-wa.scrollY)});Fa=df(d,h);if(kb.translate(wa.scrollX,wa.scrollY),1===Fa.length)kb.fillStyle=Wd.ix,n=gj(Fa[0],wa.zoom,"mouse"),h.viewModeEnabled||ok(kb,wa,n,Fa[0].angle);else if(1<Fa.length&&!h.isRotating){n=4/wa.zoom.value;kb.fillStyle=Wd.ix;var Sc=Yf(Fa);Fa=Sc[0];jb=Sc[1];var Zc=Sc[2];Sc=Sc[3];var jd=kb.getLineDash();kb.setLineDash([2/wa.zoom.value]);
var me=kb.lineWidth;kb.lineWidth=1/wa.zoom.value;cl(kb,Fa-n,jb-n,Zc-Fa+2*n,Sc-jb+2*n,(Fa+Zc)/2,(jb+Sc)/2,0);kb.lineWidth=me;kb.setLineDash(jd);n=uk([Fa,jb,Zc,Sc],0,wa.zoom,"mouse",zl);ok(kb,wa,n,0)}kb.translate(-wa.scrollX,-wa.scrollY)}for(var ke in kb.scale(1/wa.zoom.value,1/wa.zoom.value),kb.translate(-Ba,-Ma),wa.remotePointerViewportCoords){Ba=wa.remotePointerViewportCoords[ke];Zc=Ba.x;Sc=Ba.y;Zc-=h.offsetLeft;Sc-=h.offsetTop;jd=0>Zc||Zc>Kb-9||0>Sc||Sc>Ib-14;Zc=Math.max(Zc,0);Zc=Math.min(Zc,Kb-
9);Sc=Math.max(Sc,0);Sc=Math.min(Sc,Ib-14);Ba=Gi(ke,h);Ma=Ba.background;n=Ba.stroke;Fa=kb.strokeStyle;jb=(Ba=kb.fillStyle,kb.globalAlpha);kb.strokeStyle=n;kb.fillStyle=Ma;me=wa.remotePointerUserStates[ke];(jd||me===Ok.AWAY)&&(kb.globalAlpha=.48);wa.remotePointerButton&&"down"===wa.remotePointerButton[ke]&&(kb.beginPath(),kb.arc(Zc,Sc,15,0,2*Math.PI,!1),kb.lineWidth=3,kb.strokeStyle="#ffffff88",kb.stroke(),kb.closePath(),kb.beginPath(),kb.arc(Zc,Sc,15,0,2*Math.PI,!1),kb.lineWidth=1,kb.strokeStyle=
n,kb.stroke(),kb.closePath());kb.beginPath();kb.moveTo(Zc,Sc);kb.lineTo(Zc+1,Sc+14);kb.lineTo(Zc+4,Sc+9);kb.lineTo(Zc+9,Sc+10);kb.lineTo(Zc,Sc);kb.fill();kb.stroke();var xe=wa.remotePointerUsernames[ke],pe="";me===Ok.AWAY?pe=ym?"⚫️":" (".concat(Ok.AWAY,")"):me===Ok.IDLE?pe=ym?"\ud83d\udca4":" (".concat(Ok.IDLE,")"):me===Ok.ACTIVE&&(pe=ym?"\ud83d\udfe2":"");me="".concat(xe?"".concat(xe," "):"").concat(pe);!jd&&me&&(Zc+=9,Sc+=14,jd=kb.measureText(me),xe=jd.actualBoundingBoxDescent+jd.actualBoundingBoxAscent,
kb.fillStyle=n,kb.fillRect(Zc-1,Sc-1,jd.width+8+2,xe+8+2),kb.fillStyle=Ma,kb.fillRect(Zc,Sc,jd.width+8,xe+8),kb.fillStyle=Wd.ix,kb.fillText(me,Zc+4,Sc+4+jd.actualBoundingBoxAscent));kb.strokeStyle=Fa;kb.fillStyle=Ba;kb.globalAlpha=jb;kb.closePath()}if(pa){var Oe=function(md,Id,Xd,Be){var wh=Be.scrollX,Wh=Be.scrollY,oj=Be.zoom;if(0===md.length)return{horizontal:null,vertical:null};Be=Yf(md);var Ji=Be[0],El=Be[1];md=Be[2];Be=Be[3];var mn=Id/oj.value,Ul=Xd/oj.value,nn=Id-mn,Nm=Xd-Ul;oj=parseInt(ej("sat"));
var bo=parseInt(ej("sab")),Mm=parseInt(ej("sal")),Ur=parseInt(ej("sar")),St=Ye.rtl;wh=nn/2-wh+Mm;Wh=Nm/2-Wh+oj;mn=wh+mn-Ur;Ul=Wh+Ul-bo;Ji=Math.min(Ji,wh);El=Math.min(El,Wh);md=Math.max(md,mn);Be=Math.max(Be,Ul);return{horizontal:wh===Ji&&mn===md?null:{x:Math.max(Mm,4)+(wh-Ji)/(md-Ji)*Id,y:Xd-6-Math.max(4,bo),width:(mn-wh)/(md-Ji)*Id-Math.max(8,Mm+Ur),height:6},vertical:Wh===El&&Ul===Be?null:{x:St?Math.max(Mm,4):Id-6-Math.max(Ur,4),y:(Wh-El)/(Be-El)*Xd+Math.max(oj,4),width:6,height:(Ul-Wh)/(Be-El)*
Xd-Math.max(8,oj+bo)}}}(d,Kb,Ib,wa);Ba=kb.fillStyle;Fa=kb.strokeStyle;kb.fillStyle="rgba(0,0,0,0.3)";kb.strokeStyle="rgba(255,255,255,0.8)";[Oe.horizontal,Oe.vertical].forEach(function(md){if(md){var Id=md.x,Xd=md.y,Be=md.width;md=md.height;kb.beginPath();kb.moveTo(Id+3,Xd);kb.lineTo(Id+Be-3,Xd);kb.quadraticCurveTo(Id+Be,Xd,Id+Be,Xd+3);kb.lineTo(Id+Be,Xd+md-3);kb.quadraticCurveTo(Id+Be,Xd+md,Id+Be-3,Xd+md);kb.lineTo(Id+3,Xd+md);kb.quadraticCurveTo(Id,Xd+md,Id,Xd+md-3);kb.lineTo(Id,Xd+3);kb.quadraticCurveTo(Id,
Xd,Id+3,Xd);kb.closePath();kb.fill();kb.stroke()}});kb.fillStyle=Ba;kb.strokeStyle=Fa}return kb.scale(1/B,1/B),{atLeastOneVisibleElement:0<W.length,scrollBars:Oe}},ok=function(d,h,n,B){Object.keys(n).forEach(function(P){var W=n[P];if(void 0!==W){var wa=d.lineWidth;d.lineWidth=1/h.zoom.value;"rotation"===P?zm(d,W[0]+W[2]/2,W[1]+W[3]/2,W[2]/2):cl(d,W[0],W[1],W[2],W[3],W[0]+W[2]/2,W[1]+W[3]/2,B,!0);d.lineWidth=wa}})},Ll=function(d,h){var n=Jf(h),B=n[0],P=n[1],W=n[2]-B;n=n[3]-P;var wa=Dj(h,W,n);d.strokeStyle=
"rgba(0,0,0,.05)";d.lineWidth=wa-4;wa=2+wa/2;switch(h.type){case "rectangle":case "text":cl(d,B-wa,P-wa,W+2*wa,n+2*wa,B+W/2,P+n/2,h.angle);break;case "diamond":var pa=Math.hypot(W,n);!function(Ba,Ma,Fa,hb,jb,kb){Ba.translate(hb,jb);Ba.rotate(kb);Ba.beginPath();Ba.moveTo(0,Fa/2);Ba.lineTo(Ma/2,0);Ba.lineTo(0,-Fa/2);Ba.lineTo(-Ma/2,0);Ba.closePath();Ba.stroke();Ba.rotate(-kb);Ba.translate(-hb,-jb)}(d,W+wa*pa/n*2,n+wa*pa/W*2,B+W/2,P+n/2,h.angle);break;case "ellipse":!function(Ba,Ma,Fa,hb,jb,kb){Ba.beginPath();
Ba.ellipse(hb,jb,Ma/2,Fa/2,kb,0,2*Math.PI);Ba.stroke()}(d,W+2*wa,n+2*wa,B+W/2,P+n/2,h.angle)}},Li=function(d,h){var n=h[0],B=h[1];h=h[2];var P=Dj(h,h.width,h.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===B?[0,-1]:"start"===B?[0]:[-1]).forEach(function(W){W=ag.getPointAtIndexGlobalCoordinates(n,W);zm(d,W[0],W[1],P)})},uj=function(d,h,n,B){B=void 0===B?{}:B;var P=B.offsetX,W=void 0===P?0:P;B=B.offsetY;var wa=void 0===B?0:B;n&&d.forEach(function(pa){pa.isDeleted||function(Ba,
Ma,Fa,hb,jb){var kb=Jf(Ba),Kb=kb[0],Ib=kb[1],nc=(kb[2]-Kb)/2-(Ba.x-Kb),Sc=(kb[3]-Ib)/2-(Ba.y-Ib),Zc=180*Ba.angle/Math.PI;kb=Ma.generator;switch(Ba.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Ai(Ba,kb);kb=Ma.draw(qi.get(Ba));1!=(ke=Ba.opacity/100)&&(kb.setAttribute("stroke-opacity","".concat(ke)),kb.setAttribute("fill-opacity","".concat(ke)));kb.setAttribute("transform","translate(".concat(hb||0," ").concat(jb||0,
") rotate(").concat(Zc," ").concat(nc," ").concat(Sc,")"));Fa.appendChild(kb);break;case "line":case "draw":case "arrow":Ai(Ba,kb);var jd=Fa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),me=Ba.opacity/100;qi.get(Ba).forEach(function(Xd){Xd=Ma.draw(Xd);1!==me&&(Xd.setAttribute("stroke-opacity","".concat(me)),Xd.setAttribute("fill-opacity","".concat(me)));Xd.setAttribute("transform","translate(".concat(hb||0," ").concat(jb||0,") rotate(").concat(Zc," ").concat(nc," ").concat(Sc,")"));
"line"!==Ba.type&&"draw"!==Ba.type||!bj(Ba.points)||"transparent"===Ba.backgroundColor||Xd.setAttribute("fill-rule","evenodd");jd.appendChild(Xd)});Fa.appendChild(jd);break;default:if(!og(Ba))throw Error("Unimplemented type ".concat(Ba.type));var ke=Ba.opacity/100;kb=Fa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==ke&&(kb.setAttribute("stroke-opacity","".concat(ke)),kb.setAttribute("fill-opacity","".concat(ke)));kb.setAttribute("transform","translate(".concat(hb||0," ").concat(jb||
0,") rotate(").concat(Zc," ").concat(nc," ").concat(Sc,")"));ke=Ba.text.replace(/\r\n?/g,"\n").split("\n");Kb=Ba.height/ke.length;Ib=Ba.height-Ba.baseline;for(var xe="center"===Ba.textAlign?Ba.width/2:"right"===Ba.textAlign?Ba.width:0,pe=sg.test(Ba.text)?"rtl":"ltr",Oe="center"===Ba.textAlign?"middle":"right"===Ba.textAlign||"rtl"===pe?"end":"start",md=0;md<ke.length;md++){var Id=Fa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Id.textContent=ke[md];Id.setAttribute("x","".concat(xe));
Id.setAttribute("y","".concat((md+1)*Kb-Ib));Id.setAttribute("font-family","".concat(Qa.ut[Ba.fontFamily],", ").concat(Qa._D));Id.setAttribute("font-size","".concat(Ba.fontSize,"px"));Id.setAttribute("fill",Ba.strokeColor);Id.setAttribute("text-anchor",Oe);Id.setAttribute("style","white-space: pre;");Id.setAttribute("direction",pe);kb.appendChild(Id)}Fa.appendChild(kb)}}(pa,h,n,pa.x+W,pa.y+wa)})},dl=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Ql=function(d,h,n,
B){var P=n.exportBackground,W=n.exportPadding;W=void 0===W?10:W;var wa=n.viewBackgroundColor,pa=n.scale,Ba=void 0===pa?1:pa;n=n.shouldAddWatermark;void 0===B&&(B=function(Fa,hb){var jb=document.createElement("canvas");return jb.width=Fa*Ba,jb.height=hb*Ba,{canvas:jb,scale:Ba}});d=Ni(d,n);var Ma=dn(d,W,n);n=Ma[0];pa=Ma[1];Ma=B(Ma[2],Ma[3]);B=Ma.canvas;Ma=Ma.scale;return cn(d,h,null,void 0===Ma?Ba:Ma,Xf.canvas(B),B,{viewBackgroundColor:P?wa:null,exportWithDarkMode:h.exportWithDarkMode,scrollX:-n+W,
scrollY:-pa+W,zoom:uh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),B},yl=function(d,h){var n=h.exportBackground,B=h.exportPadding;B=void 0===B?10:B;var P=h.viewBackgroundColor,W=h.exportWithDarkMode,wa=h.scale;wa=void 0===wa?1:wa;var pa=h.shouldAddWatermark;h=h.metadata;h=void 0===h?"":h;d=Ni(d,pa);var Ba=dn(d,B,pa);pa=Ba[0];
var Ma=Ba[1],Fa=Ba[2],hb=Ba[3];Ba=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ba.setAttribute("version","1.1"),Ba.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ba.setAttribute("viewBox","0 0 ".concat(Fa," ").concat(hb)),Ba.setAttribute("width","".concat(Fa*wa)),Ba.setAttribute("height","".concat(hb*wa)),W&&Ba.setAttribute("filter",Qa.Gi),Ba.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(h,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
n&&P)n=Ba.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","".concat(Fa)),n.setAttribute("height","".concat(hb)),n.setAttribute("fill",P),Ba.appendChild(n);n=Xf.svg(Ba);return uj(d,n,Ba,{offsetX:-pa+B,offsetY:-Ma+B}),Ba},Ni=function(d,h){var n=dl([],d);h&&(h=Yf(d),d=h[2],h=h[3],n=dl([],n),d=bk({text:Jb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Qa.rk,textAlign:"right",verticalAlign:Qa.hs,x:d,y:h+16,strokeColor:Wd.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),n=dl(n,[d]));return n},dn=function(d,h,n){d=Yf(d);var B=d[0],P=d[1];return[B,P,Math.abs(B-d[2])+2*h,Math.abs(P-d[3])+h+(n?0:h)]},Sj=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Kk=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},Cn=function(d,h){return d.slice(1).every(function(n){return null!==
Kk(n[h])})},rm=function(d){var h=d[0].length;if(2<h)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===h){if(!Cn(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};h=null===Kk(d[0][0]);var n=(h?d.slice(1):d).map(function(W){return Kk(W[0])});return 2>n.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:h?d[0][0]:null,labels:null,values:n}}}var B=Cn(d,0)?0:1;if(!Cn(d,B))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var P=(B+1)%2;n=(h=null===Kk(d[0][B]))?d.slice(1):d;return 2>n.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:h?d[0][B]:null,labels:n.map(function(W){return W[P]}),values:n.map(function(W){return Kk(W[B])})}}},wn=qg.elementBackground.slice(2,qg.elementBackground.length),Mi={fillStyle:"hachure",fontFamily:Qa.rk,fontSize:Qa.n5,opacity:100,roughness:1,strokeColor:qg.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},
Tn=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Un=function(d,h,n,B,P,W){var wa=Tn(d),pa=wa.chartWidth,Ba=wa.chartHeight;wa=d.title?bk(Ee(Ee({backgroundColor:P,groupIds:[B]},Mi),{},{text:d.title,x:h+pa/2,y:n-256-24-Qa.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;W=W?Pl(Ee(Ee({backgroundColor:P,groupIds:[B]},Mi),{},{type:"rectangle",x:h,y:n-Ba,width:pa,height:Ba,strokeColor:qg.elementStroke[0],fillStyle:"solid",opacity:6})):null;return Sj(Sj(Sj(Sj(Sj([],
W?[W]:[]),wa?[wa]:[]),function(Ma,Fa,hb,jb,kb){var Kb;return(null===(Kb=Ma.labels)||void 0===Kb?void 0:Kb.map(function(Ib,nc){return bk(Ee(Ee({groupIds:[jb],backgroundColor:kb},Mi),{},{text:8<Ib.length?"".concat(Ib.slice(0,5),"..."):Ib,x:Fa+44*nc+24,y:hb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,h,n,B,P)),function(Ma,Fa,hb,jb,kb){var Kb=bk(Ee(Ee({groupIds:[jb],backgroundColor:kb},Mi),{},{x:Fa-12,y:hb-12,text:"0",textAlign:"right"}));return[Kb,bk(Ee(Ee({groupIds:[jb],
backgroundColor:kb},Mi),{},{x:Fa-12,y:hb-256-Kb.height/2,text:Math.max.apply(Math,Ma.values).toLocaleString(),textAlign:"right"}))]}(d,h,n,B,P)),function(Ma,Fa,hb,jb,kb){var Kb=Tn(Ma);Ma=Kb.chartWidth;Kb=Kb.chartHeight;return[Hi(Ee(Ee({backgroundColor:kb,groupIds:[jb]},Mi),{},{type:"line",x:Fa,y:hb,startArrowhead:null,endArrowhead:null,width:Ma,points:[[0,0],[Ma,0]]})),Hi(Ee(Ee({backgroundColor:kb,groupIds:[jb]},Mi),{},{type:"line",x:Fa,y:hb,startArrowhead:null,endArrowhead:null,height:Kb,points:[[0,
0],[0,-Kb]]})),Hi(Ee(Ee({backgroundColor:kb,groupIds:[jb]},Mi),{},{type:"line",x:Fa,y:hb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Ma,opacity:50,points:[[0,0],[Ma,0]]}))]}(d,h,n,B,P))},Hk=function(d,h,n,B){return"line"===d?function(P,W,wa){for(var pa=Math.max.apply(Math,P.values),Ba=Xj(),Ma=wn[Math.floor(Math.random()*wn.length)],Fa=0,hb=[],jb=0,kb=P.values;jb<kb.length;jb++)hb.push([44*Fa,-kb[jb]/pa*256]),Fa++;Fa=Math.max.apply(Math,hb.map(function(Ib){return Ib[0]}));
jb=Math.max.apply(Math,hb.map(function(Ib){return Ib[1]}));kb=Math.min.apply(Math,hb.map(function(Ib){return Ib[0]}));var Kb=Math.min.apply(Math,hb.map(function(Ib){return Ib[1]}));hb=Hi(Ee(Ee({backgroundColor:Ma,groupIds:[Ba]},Mi),{},{type:"line",x:W+12+16,y:wa-12,startArrowhead:null,endArrowhead:null,height:jb-Kb,width:Fa-kb,strokeWidth:2,points:hb}));Fa=P.values.map(function(Ib,nc){nc=44*nc+6;Ib=-Ib/pa*256+6;return Pl(Ee(Ee({backgroundColor:Ma,groupIds:[Ba]},Mi),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:W+nc+16,y:wa+Ib-24,width:12,height:12}))});jb=P.values.map(function(Ib,nc){nc=44*nc+6;Ib=Ib/pa*256+18;return Hi(Ee(Ee({backgroundColor:Ma,groupIds:[Ba]},Mi),{},{type:"line",x:W+nc+16+6,y:wa-Ib,startArrowhead:null,endArrowhead:null,height:Ib,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Ib]]}))});return Sj(Sj(Sj(Sj([],Un(P,W,wa,Ba,Ma,"production"===Qa.Vi.DEVELOPMENT)),[hb]),jb),Fa)}(h,n,B):function(P,W,wa){var pa=Math.max.apply(Math,P.values),Ba=Xj(),Ma=wn[Math.floor(Math.random()*
wn.length)],Fa=P.values.map(function(hb,jb){hb=hb/pa*256;return Pl(Ee(Ee({backgroundColor:Ma,groupIds:[Ba]},Mi),{},{type:"rectangle",x:W+44*jb+12,y:wa-hb-12,width:32,height:hb}))});return Sj(Sj([],Fa),Un(P,W,wa,Ba,Ma,"production"===Qa.Vi.DEVELOPMENT))}(h,n,B)},Vn=function(){var d=function(h,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,P){B.__proto__=P}||function(B,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,W)&&(B[W]=P[W])})(h,n)};return function(h,n){function B(){this.constructor=
h}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");d(h,n);h.prototype=null===n?Object.create(n):(B.prototype=n.prototype,new B)}}(),hn=function(d){function h(n,B){void 0===n&&(n="Couldn't export canvas.");void 0===B&&(B="CANVAS_ERROR");var P=d.call(this)||this;return P.name=B,P.message=n,P}return Vn(h,d),h}(Error),$n=function(d,h){var n,B,P,W,wa,pa,Ba,Ma;d={type:d.type,version:d.version||1,versionNonce:null!==(n=d.versionNonce)&&
void 0!==n?n:0,isDeleted:null!==(B=d.isDeleted)&&void 0!==B&&B,id:d.id||Xj(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(P=d.strokeStyle)&&void 0!==P?P:"solid",roughness:null!==(W=d.roughness)&&void 0!==W?W:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(wa=d.seed)&&void 0!==wa?wa:1,groupIds:null!==(pa=d.groupIds)&&void 0!==pa?
pa:[],strokeSharpness:null!==(Ba=d.strokeSharpness)&&void 0!==Ba?Ba:$h(d.type)?"round":"sharp",boundElementIds:null!==(Ma=d.boundElementIds)&&void 0!==Ma?Ma:[]};return We(We(We({},d),hj(d)),h)},vj=function(d){return(d||[]).reduce(function(h,n){if("selection"!==n.type&&!Sh(n)){a:{var B;switch(n.type){case "text":var P=n.fontSize,W=n.fontFamily;if("font"in n){P=n.font.split(" ");W=P[1];P=parseInt(P[0],10);b:{for(var wa=0,pa=Object.entries(Qa.ut);wa<pa.length;wa++){var Ba=pa[wa],Ma=Ba[0];if(Ba[1].includes(W)){W=
parseInt(Ma);break b}}W=Qa.rk}}n=$n(n,{fontSize:P,fontFamily:W,text:null!==(B=n.text)&&void 0!==B?B:"",baseline:n.baseline,textAlign:n.textAlign||Qa.Hg,verticalAlign:n.verticalAlign||Qa.hs});break a;case "draw":case "line":case "arrow":B=n.startArrowhead;B=void 0===B?null:B;P=n.endArrowhead;P=void 0===P?"arrow"===n.type?"arrow":null:P;n=$n(n,{startBinding:n.startBinding,endBinding:n.endBinding,points:!Array.isArray(n.points)||2>n.points.length?[[0,0],[n.width,n.height]]:n.points,lastCommittedPoint:null,
startArrowhead:B,endArrowhead:P});break a;case "ellipse":case "rectangle":case "diamond":n=$n(n,{});break a}n=void 0}n&&h.push(n)}return h},[])},xn=function(d,h){d=d||{};for(var n=uh(),B={},P=0,W=Object.entries(n);P<W.length;P++){var wa=W[P],pa=wa[0];wa=wa[1];var Ba=d[pa],Ma=h?h[pa]:void 0;B[pa]=void 0!==Ba?Ba:void 0!==Ma?Ma:wa}return We(We({},B),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:n.zoom.translation}:d.zoom||n.zoom})},en=
function(d,h){return{elements:vj(null==d?void 0:d.elements),appState:xn(null==d?void 0:d.appState,h||null)}},Go=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;
P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}
var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Ri=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},ih=function(){function d(){}return d.importLibrary=function(h){return ub()(function(){var n,B,P,W;return Go(this,function(wa){switch(wa.label){case 0:return[4,pp(h)];case 1:return(n=wa.sent())&&n.library?(B=
function(pa,Ba){return!pa.find(function(Ma){return Ma.length===Ba.length&&Ma.every(function(Fa,hb){return Fa.id===Ba[hb].id&&Fa.versionNonce===Ba[hb].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return P=wa.sent(),W=n.library.reduce(function(pa,Ba){Ba=Sd(vj(Ba));return B(P,Ba)&&pa.push(Ba),pa},[]),d.saveLibrary(Ri(Ri([],P),W)),[2]}})})()},d}();ih.libraryCache=null;ih.resetLibrary=function(){ih.libraryCache=null;localStorage.removeItem(Qa.I.LOCAL_STORAGE_LIBRARY)};ih.loadLibrary=function(){return new Promise(function(){var d=
ub()(function(h){var n,B;return Go(this,function(P){if(ih.libraryCache)return[2,h(JSON.parse(JSON.stringify(ih.libraryCache)))];try{if(!(n=localStorage.getItem(Qa.I.LOCAL_STORAGE_LIBRARY)))return[2,h([])];B=JSON.parse(n).map(function(W){return vj(W)});ih.libraryCache=JSON.parse(JSON.stringify(B));h(B)}catch(W){console.error(W),h([])}return[2]})});return function(h){return d.apply(this,arguments)}}())};ih.saveLibrary=function(d){var h=ih.libraryCache;try{var n=JSON.stringify(d);ih.libraryCache=JSON.parse(n);
localStorage.setItem(Qa.I.LOCAL_STORAGE_LIBRARY,n)}catch(B){ih.libraryCache=h,console.error(B)}};var am=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];
Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,
P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},bm=function(d,h){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:xg(d),appState:gl(h,"export")},null,2)},Ml=function(){var d=ub()(function(h,n){var B;return am(this,function(P){switch(P.label){case 0:return B=bm(h,n),[4,Hf(new Blob([B],{type:"application/json"}),
{fileName:n.name,description:"Excalidraw file",extensions:[".excalidraw"]},n.fileHandle)];case 1:return[2,{fileHandle:P.sent()}]}})});return function(h,n){return d.apply(this,arguments)}}(),fn=function(){var d=ub()(function(h){var n;return am(this,function(B){switch(B.label){case 0:return[4,kh({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return n=B.sent(),[2,Em(n,h)]}})});return function(h){return d.apply(this,
arguments)}}(),cm=function(){var d=ub()(function(){var h,n;return am(this,function(B){switch(B.label){case 0:return[4,ih.loadLibrary()];case 1:return h=B.sent(),n=JSON.stringify({type:"excalidrawlib",version:1,library:h},null,2),"library.excalidrawlib",[4,Hf(new Blob([n],{type:Qa.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return B.sent(),[2]}})});return function(){return d.apply(this,arguments)}}(),op=function(){var d=
ub()(function(){var h;return am(this,function(n){switch(n.label){case 0:return[4,kh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return h=n.sent(),ih.importLibrary(h),[2]}})});return function(){return d.apply(this,arguments)}}(),Am=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&
W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],
pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},yn=function(){var d=ub()(function(h){var n;return Am(this,function(B){switch(B.label){case 0:if("image/png"!==
h.type)return[3,6];B.label=1;case 1:return B.trys.push([1,4,,5]),[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))];case 2:return[4,B.sent().decodePngMetadata(h)];case 3:return[2,B.sent()];case 4:throw"INVALID"===B.sent().message?Error(Jb("alerts.imageDoesNotContainScene")):Error(Jb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,h.text()]:[3,8];case 7:return n=B.sent(),[3,10];case 8:return[4,new Promise(function(P){var W=new FileReader;W.readAsText(h,"utf8");
W.onloadend=function(){W.readyState===FileReader.DONE&&P(W.result)}})];case 9:n=B.sent(),B.label=10;case 10:if("image/svg+xml"!==h.type)return[3,15];B.label=11;case 11:return B.trys.push([11,14,,15]),[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))];case 12:return[4,B.sent().decodeSvgMetadata({svg:n})];case 13:return[2,B.sent()];case 14:throw"INVALID"===B.sent().message?Error(Jb("alerts.imageDoesNotContainScene")):Error(Jb("alerts.cannotRestoreFromImage"));case 15:return[2,n]}})});return function(h){return d.apply(this,
arguments)}}(),Em=function(){var d=ub()(function(h,n){var B,P;return Am(this,function(W){switch(W.label){case 0:return[4,yn(h)];case 1:B=W.sent();try{var wa=P=JSON.parse(B);if("excalidraw"!==(null==wa?void 0:wa.type)||wa.elements&&(!Array.isArray(wa.elements)||wa.appState&&"object"!=typeof wa.appState))throw Error(Jb("alerts.couldNotLoadInvalidFile"));var pa=xg(P.elements||[]),Ba=null==n?void 0:n.appearance,Ma;if(Ma=h.handle){var Fa=["application/json",Qa.LO.excalidraw],hb=Fa.includes;a:{if("string"==
typeof h)var jb=h;else{if(h.type){var kb=h.type;break a}jb=h.name||""}kb=/\.(excalidraw|json)$/.test(jb)?"application/json":/\.png$/.test(jb)?"image/png":/\.jpe?g$/.test(jb)?"image/jpeg":/\.svg$/.test(jb)?"image/svg+xml":""}Ma=hb.call(Fa,kb)}return[2,en({elements:pa,appState:sb(sb({appearance:Ba,fileHandle:Ma?h.handle:null},gl(P.appState||{},"export")),n?mi(P.elements||[],n):{})},n)]}catch(Kb){throw console.error(Kb.message),Error(Jb("alerts.couldNotLoadInvalidFile"));}}})});return function(h,n){return d.apply(this,
arguments)}}(),pp=function(){var d=ub()(function(h){var n,B;return Am(this,function(P){switch(P.label){case 0:return[4,yn(h)];case 1:if(n=P.sent(),"excalidrawlib"!==(B=JSON.parse(n)).type)throw Error(Jb("alerts.couldNotLoadInvalidFile"));return[2,B]}})});return function(h){return d.apply(this,arguments)}}(),Bm=function(){var d=ub()(function(h){return Am(this,function(n){return[2,new Promise(function(B,P){try{h.toBlob(function(W){if(!W)return P(new hn(Jb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));
B(W)})}catch(W){P(W)}})]})});return function(h){return d.apply(this,arguments)}}(),Tj=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;
case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,
sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Dm="",Cm=!1,Th="clipboard"in navigator&&"readText"in navigator.clipboard,Uj="clipboard"in navigator&&"writeText"in navigator.clipboard,tk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,sk=function(){var d=ub()(function(h,n){var B,P,W;return Tj(this,
function(wa){switch(wa.label){case 0:B={type:"excalidraw/elements",created:Date.now(),elements:df(h,n)},Dm=P=JSON.stringify(B),wa.label=1;case 1:return wa.trys.push([1,3,,4]),Cm=!1,[4,Ab(P)];case 2:return wa.sent(),[3,4];case 3:return W=wa.sent(),Cm=!0,console.error(W),[3,4];case 4:return[2]}})});return function(h,n){return d.apply(this,arguments)}}(),I=function(){if(!Dm)return{};try{return JSON.parse(Dm)}catch(d){return console.error(d),{}}},Y=function(d){d=function(h){var n=h.trim().split("\n").map(function(P){return P.trim().split("\t")});
if(n.length&&2!==n[0].length&&(n=h.trim().split("\n").map(function(P){return P.trim().split(",")})),0===n.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var B=n[0].length;if(!n.every(function(P){return P.length===B}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};h=rm(n);return"VALID_SPREADSHEET"!==h.type&&(n=rm(function(P){for(var W=[],wa=0;wa<P[0].length;wa++){for(var pa=[],Ba=0;Ba<P.length;Ba++)pa.push(P[Ba][wa]);W.push(pa)}return W}(n)),"VALID_SPREADSHEET"===
n.type)?n:h}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},za=function(){var d=ub()(function(h){var n,B,P;return Tj(this,function(W){switch(W.label){case 0:return W.trys.push([0,5,,6]),h?(B=null===(n=h.clipboardData)||void 0===n?void 0:n.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(P=Th)?[4,navigator.clipboard.readText()]:[3,3];case 2:P=W.sent(),W.label=3;case 3:B=P,W.label=4;case 4:return[2,B||""];case 5:return W.sent(),[2,""];case 6:return[2]}})});return function(h){return d.apply(this,
arguments)}}(),$a=function(){var d=ub()(function(h){var n,B,P,W;return Tj(this,function(wa){switch(wa.label){case 0:return[4,za(h)];case 1:if(!(n=wa.sent())||n.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,I()];if(B=Y(n))return[2,B];P=I();try{return W=JSON.parse(n),"excalidraw/elements"===(null==(pa=W)?void 0:pa.type)&&(null==P||!P.created||P.created<W.created)?[2,{elements:W.elements}]:[2,P]}catch(Ba){return[2,Cm&&P.elements?P:{text:n}]}}var pa})});return function(h){return d.apply(this,
arguments)}}(),qb=function(){var d=ub()(function(h){var n;return Tj(this,function(B){switch(B.label){case 0:return[4,Bm(h)];case 1:return n=B.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":n})])];case 2:return B.sent(),[2]}})});return function(h){return d.apply(this,arguments)}}(),Ab=function(){var d=ub()(function(h){var n,B;return Tj(this,function(P){switch(P.label){case 0:if(n=!1,!Uj)return[3,4];P.label=1;case 1:return P.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(h||
"")];case 2:return P.sent(),n=!0,[3,4];case 3:return B=P.sent(),console.error(B),[3,4];case 4:if(P=!n){var W=h||" ",wa="rtl"===document.documentElement.getAttribute("dir");P=document.createElement("textarea");P.style.border="0";P.style.padding="0";P.style.margin="0";P.style.position="absolute";P.style[wa?"right":"left"]="-9999px";P.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");P.style.fontSize="12pt";P.setAttribute("readonly","");P.value=W;document.body.appendChild(P);
W=!1;try{P.select(),P.setSelectionRange(0,P.value.length),W=document.execCommand("copy")}catch(pa){console.error(pa)}P=!(P.remove(),W)}if(P)throw Error("couldn't copy");return[2]}})});return function(h){return d.apply(this,arguments)}}(),Wb=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=
0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=
h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},lc=function(){var d=ub()(function(h,n,B,P,W){var wa,pa,Ba,Ma,Fa,hb,jb,kb,Kb,Ib=W.exportBackground,nc=W.exportPadding,Sc=void 0===nc?10:nc,Zc=W.viewBackgroundColor,
jd=W.name;nc=W.scale;var me=void 0===nc?1:nc,ke=W.shouldAddWatermark;return Wb(this,function(xe){switch(xe.label){case 0:if(0===n.length)throw Error(Jb("alerts.cannotExportEmptyCanvas"));return"svg"!==h&&"clipboard-svg"!==h?[3,7]:(pa=yl,Ba=[n],Ma={exportBackground:Ib,exportWithDarkMode:B.exportWithDarkMode,viewBackgroundColor:Zc,exportPadding:Sc,scale:me,shouldAddWatermark:ke},B.exportEmbedScene&&"svg"===h?[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))]:[3,3]);case 1:return[4,xe.sent().encodeSvgMetadata({text:bm(n,
B)})];case 2:return Fa=xe.sent(),[3,4];case 3:Fa=void 0,xe.label=4;case 4:return wa=pa.apply(void 0,Ba.concat([(Ma.metadata=Fa,Ma)])),"svg"!==h?[3,6]:[4,Hf(new Blob([wa.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(jd,".svg"),extensions:[".svg"]})];case 5:return xe.sent(),[2];case 6:if("clipboard-svg"===h)return Ab(wa.outerHTML),[2];xe.label=7;case 7:return(hb=Ql(n,B,{exportBackground:Ib,viewBackgroundColor:Zc,exportPadding:Sc,scale:me,shouldAddWatermark:ke})).style.display="none",document.body.appendChild(hb),
"png"!==h?[3,13]:(jb="".concat(jd,".png"),[4,Bm(hb)]);case 8:return kb=xe.sent(),B.exportEmbedScene?[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))]:[3,11];case 9:return[4,xe.sent().encodePngMetadata({blob:kb,metadata:bm(n,B)})];case 10:kb=xe.sent(),xe.label=11;case 11:return[4,Hf(kb,{fileName:jb,extensions:[".png"]})];case 12:return xe.sent(),[3,17];case 13:if("clipboard"!==h)return[3,17];xe.label=14;case 14:return xe.trys.push([14,16,,17]),[4,qb(hb)];case 15:return xe.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===
(Kb=xe.sent()).name)throw Kb;throw Error(Jb("alerts.couldNotCopyToClipboard"));case 17:return hb!==P&&hb.remove(),[2]}})});return function(h,n,B,P,W){return d.apply(this,arguments)}}(),zc=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=
Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&
Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Kc,ed,Dd;Yd({name:"changeProjectName",perform:function(d,h,n){return eh("change","title"),{appState:Ua(Ua({},h),{},{name:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement(Oh,
{label:Jb("labels.fileTitle"),value:h.name||"Unnamed",onChange:function(B){return n(B)}})}});Yd({name:"changeExportBackground",perform:function(d,h,n){return{appState:Ua(Ua({},h),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:h.exportBackground,onChange:function(B){return n(B.target.checked)}})," ",Jb("labels.withBackground"))}});Yd({name:"changeExportEmbedScene",
perform:function(d,h,n){return{appState:Ua(Ua({},h),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement("label",{style:{display:"flex"}},R().createElement("input",{type:"checkbox",checked:h.exportEmbedScene,onChange:function(B){return n(B.target.checked)}})," ",Jb("labels.exportEmbedScene"),R().createElement(Rj,{label:Jb("labels.exportEmbedScene_details"),position:"above",long:!0},R().createElement("div",{className:"TooltipIcon"},
Qf)))}});Yd({name:"changeShouldAddWatermark",perform:function(d,h,n){return{appState:Ua(Ua({},h),{},{shouldAddWatermark:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:h.shouldAddWatermark,onChange:function(B){return n(B.target.checked)}})," ",Jb("labels.addWatermark"))}});Yd({name:"saveScene",perform:(Kc=ub()(function(d,h,n){var B,P,W;return zc(this,function(wa){switch(wa.label){case 0:B=
!!h.fileHandle,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,Ml(d,h)];case 2:return P=wa.sent().fileHandle,[2,{commitToHistory:!1,appState:Ua(Ua({},h),{},{fileHandle:P,toastMessage:B?P.name?Jb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(P.name,'"')):Jb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(W=wa.sent())?void 0:W.name)&&console.error(W),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,h,n){return Kc.apply(this,arguments)}),keyTest:function(d){return"s"===
d.key&&d[we]&&!d.shiftKey},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:he,title:Jb("buttons.save"),"aria-label":Jb("buttons.save"),showAriaLabel:De(),onClick:function(){return h(null)}})}});Yd({name:"saveAsScene",perform:(ed=ub()(function(d,h,n){var B,P;return zc(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,,3]),[4,Ml(d,Ua(Ua({},h),{},{fileHandle:null}))];case 1:return B=W.sent().fileHandle,[2,{commitToHistory:!1,appState:Ua(Ua({},
h),{},{fileHandle:B})}];case 2:return"AbortError"!==(null==(P=W.sent())?void 0:P.name)&&console.error(P),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,h,n){return ed.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[we]},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:Oj,title:Jb("buttons.saveAs"),"aria-label":Jb("buttons.saveAs"),showAriaLabel:De(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in
window),onClick:function(){return h(null)}})}});Yd({name:"loadScene",perform:(Dd=ub()(function(d,h){var n,B,P,W;return zc(this,function(wa){switch(wa.label){case 0:return wa.trys.push([0,2,,3]),[4,fn(h)];case 1:return n=wa.sent(),B=n.elements,P=n.appState,[2,{elements:B,appState:P,commitToHistory:!0}];case 2:return"AbortError"===(null==(W=wa.sent())?void 0:W.name)?[2,!1]:[2,{elements:d,appState:Ua(Ua({},h),{},{errorMessage:W.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,h){return Dd.apply(this,
arguments)}),keyTest:function(d){return d[we]&&"o"===d.key},PanelComponent:function(d){var h=d.updateData;d.appState;return R().createElement(Qe,{type:"button",icon:Gk,title:Jb("buttons.load"),"aria-label":Jb("buttons.load"),showAriaLabel:De(),onClick:h})}});Yd({name:"exportWithDarkMode",perform:function(d,h,n){return{appState:Ua(Ua({},h),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement("div",{style:{display:"flex",
justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},R().createElement(Bk,{value:h.exportWithDarkMode?"dark":"light",onChange:function(B){n("dark"===B)},title:Jb("labels.toggleExportColorScheme")}))}});var Rd="{}",Ze=Yd({name:"copyStyles",perform:function(d,h){d=d.find(function(n){return h.selectedElementIds[n.id]});return d&&(Rd=JSON.stringify(d)),{appState:mb(mb({},h),{},{toastMessage:Jb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[we]&&
d.altKey&&"KeyC"===d.code}}),Se=Yd({name:"pasteStyles",perform:function(d,h){var n=JSON.parse(Rd);return"text"!==(null==n?void 0:n.type)&&"diamond"!==(null==n?void 0:n.type)&&"rectangle"!==(null==n?void 0:n.type)&&"ellipse"!==(null==n?void 0:n.type)&&"arrow"!==(null==n?void 0:n.type)&&"draw"!==(null==n?void 0:n.type)&&"line"!==(null==n?void 0:n.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(B){return h.selectedElementIds[B.id]?(B=wf(B,{backgroundColor:null==n?void 0:n.backgroundColor,
strokeWidth:null==n?void 0:n.strokeWidth,strokeColor:null==n?void 0:n.strokeColor,strokeStyle:null==n?void 0:n.strokeStyle,fillStyle:null==n?void 0:n.fillStyle,opacity:null==n?void 0:n.opacity,roughness:null==n?void 0:n.roughness}),og(B)&&(Gd(B,{fontSize:(null==n?void 0:n.fontSize)||Qa.n5,fontFamily:(null==n?void 0:n.fontFamily)||Qa.rk,textAlign:(null==n?void 0:n.textAlign)||Qa.Hg}),Zk(B)),B):B}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[we]&&d.altKey&&
"KeyV"===d.code}}),ei=function(d){return R().createElement("label",{title:"".concat(d.title," — ?"),className:"help-icon"},R().createElement("div",{onClick:d.onClick},Qf))};Yd({name:"toggleCanvasMenu",perform:function(d,h){return{appState:ac(ac({},h),{},{openMenu:"canvas"===h.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState;d=d.updateData;return R().createElement(Qe,{type:"button",icon:gd,"aria-label":Jb("buttons.menu"),onClick:d,selected:"canvas"===h.openMenu})}});
Yd({name:"toggleEditMenu",perform:function(d,h){return{appState:ac(ac({},h),{},{openMenu:"shape"===h.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var h=d.elements,n=d.appState;d=d.updateData;return R().createElement(Qe,{visible:Ef(n,Sd(h)),type:"button",icon:Pj,"aria-label":Jb("buttons.edit"),onClick:d,selected:"shape"===n.openMenu})}});Yd({name:"toggleFullScreen",perform:function(){return mh()||document.documentElement.requestFullscreen(),mh()&&document.exitFullscreen(),
{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[we]}});Yd({name:"toggleShortcuts",perform:function(d,h){return{appState:ac(ac({},h),{},{showHelpDialog:!h.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;return R().createElement(ei,{title:Jb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Jk=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Yj=function(d,h){d=df(Sd(d),h);return 2<=d.length&&
!function(n){if(2<=n.length)for(var B=function(pa){if(n.reduce(function(Ba,Ma){return Ba&&Ma.groupIds.includes(pa)},!0))return{value:!0}},P=0,W=n[0].groupIds;P<W.length;P++){var wa=B(W[P]);if("object"==typeof wa)return wa.value}return!1}(d)},Mf=Yd({name:"group",perform:function(d,h){var n=df(Sd(d),h);if(2>n.length)return{appState:h,elements:d,commitToHistory:!1};var B=Si(h);if(1===B.length&&(B=new Set(Ke(d,B[0]).map(function(wa){return wa.id})),n=new Set(n.map(function(wa){return wa.id})),(new Set(Jk(Jk([],
Array.from(B)),Array.from(n)))).size===B.size))return{appState:h,elements:d,commitToHistory:!1};var P=Xj();B=d.map(function(wa){if(h.selectedElementIds[wa.id]){var pa=h.editingGroupId;var Ba=hl([],wa.groupIds);pa=pa?Ba.indexOf(pa):-1;Ba=(Ba.splice(-1<pa?pa:Ba.length,0,P),Ba);wa=wf(wa,{groupIds:Ba})}return wa});d=Ke(B,P);var W=B.lastIndexOf(d[d.length-1]);n=B.slice(W+1);B=B.slice(0,W).filter(function(wa){return!wa.groupIds.includes(P)});d=Jk(Jk(Jk([],B),d),n);return{appState:Bj(P,kc(kc({},h),{},{selectedGroupIds:{}}),
Sd(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,h){return Yj(d,h)},keyTest:function(d){return!d.shiftKey&&d[we]&&"KeyG"===d.code},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Yj(h,n),type:"button",icon:R().createElement(If,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Jb("labels.group")," — ").concat(td("CtrlOrCmd+G")),"aria-label":Jb("labels.group"),
visible:Eg(Sd(h),n)})}}),ri=Yd({name:"ungroup",perform:function(d,h){if(0===Si(h).length)return{appState:h,elements:d,commitToHistory:!1};d=d.map(function(n){var B=function(P,W){return P.filter(function(wa){return!W[wa]})}(n.groupIds,h.selectedGroupIds);return B.length===n.groupIds.length?n:wf(n,{groupIds:B})});return{appState:Zj(kc(kc({},h),{},{selectedGroupIds:{}}),Sd(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[we]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",
contextItemPredicate:function(d,h){return 0<Si(h).length},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{type:"button",hidden:0===Si(n).length,icon:R().createElement(vi,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Jb("labels.ungroup")," — ").concat(td("CtrlOrCmd+Shift+G")),"aria-label":Jb("labels.ungroup"),visible:Eg(Sd(h),n)})}}),Ak=(g(1395),function(d){var h=d.children,n=d.color,B=d.border;d=d.onClick;return R().createElement("div",
{className:"Avatar",style:{background:n,border:"1px solid ".concat(B)},onClick:d},h)});Yd({name:"goToCollaborator",perform:function(d,h,n){return n?{appState:Qb(Qb(Qb({},h),Bi({scenePoint:n,viewportDimensions:{width:h.width,height:h.height},zoom:h.zoom})),{},{openMenu:"canvas"===h.openMenu?null:h.openMenu}),commitToHistory:!1}:{appState:h,commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;d=d.id;if(!d)return null;var B=h.collaborators.get(d);if(!B)return null;d=Gi(d,h);
h=d.background;d=d.stroke;var P=function(W){if(!W)return"?";W=W.trim().split(" ");return 2>W.length?W[0].substring(0,2).toUpperCase():(W[0][0]+W[W.length-1][0]).toUpperCase()}(B.username);return R().createElement(Ak,{color:h,border:d,onClick:function(){return n(B.pointer)}},P)}});var Jm=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Do=Yd({name:"addToLibrary",perform:function(d,h){var n=df(Sd(d),h);return ih.loadLibrary().then(function(B){ih.saveLibrary(Jm(Jm([],B),
[n.map(fi)]))}),!1},contextItemLabel:"labels.addToLibrary"}),Bn=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Yn=function(d){var h=new Map;return d.forEach(function(n){var B=0===n.groupIds.length?n.id:n.groupIds[n.groupIds.length-1],P=h.get(B)||[];h.set(B,Bn(Bn([],P),[n]))}),Array.from(h.values())},kf=function(d,h,n){var B,P,W,wa=n.axis;n=n.position;d=Wj(d);var pa="x"===wa?["minX","maxX"]:["minY","maxY"],Ba=pa[0];pa=pa[1];return Kd(Kd({},{x:0,y:0}),{},"start"===n?
((B={})[wa]=h[Ba]-d[Ba],B):"end"===n?((P={})[wa]=h[pa]-d[pa],P):((W={})[wa]=(h[Ba]+h[pa])/2-(d[Ba]+d[pa])/2,W))},Wj=function(d){d=Yf(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Uh=function(d,h){return 1<df(Sd(d),h).length},Ci=function(d,h,n){h=function(P,W){var wa=Yn(P),pa=Wj(P);return wa.flatMap(function(Ba){var Ma=kf(Ba,pa,W);return Ba.map(function(Fa){return wf(Fa,{x:Fa.x+Ma.x,y:Fa.y+Ma.y})})})}(df(Sd(d),h),n);var B=Gh(h);return d.map(function(P){return B[P.id]||P})},jn=(Yd({name:"alignTop",
perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[we]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,n),type:"button",icon:R().createElement(wd,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Jb("labels.alignTop")," — ").concat(td("CtrlOrCmd+Shift+Up")),"aria-label":Jb("labels.alignTop"),
visible:Eg(Sd(h),n)})}}),Yd({name:"alignBottom",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[we]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,n),type:"button",icon:R().createElement(Mh,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Jb("labels.alignBottom")," — ").concat(td("CtrlOrCmd+Shift+Down")),
"aria-label":Jb("labels.alignBottom"),visible:Eg(Sd(h),n)})}}),Yd({name:"alignLeft",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[we]&&d.shiftKey&&"ArrowLeft"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,n),type:"button",icon:R().createElement(Uc,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Jb("labels.alignLeft"),
" — ").concat(td("CtrlOrCmd+Shift+Left")),"aria-label":Jb("labels.alignLeft"),visible:Eg(Sd(h),n)})}}),Yd({name:"alignRight",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[we]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,n),type:"button",icon:R().createElement(jl,{appearance:n.appearance}),onClick:function(){return B(null)},
title:"".concat(Jb("labels.alignRight")," — ").concat(td("CtrlOrCmd+Shift+Right")),"aria-label":Jb("labels.alignRight"),visible:Eg(Sd(h),n)})}}),Yd({name:"alignVerticallyCentered",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,n),type:"button",icon:R().createElement(rh,{appearance:n.appearance}),onClick:function(){return B(null)},
title:Jb("labels.centerVertically"),"aria-label":Jb("labels.centerVertically"),visible:Eg(Sd(h),n)})}}),Yd({name:"alignHorizontallyCentered",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,n),type:"button",icon:R().createElement(aj,{appearance:n.appearance}),onClick:function(){return B(null)},title:Jb("labels.centerHorizontally"),
"aria-label":Jb("labels.centerHorizontally"),visible:Eg(Sd(h),n)})}}),function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d}),$p=function(d){var h=new Map;return d.forEach(function(n){var B=0===n.groupIds.length?n.id:n.groupIds[n.groupIds.length-1],P=h.get(B)||[];h.set(B,jn(jn([],P),[n]))}),Array.from(h.values())},ij=function(d){var h=Yf(d);d=h[0];var n=h[1],B=h[2];h=h[3];return{minX:d,minY:n,maxX:B,maxY:h,width:B-d,height:h-n,midX:(d+B)/2,midY:(n+h)/2}},Co=function(d,h){return 1<
df(Sd(d),h).length},zn=function(d,h,n){h=function(P,W){var wa="x"===W.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],pa=wa[0],Ba=wa[1],Ma=wa[2],Fa=wa[3],hb=ij(P);P=$p(P).map(function(jd){return[jd,ij(jd)]}).sort(function(jd,me){return jd[1][Ba]-me[1][Ba]});for(var jb=wa=0;jb<P.length;jb++)wa+=P[jb][1][Fa];var kb=(hb[Fa]-wa)/(P.length-1);if(0>kb){var Kb=P.findIndex(function(jd){return jd[1][pa]===hb[pa]}),Ib=P.findIndex(function(jd){return jd[1][Ma]===hb[Ma]}),nc=(P[Ib][1][Ba]-
P[Kb][1][Ba])/(P.length-1),Sc=P[Kb][1][Ba];return P.flatMap(function(jd,me){var ke=jd[0];jd=jd[1];var xe={x:0,y:0};return me!==Kb&&me!==Ib&&(Sc+=nc,xe[W.axis]=Sc-jd[Ba]),ke.map(function(pe){return wf(pe,{x:pe.x+xe.x,y:pe.y+xe.y})})})}var Zc=hb[pa];return P.flatMap(function(jd){var me=jd[0];jd=jd[1];var ke={x:0,y:0};return ke[W.axis]=Zc-jd[pa],Zc+=kb,Zc+=jd[Fa],me.map(function(xe){return wf(xe,{x:xe.x+ke.x,y:xe.y+ke.y})})})}(df(Sd(d),h),n);var B=Gh(h);return d.map(function(P){return B[P.id]||P})},
Wn=(Yd({name:"distributeHorizontally",perform:function(d,h){return{appState:h,elements:zn(d,h,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Co(h,n),type:"button",icon:R().createElement(Uf,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Jb("labels.distributeHorizontally")," — ").concat(td("Alt+H")),"aria-label":Jb("labels.distributeHorizontally"),
visible:Eg(Sd(h),n)})}}),Yd({name:"distributeVertically",perform:function(d,h){return{appState:h,elements:zn(d,h,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyV"===d.code},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement(Qe,{hidden:!Co(h,n),type:"button",icon:R().createElement(Nh,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Jb("labels.distributeVertically")," — ").concat(td("Alt+V")),
"aria-label":Jb("labels.distributeVertically"),visible:Eg(Sd(h),n)})}}),function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();
pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&
W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),gn=Yd({name:"copy",perform:function(d,h){return sk(Sd(d),h),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),Zp=Yd({name:"cut",perform:function(d,h,n,B){return gn.perform(d,h,n,B),Cl.perform(d,h,n,B)},contextItemLabel:"labels.cut",keyTest:function(d){return d[we]&&"KeyX"===d.code}}),tp=Yd({name:"copyAsSvg",perform:function(){var d=
ub()(function(h,n,B,P){var W,wa;return Wn(this,function(pa){switch(pa.label){case 0:if(!P.canvas)return[2,{commitToHistory:!1}];W=df(Sd(h),n);pa.label=1;case 1:return pa.trys.push([1,3,,4]),[4,lc("clipboard-svg",W.length?W:Sd(h),n,P.canvas,n)];case 2:return pa.sent(),[2,{commitToHistory:!1}];case 3:return wa=pa.sent(),console.error(wa),[2,{appState:nd(nd({},n),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(h,n,B,P){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),
sp=Yd({name:"copyAsPng",perform:function(){var d=ub()(function(h,n,B,P){var W,wa;return Wn(this,function(pa){switch(pa.label){case 0:if(!P.canvas)return[2,{commitToHistory:!1}];W=df(Sd(h),n);pa.label=1;case 1:return pa.trys.push([1,3,,4]),[4,lc("clipboard",W.length?W:Sd(h),n,P.canvas,n)];case 2:return pa.sent(),[2,{appState:nd(nd({},n),{},{toastMessage:Jb("toast.copyToClipboardAsPng",{exportSelection:W.length?Jb("toast.selection"):Jb("toast.canvas"),exportColorScheme:n.exportWithDarkMode?Jb("buttons.darkMode"):
Jb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return wa=pa.sent(),console.error(wa),[2,{appState:nd(nd({},n),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(h,n,B,P){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),qp=Yd({name:"gridMode",perform:function(d,h){return eh("view","mode","grid"),{appState:yc(yc({},h),{},{gridSize:this.checked(h)?null:Qa.k}),commitToHistory:!1}},
checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[we]&&"Quote"===d.code}}),Zd=Yd({name:"zenMode",perform:function(d,h){return eh("view","mode","zen"),{appState:Na(Na({},h),{},{zenModeEnabled:!this.checked(h)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[we]&&d.altKey&&"KeyZ"===d.code}}),Xn=Yd({name:"stats",perform:function(d,h){return{appState:tc(tc({},
h),{},{showStats:!this.checked(h)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),rp=function(d,h,n){if(!(h.multiElement||h.resizingElement||h.editingElement||h.draggingElement)){n=n();if(null===n)return{commitToHistory:!1};var B=Gh(d),P=n.elements,W=Gh(P);d=d.filter(function(wa){return!W.hasOwnProperty(wa.id)});P=P.map(function(wa){return wf(B[wa.id]||wa,wa)}).concat(d.map(function(wa){return wf(wa,{isDeleted:!0})}));return li(P,d),{elements:P,appState:ad(ad({},
h),n.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},hm=function(){function d(h,n,B,P){var W=this;this.actions={};this.renderAction=function(wa,pa){if(W.actions[wa]&&"PanelComponent"in W.actions[wa]){var Ba=W.actions[wa];wa=Ba.PanelComponent;return R().createElement(wa,{elements:W.getElementsIncludingDeleted(),appState:W.getAppState(),updateData:function(Ma){W.updater(Ba.perform(W.getElementsIncludingDeleted(),W.getAppState(),Ma,W.app))},id:pa})}return null};this.updater=
function(wa){if(!(wa&&"then"in wa))return h(wa);wa.then(function(pa){return h(pa)})};this.getAppState=n;this.getElementsIncludingDeleted=B;this.app=P}return d.prototype.registerAction=function(h){this.actions[h.name]=h},d.prototype.registerAll=function(h){var n=this;h.forEach(function(B){return n.registerAction(B)})},d.prototype.handleKeyDown=function(h){var n=this,B=Object.values(this.actions).sort(function(P,W){return(W.keyPriority||0)-(P.keyPriority||0)}).filter(function(P){return P.keyTest&&P.keyTest(h,
n.getAppState(),n.getElementsIncludingDeleted())});return 0!==B.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Qa.EH).includes(B[0].name))&&(h.preventDefault(),this.updater(B[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(h){this.updater(h.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Lm=function(d){d=Array.from(d.values());return{x:ao(d,function(h){return h.x})/d.length,y:ao(d,
function(h){return h.y})/d.length}},Zn=function(d){var h=d[0];d=d[1];return Math.hypot(h.x-d.x,h.y-d.y)},ao=function(d,h){return d.reduce(function(n,B){return n+h(B)},0)},Eo,aq=function(){function d(){var h=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(n,B){return h.dehydrateHistoryEntry({appState:{selectedElementIds:n.selectedElementIds,viewBackgroundColor:n.viewBackgroundColor,editingLinearElement:n.editingLinearElement,
editingGroupId:n.editingGroupId,name:n.name},elements:B.reduce(function(P,W){if(pg(W)&&n.multiElement&&n.multiElement.id===W.id){if(n.multiElement&&n.multiElement.id===W.id&&2>W.points.length)return P;P.push(qe(qe({},W),{},{points:W.lastCommittedPoint!==W.points[W.points.length-1]?W.points.slice(0,-1):W.points}))}else P.push(W);return P},[])})}}return d.prototype.hydrateHistoryEntry=function(h){var n=h.elements,B=this;return{appState:JSON.parse(h.appState),elements:n.map(function(P){var W,wa=null===
(W=B.elementCache.get(P.id))||void 0===W?void 0:W.get(P.versionNonce);if(!wa)throw Error("Element not found: ".concat(P.id,":").concat(P.versionNonce));return wa})}},d.prototype.dehydrateHistoryEntry=function(h){var n=h.elements,B=this;return{appState:JSON.stringify(h.appState),elements:n.map(function(P){B.elementCache.has(P.id)||B.elementCache.set(P.id,new Map);var W=B.elementCache.get(P.id);return W.has(P.versionNonce)||W.set(P.versionNonce,fi(P)),{id:P.id,versionNonce:P.versionNonce}})}},d.prototype.getSnapshotForTest=
function(){var h=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(n){return h.hydrateHistoryEntry(n)}),redoStack:this.redoStack.map(function(n){return h.hydrateHistoryEntry(n)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(h){var n,B=this.lastEntry;if(!B||h.elements.length!==B.elements.length)return!0;for(var P=h.elements.length-1;-1<P;P--){var W=
h.elements[P],wa=B.elements[P];if(!W||!wa||W.id!==wa.id||W.versionNonce!==wa.versionNonce)return!0}for(n in h.appState){var pa,Ba;if(("editingLinearElement"!==n||(null===(pa=h.appState[n])||void 0===pa?void 0:pa.elementId)!==(null===(Ba=B.appState[n])||void 0===Ba?void 0:Ba.elementId))&&"selectedElementIds"!==n&&h.appState[n]!==B.appState[n])return!0}return!1},d.prototype.pushEntry=function(h,n){h=this.generateEntry(h,n);(n=this.hydrateHistoryEntry(h))&&this.shouldCreateEntry(n)&&(this.stateHistory.push(h),
this.lastEntry=n,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var h=this.redoStack.pop();return void 0!==h?(this.stateHistory.push(h),this.hydrateHistoryEntry(h)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var h=this.stateHistory.pop(),n=this.stateHistory[this.stateHistory.length-1];return void 0!==h?(this.redoStack.push(h),
this.hydrateHistoryEntry(n)):null},d.prototype.setCurrentState=function(h,n){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(h,n))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(h,n){this.recording&&(this.pushEntry(h,n),this.recording=!1)},d}(),jm=[{icon:R().createElement("svg",{viewBox:"0 0 320 512",className:""},R().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:R().createElement("svg",{viewBox:"0 0 448 512"},R().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:R().createElement("svg",{viewBox:"0 0 223.646 223.646"},R().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:R().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},R().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:R().createElement("svg",{viewBox:"0 0 6 6"},
R().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:R().createElement("svg",{viewBox:"0 0 448 512"},R().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Bo=(g(4518),{cut:[td("CtrlOrCmd+X")],copy:[td("CtrlOrCmd+C")],
paste:[td("CtrlOrCmd+V")],copyStyles:[td("CtrlOrCmd+Alt+C")],pasteStyles:[td("CtrlOrCmd+Alt+V")],selectAll:[td("CtrlOrCmd+A")],deleteSelectedElements:[td("Del")],duplicateSelection:[td("CtrlOrCmd+D"),td("Alt+".concat(Jb("helpDialog.drag")))],sendBackward:[td("CtrlOrCmd+[")],bringForward:[td("CtrlOrCmd+]")],sendToBack:[td(zg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[td(zg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[td("Shift+Alt+C")],copyAsSvg:[],group:[td("CtrlOrCmd+G")],ungroup:[td("CtrlOrCmd+Shift+G")],
gridMode:[td("CtrlOrCmd+'")],zenMode:[td("Alt+Z")],stats:[],addToLibrary:[],viewMode:[td("Alt+R")]}),Yp=function(d){var h,n=d.options,B=d.onCloseRequest,P=d.top,W=d.left,wa=d.actionManager,pa=d.appState;d=!(null===(h=document.querySelector(".excalidraw"))||void 0===h||!h.classList.contains("Appearance_dark"));return R().createElement("div",{className:Dc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},R().createElement(eb,{onCloseRequest:B,top:P,left:W,fitInViewport:!0},R().createElement("ul",
{className:"context-menu",onContextMenu:function(Ba){return Ba.preventDefault()}},n.map(function(Ba,Ma){var Fa;if("separator"===Ba)return R().createElement("hr",{key:Ma,className:"context-menu-option-separator"});var hb,jb=Ba.name,kb=Ba.contextItemLabel?Jb(Ba.contextItemLabel):"";return R().createElement("li",{key:Ma,"data-testid":jb,onClick:B},R().createElement("button",{className:Dc("context-menu-option",{dangerous:"deleteSelectedElements"===jb,checkmark:null===(Fa=Ba.checked)||void 0===Fa?void 0:
Fa.call(Ba,pa)}),onClick:function(){return wa.executeAction(Ba)}},R().createElement("div",{className:"context-menu-option__label"},kb),R().createElement("kbd",{className:"context-menu-option__shortcut"},jb?(hb=Bo[jb])&&0<hb.length?hb[0]:"":"")))}))))},Ao=function(){if(Eo)return Eo;var d=document.createElement("div");return document.body.appendChild(d),Eo=d},Km=function(){(0,Ug.unmountComponentAtNode)(Ao())};const An=function(d){var h=[];d.options.forEach(function(n){n&&h.push(n)});h.length&&(0,Ug.render)(R().createElement(Yp,
{top:d.top,left:d.left,options:h,onCloseRequest:Km,actionManager:d.actionManager,appState:d.appState}),Ao())};g(1575);const Mk=function(d){var h=d.children,n=d.gap,B=d.align,P=d.justifyContent,W=d.className;d=d.style;return R().createElement("div",{className:Dc("Stack Stack_horizontal",W),style:Yc({"--gap":n,alignItems:B,justifyContent:P},d)},h)},Nk=function(d){var h=d.children,n=d.gap,B=d.align,P=d.justifyContent;d=d.className;return R().createElement("div",{className:Dc("Stack Stack_vertical",d),
style:{"--gap":n,justifyItems:B,justifyContent:P}},h)};var ar=function(d){var h=d.appState,n=d.renderAction,B=d.elementType;d=nj(Sd(d.elements),h);h=!!h.editingElement;var P=De(),W="rtl"===document.documentElement.getAttribute("dir"),wa=Ij(B)||d.some(function(Ba){return Ij(Ba.type)&&(Ma=Ba.backgroundColor,Fa=5===Ma.length&&"0"===Ma.substr(4,1),hb=9===Ma.length&&"00"===Ma.substr(7,2),!(Fa||hb||Ma===qg.elementBackground[0]));var Ma,Fa,hb}),pa=Ij(B)||d.some(function(Ba){return Ij(Ba.type)});return R().createElement("div",
{className:"panelColumn"},n("changeStrokeColor"),pa&&n("changeBackgroundColor"),wa&&n("changeFillStyle"),(Bf(B)||d.some(function(Ba){return Bf(Ba.type)}))&&R().createElement(R().Fragment,null,n("changeStrokeWidth"),n("changeStrokeStyle"),n("changeSloppiness")),(rj(B)||d.some(function(Ba){return rj(Ba.type)}))&&R().createElement(R().Fragment,null,n("changeSharpness")),("text"===B||d.some(function(Ba){return"text"===Ba.type}))&&R().createElement(R().Fragment,null,n("changeFontSize"),n("changeFontFamily"),
n("changeTextAlign")),("arrow"===B||d.some(function(Ba){return"arrow"===Ba.type}))&&R().createElement(R().Fragment,null,n("changeArrowhead")),n("changeOpacity"),R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.layers")),R().createElement("div",{className:"buttonList"},n("sendToBack"),n("sendBackward"),n("bringToFront"),n("bringForward"))),1<d.length&&R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.align")),R().createElement("div",{className:"buttonList"},
W?R().createElement(R().Fragment,null,n("alignRight"),n("alignHorizontallyCentered"),n("alignLeft")):R().createElement(R().Fragment,null,n("alignLeft"),n("alignHorizontallyCentered"),n("alignRight")),2<d.length&&n("distributeHorizontally"),R().createElement("div",{className:"iconRow"},n("alignTop"),n("alignVerticallyCentered"),n("alignBottom"),2<d.length&&n("distributeVertically")))),!P&&!h&&0<d.length&&R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.actions")),R().createElement("div",
{className:"buttonList"},n("duplicateSelection"),n("deleteSelectedElements"),n("group"),n("ungroup"))))},Sr=R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
Xp=function(d){var h=d.canvas,n=d.elementType,B=d.setAppState,P=d.isLibraryOpen;return R().createElement(R().Fragment,null,jm.map(function(W,wa){var pa=W.value,Ba=W.icon,Ma=W.key;W=Jb("toolBar.".concat(pa));Ma="".concat(Vj("string"==typeof Ma?Ma:Ma[0])," ").concat(Jb("helpDialog.or")," ").concat(wa+1);return R().createElement(Qe,{className:"Shape",key:pa,type:"radio",icon:Ba,checked:n===pa,name:"editor-current-shape",title:"".concat(Vj(W)," — ").concat(Ma),keyBindingLabel:"".concat(wa+1),"aria-label":Vj(W),
"aria-keyshortcuts":Ma,"data-testid":pa,onChange:function(){B({elementType:pa,multiElement:null,selectedElementIds:{}});Kf(h,pa);B({})}})}),R().createElement(Qe,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Sr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(Vj(Jb("toolBar.library"))," — 9"),"aria-label":Vj(Jb("toolBar.library")),onClick:function(){B({isLibraryOpen:!P})}}))},Rr=function(d){var h=d.renderAction;d=d.zoom;return R().createElement(Nk,
{gap:1},R().createElement(Mk,{gap:1,align:"center"},h("zoomIn"),h("zoomOut"),h("resetZoom"),R().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},$q=function(d){var h=d.appState,n=d.setAppState;d=d.actionManager;return R().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),R().createElement("div",{style:{marginInlineStart:"0.25rem"}},R().createElement(Bk,{value:h.appearance,onChange:function(B){n({appearance:B})}})))};g(3211);
const br=function(d){var h=d.isCollaborating,n=d.collaboratorCount;d=d.onClick;return R().createElement(R().Fragment,null,R().createElement(Qe,{className:Dc("CollabButton",{"is-collaborating":h}),onClick:d,icon:oe,type:"button",title:Jb("labels.liveCollaboration"),"aria-label":Jb("labels.liveCollaboration"),showAriaLabel:De()},0<n&&R().createElement("div",{className:"CollabButton-collaborators"},n)))};g(3040);g(7428);var Pk=R().forwardRef(function(d,h){var n=d.children,B=d.padding,P=d.className;d=
d.style;return R().createElement("div",{className:Dc("Island",P),style:lb({"--padding":B},d),ref:h},n)}),Tr=(g(205),function(d){var h=up();return h?(0,Ug.createPortal)(R().createElement("div",{className:Dc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(n){"Escape"===n.key&&(n.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},R().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),R().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),h):null}),up=function(){var d=(0,Z.useState)(null),h=d[0],n=d[1];return(0,Z.useLayoutEffect)(function(){var B,P=!(null===(B=document.querySelector(".excalidraw"))||void 0===B||!B.classList.contains("Appearance_dark")),W=document.createElement("div");return W.classList.add("excalidraw","excalidraw-modal-container"),P&&(W.classList.add("Appearance_dark"),W.classList.add("Appearance_dark-background-none")),document.body.appendChild(W),
n(W),function(){document.body.removeChild(W)}},[]),h},z=function(d){var h=function(){var P=(0,Z.useState)(null),W=P[1];return[P[0],(0,Z.useCallback)(function(wa){return W(wa)},[])]}(),n=h[0];h=h[1];(0,Z.useEffect)(function(){if(n){var P=B(n);0<P.length&&!1!==d.autofocus&&(P[1]||P[0]).focus();var W=function(wa){if("Tab"===wa.key){var pa=B(n),Ba=document.activeElement,Ma=pa.findIndex(function(Fa){return Fa===Ba});0===Ma&&wa.shiftKey?(pa[pa.length-1].focus(),wa.preventDefault()):Ma!==pa.length-1||wa.shiftKey||
(pa[0].focus(),wa.preventDefault())}};return n.addEventListener("keydown",W),function(){return n.removeEventListener("keydown",W)}}},[n,d.autofocus]);var B=function(P){return(P=P.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(P):[]};return R().createElement(Tr,{className:Dc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},R().createElement(Pk,{ref:h},R().createElement("h2",{id:"dialog-title",className:"Dialog__title"},
R().createElement("span",{className:"Dialog__titleContent"},d.title),R().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":Jb("buttons.close")},De()?Qj:sj)),R().createElement("div",{className:"Dialog__content"},d.children)))},L=function(d){var h=d.message,n=d.onClose,B=(0,Z.useState)(!!h);d=B[0];var P=B[1];B=R().useCallback(function(){P(!1);n&&n()},[n]);return R().createElement(R().Fragment,null,d&&R().createElement(z,{small:!0,onCloseRequest:B,title:Jb("errorDialog.title")},
R().createElement("div",null,h.split("\n").map(function(W){return R().createElement(R().Fragment,null,W,R().createElement("br",null))}))))},ba=(g(8623),[1,2,3]),Ea=ba.includes(devicePixelRatio)?devicePixelRatio:1,Xa="filter"in document.createElement("canvas").getContext("2d"),nb=function(){return R().createElement("div",null,R().createElement("h3",null,Jb("canvasError.cannotShowPreview")),R().createElement("p",null,R().createElement("span",null,Jb("canvasError.canvasTooBig"))),R().createElement("em",
null,"(",Jb("canvasError.canvasTooBigTip"),")"))},zb=function(d,h){(0,Ug.unmountComponentAtNode)(h);h.innerHTML="";d instanceof HTMLCanvasElement?h.appendChild(d):(0,Ug.render)(R().createElement(nb,null),h)},Nb=function(d){var h=d.elements,n=d.appState,B=d.exportPadding,P=void 0===B?10:B;B=d.actionManager;var W=d.onExportToPng,wa=d.onExportToSvg,pa=d.onExportToClipboard,Ba=d.onExportToBackend,Ma=Eg(h,n);d=(0,Z.useState)(Ea);var Fa=d[0],hb=d[1];d=(0,Z.useState)(Ma);var jb=d[0],kb=d[1],Kb=(0,Z.useRef)(null),
Ib=n.exportBackground,nc=n.viewBackgroundColor,Sc=n.shouldAddWatermark,Zc=jb?df(h,n):h;return(0,Z.useEffect)(function(){kb(Ma)},[Ma]),(0,Z.useEffect)(function(){var jd=Kb.current;if(jd)try{var me=Ql(Zc,n,{exportBackground:Ib,viewBackgroundColor:nc,exportPadding:P,scale:Fa,shouldAddWatermark:Sc});Bm(me).then(function(){zb(me,jd)}).catch(function(ke){console.error(ke);zb(new hn,jd)})}catch(ke){console.error(ke),zb(new hn,jd)}},[n,Zc,Ib,P,nc,Fa,Sc]),R().createElement("div",{className:"ExportDialog"},
R().createElement("div",{className:"ExportDialog__preview",ref:Kb}),Xa&&B.renderAction("exportWithDarkMode"),R().createElement(Nk,{gap:2,align:"center"},R().createElement("div",{className:"ExportDialog__actions"},R().createElement(Mk,{gap:2},R().createElement(Qe,{type:"button",label:"PNG",title:Jb("buttons.exportToPng"),"aria-label":Jb("buttons.exportToPng"),onClick:function(){return W(Zc,Fa)}}),R().createElement(Qe,{type:"button",label:"SVG",title:Jb("buttons.exportToSvg"),"aria-label":Jb("buttons.exportToSvg"),
onClick:function(){return wa(Zc,Fa)}}),tk&&R().createElement(Qe,{type:"button",icon:$i,title:Jb("buttons.copyPngToClipboard"),"aria-label":Jb("buttons.copyPngToClipboard"),onClick:function(){return pa(Zc,Fa)}}),Ba&&R().createElement(Qe,{type:"button",icon:$k,title:Jb("buttons.getShareableLink"),"aria-label":Jb("buttons.getShareableLink"),onClick:function(){return Ba(Zc)}})),R().createElement("div",{className:"ExportDialog__name"},B.renderAction("changeProjectName")),R().createElement(Mk,{gap:2},ba.map(function(jd){var me=
function(xe,pe,Oe,md){xe=Ni(xe,Oe);pe=dn(xe,pe,Oe).map(function(Id){return Math.trunc(Id*md)});return[pe[2],pe[3]]}(Zc,P,Sc,jd),ke=me[0];me=me[1];ke="".concat(Jb("buttons.scale")," ").concat(jd,"x (").concat(ke,"x").concat(me,")");return R().createElement(Qe,{key:jd,size:"s",type:"radio",icon:"".concat(jd,"x"),name:"export-canvas-scale",title:ke,"aria-label":ke,id:"export-canvas-scale",checked:jd===Fa,onChange:function(){return hb(jd)}})}))),B.renderAction("changeExportBackground"),Ma&&R().createElement("div",
null,R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:jb,onChange:function(jd){return kb(jd.currentTarget.checked)}})," ",Jb("labels.onlySelected"))),B.renderAction("changeExportEmbedScene"),B.renderAction("changeShouldAddWatermark")))},mc=function(d){var h=d.elements,n=d.appState,B=d.exportPadding;B=void 0===B?10:B;var P=d.actionManager,W=d.onExportToPng,wa=d.onExportToSvg,pa=d.onExportToClipboard;d=d.onExportToBackend;var Ba=(0,Z.useState)(!1),Ma=Ba[0],Fa=Ba[1],
hb=(0,Z.useRef)(null);Ba=R().useCallback(function(){var jb;Fa(!1);null===(jb=hb.current)||void 0===jb||jb.focus()},[]);return R().createElement(R().Fragment,null,R().createElement(Qe,{onClick:function(){Fa(!0)},icon:Ki,type:"button","aria-label":Jb("buttons.export"),showAriaLabel:De(),title:Jb("buttons.export"),ref:hb}),Ma&&R().createElement(z,{onCloseRequest:Ba,title:Jb("buttons.export")},R().createElement(Nb,{elements:h,appState:n,exportPadding:B,actionManager:P,onExportToPng:W,onExportToSvg:wa,
onExportToClipboard:pa,onExportToBackend:d,onCloseRequest:Ba})))},Nc=(g(4193),function(d){var h=d.children,n=d.side;d=d.className;return R().createElement("div",{className:Dc("FixedSideContainer","FixedSideContainer_side_".concat(n),d)},h)}),ae=R().memo(function(d){d=d.appearance;return R().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},R().createElement("a",{href:"https://github.com/excalidraw/excalidraw",
target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},R().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?Wd.MA[6]:Wd.MA[8]}),R().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===d?Wd.ix:Wd.Sn}),R().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===d?Wd.ix:Wd.Sn})))}),hf=(g(9705),function(d){return(d=function(h){var n=h.appState,B=h.elements,P=n.elementType;h=n.isResizing;var W=n.isRotating,wa=n.lastPointerDownWith,pa=null!==n.multiElement;if("arrow"===P||"line"===P)return Jb(pa?"hints.linearElementMulti":"hints.linearElement");if("draw"===P)return Jb("hints.freeDraw");if("text"===P)return Jb("hints.text");B=df(B,n);return h&&"mouse"===wa&&1===B.length?(n=B[0],pg(n)&&2===n.points.length?Jb("hints.lockAngle"):Jb("hints.resize")):
W&&"mouse"===wa?Jb("hints.rotate"):1===B.length&&pg(B[0])?n.editingLinearElement?n.editingLinearElement.activePointIndex?Jb("hints.lineEditor_pointSelected"):Jb("hints.lineEditor_nothingSelected"):Jb("hints.lineEditor_info"):null}({appState:d.appState,elements:d.elements}))?(d=td(d),R().createElement("div",{className:"HintViewer"},R().createElement("span",null,d))):null}),qd=(g(8465),g(8680),R().createElement("svg",{viewBox:"0 0 1792 1792"},R().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
se=function(d){var h=d.elements,n=d.pendingElements,B=d.onRemoveFromLibrary;d=d.onClick;var P=(0,Z.useRef)(null);(0,Z.useEffect)(function(){var Ma=h||n;if(Ma){var Fa=yl(Ma,{exportBackground:!1,viewBackgroundColor:Wd.ix,shouldAddWatermark:!1});Ma=0;for(var hb=P.current.children;Ma<hb.length;Ma++){var jb=hb[Ma];"svg"===jb.tagName&&P.current.removeChild(jb)}P.current.appendChild(Fa);var kb=P.current;return function(){kb.removeChild(Fa)}}},[h,n]);var W=(0,Z.useState)(!1),wa=W[0],pa=W[1];W=De();var Ba=
(wa||W)&&n&&R().createElement("div",{className:"library-unit__adder"},qd);return R().createElement("div",{className:Dc("library-unit",{"library-unit__active":h||n}),onMouseEnter:function(){return pa(!0)},onMouseLeave:function(){return pa(!1)}},R().createElement("div",{className:Dc("library-unit__dragger",{"library-unit__pulse":!!n}),ref:P,draggable:!!h,onClick:h||n?d:void 0,onDragStart:function(Ma){pa(!1);Ma.dataTransfer.setData(Qa.LO.excalidrawlib,JSON.stringify(h))}}),Ba,h&&(wa||W)&&R().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":Jb("labels.removeFromLibrary"),onClick:B},sj))},jf=R().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},R().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),Ve=R().createElement("svg",{width:"1792",height:"1792",
viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},R().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Gc=function(d){return R().createElement("label",{className:Dc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},R().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),R().createElement("div",{className:"ToolIcon__icon"},d.checked?jf:Ve))},pc=function(d){var h=d.heading,n=d.children;d=si()(d,["heading","children"]);var B=R().createElement("h2",{className:"visually-hidden",id:"".concat(h,
"-title")},Jb("headings.".concat(h)));return R().createElement("section",Ad()({},d,{"aria-labelledby":"".concat(h,"-title")}),"function"==typeof n?n(B):R().createElement(R().Fragment,null,B,n))},Cc=(g(3142),function(d){var h=d.children,n=d.className;d=d.mobile;return R().createElement("div",{className:Dc("UserList",n,{UserList_mobile:d})},h)}),id=function(d){var h=d.appState,n=d.elements,B=d.libraryMenu,P=d.actionManager,W=d.exportButton,wa=d.setAppState,pa=d.onCollabButtonClick,Ba=d.onLockToggle,
Ma=d.canvas,Fa=d.isCollaborating,hb=d.renderCustomFooter;d=d.viewModeEnabled;return R().createElement(R().Fragment,null,!d&&R().createElement(Nc,{side:"top",className:"App-top-bar"},R().createElement(pc,{heading:"shapes"},function(jb){return R().createElement(Nk,{gap:4,align:"center"},R().createElement(Mk,{gap:1},R().createElement(Pk,{padding:1},jb,R().createElement(Mk,{gap:1},R().createElement(Xp,{canvas:Ma,elementType:h.elementType,setAppState:wa,isLibraryOpen:h.isLibraryOpen}))),R().createElement(Gc,
{checked:h.elementLocked,onChange:Ba,title:Jb("toolBar.lock")})),B)}),R().createElement(hf,{appState:h,elements:n})),R().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},R().createElement(Pk,{padding:0},"canvas"===h.openMenu?R().createElement(pc,{className:"App-mobile-menu",heading:"canvasActions"},R().createElement("div",{className:"panelColumn"},R().createElement(Nk,{gap:4},d?R().createElement(R().Fragment,null,P.renderAction("saveScene"),P.renderAction("saveAsScene"),
W):R().createElement(R().Fragment,null,P.renderAction("loadScene"),P.renderAction("saveScene"),P.renderAction("saveAsScene"),W,P.renderAction("clearCanvas"),pa&&R().createElement(br,{isCollaborating:Fa,collaboratorCount:h.collaborators.size,onClick:pa}),R().createElement($q,{actionManager:P,appState:h,setAppState:wa})),null==hb?void 0:hb(!0),0<h.collaborators.size&&R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.collaborators")),R().createElement(Cc,{mobile:!0},Array.from(h.collaborators).filter(function(jb){jb[0];
return 0!==Object.keys(jb[1]).length}).map(function(jb){var kb=jb[0];jb[1];return R().createElement(R().Fragment,{key:kb},P.renderAction("goToCollaborator",kb))})))))):"shape"===h.openMenu&&!d&&Ef(h,n)?R().createElement(pc,{className:"App-mobile-menu",heading:"selectedShapeActions"},R().createElement(ar,{appState:h,elements:n,renderAction:P.renderAction,elementType:h.elementType})):null,R().createElement("footer",{className:"App-toolbar"},d?R().createElement("div",{className:"App-toolbar-content"},
P.renderAction("toggleCanvasMenu")):R().createElement("div",{className:"App-toolbar-content"},P.renderAction("toggleCanvasMenu"),P.renderAction("toggleEditMenu"),P.renderAction("undo"),P.renderAction("redo"),P.renderAction(h.multiElement?"finalize":"duplicateSelection"),P.renderAction("deleteSelectedElements")),h.scrolledOutside&&!h.openMenu&&R().createElement("button",{className:"scroll-back-to-content",onClick:function(){wa(function(jb){for(var kb=1;kb<arguments.length;kb++){var Kb=null!=arguments[kb]?
arguments[kb]:{};kb%2?fe(Object(Kb),!0).forEach(function(Ib){ve()(jb,Ib,Kb[Ib])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jb,Object.getOwnPropertyDescriptors(Kb)):fe(Object(Kb)).forEach(function(Ib){Object.defineProperty(jb,Ib,Object.getOwnPropertyDescriptor(Kb,Ib))})}return jb}({},mi(n,h)))}},Jb("buttons.scrollBackToContent"))))))},pd=(g(8416),function(d){var h=(0,Z.useRef)(null),n=(0,Z.useState)(null),B=n[0],P=n[1];return(0,Z.useLayoutEffect)(function(){if(d.spreadsheet){var W=
Hk(d.chartType,d.spreadsheet,0,0);P(W);var wa=yl(W,{exportBackground:!1,viewBackgroundColor:Wd.ix,shouldAddWatermark:!1}),pa=h.current;return pa.appendChild(wa),d.selected&&pa.parentNode.focus(),function(){pa.removeChild(wa)}}},[d.spreadsheet,d.chartType,d.selected]),R().createElement("button",{className:"ChartPreview",onClick:function(){B&&d.onClick(d.chartType,B)}},R().createElement("div",{ref:h}))}),tf=function(d){var h=d.setAppState,n=d.appState,B=d.onClose,P=d.onInsertChart;d=R().useCallback(function(){B&&
B()},[B]);var W=function(wa,pa){P(pa);eh("magic","chart",wa);h({currentChartType:wa,pasteDialog:{shown:!1,data:null}})};return R().createElement(z,{small:!0,onCloseRequest:d,title:Jb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},R().createElement("div",{className:"container"},R().createElement(pd,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:W}),R().createElement(pd,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===
n.currentChartType,onClick:W})))},ne=(g(341),function(){return R().createElement("div",{className:"HelpDialog--header"},R().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},Jb("helpDialog.documentation")),R().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},Jb("helpDialog.blog")),R().createElement("a",{className:"HelpDialog--btn",
href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},Jb("helpDialog.github")))}),uf=function(d){return R().createElement(R().Fragment,null,R().createElement("h3",null,d.title),d.children)},Wf=function(d){return R().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},Af=function(d){return R().createElement("div",{style:{width:"49%"}},d.children)},dm=function(d){return R().createElement("div",
{className:"HelpDialog--island"},R().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},bf=function(d){return R().createElement("div",{className:"HelpDialog--shortcut"},R().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},R().createElement("div",{style:{lineHeight:1.4}},d.label),R().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(h,
n){return R().createElement(R().Fragment,{key:n},R().createElement(Yt,null,h),d.isOr&&n!==d.shortcuts.length-1&&Jb("helpDialog.or"))}))))};bf.defaultProps={isOr:!0};var Yt=function(d){return R().createElement("kbd",Ad()({className:"HelpDialog--key"},d))},Zt=function(d){var h=d.onClose;d=R().useCallback(function(){h&&h()},[h]);return R().createElement(R().Fragment,null,R().createElement(z,{onCloseRequest:d,title:Jb("helpDialog.title"),className:"HelpDialog"},R().createElement(ne,null),R().createElement(uf,
{title:Jb("helpDialog.shortcuts")},R().createElement(Wf,null,R().createElement(Af,null,R().createElement(dm,{caption:Jb("helpDialog.shapes")},R().createElement(bf,{label:Jb("toolBar.selection"),shortcuts:["V","1"]}),R().createElement(bf,{label:Jb("toolBar.rectangle"),shortcuts:["R","2"]}),R().createElement(bf,{label:Jb("toolBar.diamond"),shortcuts:["D","3"]}),R().createElement(bf,{label:Jb("toolBar.ellipse"),shortcuts:["E","4"]}),R().createElement(bf,{label:Jb("toolBar.arrow"),shortcuts:["A","5"]}),
R().createElement(bf,{label:Jb("toolBar.line"),shortcuts:["P","6"]}),R().createElement(bf,{label:Jb("toolBar.draw"),shortcuts:["Shift+P","7"]}),R().createElement(bf,{label:Jb("toolBar.text"),shortcuts:["T","8"]}),R().createElement(bf,{label:Jb("helpDialog.textNewLine"),shortcuts:[td("Enter"),td("Shift+Enter")]}),R().createElement(bf,{label:Jb("helpDialog.textFinish"),shortcuts:[td("Esc"),td("CtrlOrCmd+Enter")]}),R().createElement(bf,{label:Jb("helpDialog.curvedArrow"),shortcuts:["A",Jb("helpDialog.click"),
Jb("helpDialog.click"),Jb("helpDialog.click")],isOr:!1}),R().createElement(bf,{label:Jb("helpDialog.curvedLine"),shortcuts:["L",Jb("helpDialog.click"),Jb("helpDialog.click"),Jb("helpDialog.click")],isOr:!1}),R().createElement(bf,{label:Jb("toolBar.lock"),shortcuts:["Q"]}),R().createElement(bf,{label:Jb("helpDialog.preventBinding"),shortcuts:[td("CtrlOrCmd")]})),R().createElement(dm,{caption:Jb("helpDialog.view")},R().createElement(bf,{label:Jb("buttons.zoomIn"),shortcuts:[td("CtrlOrCmd++")]}),R().createElement(bf,
{label:Jb("buttons.zoomOut"),shortcuts:[td("CtrlOrCmd+-")]}),R().createElement(bf,{label:Jb("buttons.resetZoom"),shortcuts:[td("CtrlOrCmd+0")]}),R().createElement(bf,{label:Jb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),R().createElement(bf,{label:Jb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),R().createElement(bf,{label:Jb("buttons.fullScreen"),shortcuts:["F"]}),R().createElement(bf,{label:Jb("buttons.zenMode"),shortcuts:[td("Alt+Z")]}),R().createElement(bf,{label:Jb("labels.showGrid"),
shortcuts:[td("CtrlOrCmd+'")]}),R().createElement(bf,{label:Jb("labels.viewMode"),shortcuts:[td("Alt+R")]}))),R().createElement(Af,null,R().createElement(dm,{caption:Jb("helpDialog.editor")},R().createElement(bf,{label:Jb("labels.selectAll"),shortcuts:[td("CtrlOrCmd+A")]}),R().createElement(bf,{label:Jb("labels.multiSelect"),shortcuts:[td("Shift+".concat(Jb("helpDialog.click")))]}),R().createElement(bf,{label:Jb("labels.moveCanvas"),shortcuts:[td("Space+".concat(Jb("helpDialog.drag"))),td("Wheel+".concat(Jb("helpDialog.drag")))],
isOr:!0}),R().createElement(bf,{label:Jb("labels.cut"),shortcuts:[td("CtrlOrCmd+X")]}),R().createElement(bf,{label:Jb("labels.copy"),shortcuts:[td("CtrlOrCmd+C")]}),R().createElement(bf,{label:Jb("labels.paste"),shortcuts:[td("CtrlOrCmd+V")]}),R().createElement(bf,{label:Jb("labels.copyAsPng"),shortcuts:[td("Shift+Alt+C")]}),R().createElement(bf,{label:Jb("labels.copyStyles"),shortcuts:[td("CtrlOrCmd+Alt+C")]}),R().createElement(bf,{label:Jb("labels.pasteStyles"),shortcuts:[td("CtrlOrCmd+Alt+V")]}),
R().createElement(bf,{label:Jb("labels.delete"),shortcuts:[td("Del")]}),R().createElement(bf,{label:Jb("labels.sendToBack"),shortcuts:[td(zg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),R().createElement(bf,{label:Jb("labels.bringToFront"),shortcuts:[td(zg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),R().createElement(bf,{label:Jb("labels.sendBackward"),shortcuts:[td("CtrlOrCmd+[")]}),R().createElement(bf,{label:Jb("labels.bringForward"),shortcuts:[td("CtrlOrCmd+]")]}),R().createElement(bf,{label:Jb("labels.alignTop"),
shortcuts:[td("CtrlOrCmd+Shift+Up")]}),R().createElement(bf,{label:Jb("labels.alignBottom"),shortcuts:[td("CtrlOrCmd+Shift+Down")]}),R().createElement(bf,{label:Jb("labels.alignLeft"),shortcuts:[td("CtrlOrCmd+Shift+Left")]}),R().createElement(bf,{label:Jb("labels.alignRight"),shortcuts:[td("CtrlOrCmd+Shift+Right")]}),R().createElement(bf,{label:Jb("labels.duplicateSelection"),shortcuts:[td("CtrlOrCmd+D"),td("Alt+".concat(Jb("helpDialog.drag")))]}),R().createElement(bf,{label:Jb("buttons.undo"),shortcuts:[td("CtrlOrCmd+Z")]}),
R().createElement(bf,{label:Jb("buttons.redo"),shortcuts:zj?[td("CtrlOrCmd+Y"),td("CtrlOrCmd+Shift+Z")]:[td("CtrlOrCmd+Shift+Z")]}),R().createElement(bf,{label:Jb("labels.group"),shortcuts:[td("CtrlOrCmd+G")]}),R().createElement(bf,{label:Jb("labels.ungroup"),shortcuts:[td("CtrlOrCmd+Shift+G")]})))))))},Zr=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&
W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],
pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Ks=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},$t=function(d){var h=
d.library,n=d.onRemoveFromLibrary,B=d.onAddToLibrary,P=d.onInsertShape,W=d.pendingElements,wa=d.setAppState,pa=d.setLibraryItems;d=De()?4:6;var Ba=Math.max(1,Math.ceil((h.length+(0<W.length?1:0))/d)),Ma=[],Fa=!1;Ma.push(R().createElement("div",{className:"layer-ui__library-header"},R().createElement(Qe,{key:"import",type:"button",title:Jb("buttons.load"),"aria-label":Jb("buttons.load"),icon:Gk,onClick:function(){op().then(function(){wa({isLibraryOpen:!1})}).catch(vk).catch(function(nc){wa({errorMessage:nc.message})})}}),
R().createElement(Qe,{key:"export",type:"button",title:Jb("buttons.export"),"aria-label":Jb("buttons.export"),icon:Ki,onClick:function(){cm().catch(vk).catch(function(nc){wa({errorMessage:nc.message})})}}),R().createElement(Qe,{key:"reset",type:"button",title:Jb("buttons.resetLibrary"),"aria-label":Jb("buttons.resetLibrary"),icon:Fi,onClick:function(){window.confirm(Jb("alerts.resetLibrary"))&&(ih.resetLibrary(),pa([]))}}),R().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
Jb("labels.libraries"))));for(var hb=0;hb<Ba;hb++){for(var jb=d*hb,kb=[],Kb=0;Kb<d;Kb++){var Ib=0<W.length&&!Fa&&jb+Kb>=h.length;Fa=Fa||Ib;kb.push(R().createElement(Nk,{key:Kb},R().createElement(se,{elements:h[jb+Kb],pendingElements:Ib?W:void 0,onRemoveFromLibrary:n.bind(null,jb+Kb),onClick:Ib?B.bind(null,W):P.bind(null,h[jb+Kb])})))}Ma.push(R().createElement(Mk,{align:"center",gap:1,key:hb},kb))}return R().createElement(Nk,{align:"start",gap:1,className:"layer-ui__library-items"},Ma)},au=function(d){var h=
d.onClickOutside,n=d.onInsertShape,B=d.pendingElements,P=d.onAddToLibrary;d=d.setAppState;var W=(0,Z.useRef)(null);!function(kb,Kb){(0,Z.useEffect)(function(){var Ib=function(nc){kb.current&&(nc.target instanceof Element&&(kb.current.contains(nc.target)||!document.body.contains(nc.target))||Kb(nc))};return document.addEventListener("pointerdown",Ib,!1),function(){document.removeEventListener("pointerdown",Ib)}},[kb,Kb])}(W,function(kb){kb.target.closest(".ToolIcon_type_button__library")||h(kb)});
var wa=(0,Z.useState)([]),pa=wa[0],Ba=wa[1],Ma=(0,Z.useState)("preloading");wa=Ma[0];var Fa=Ma[1],hb=(0,Z.useRef)(null);(0,Z.useEffect)(function(){return Promise.race([new Promise(function(kb){hb.current=setTimeout(function(){kb("loading")},100)}),ih.loadLibrary().then(function(kb){Ba(kb);Fa("ready")})]).then(function(kb){"loading"===kb&&Fa("loading")}),function(){clearTimeout(hb.current)}},[]);Ma=(0,Z.useCallback)(function(){var kb=ub()(function(Kb){var Ib,nc;return Zr(this,function(Sc){switch(Sc.label){case 0:return[4,
ih.loadLibrary()];case 1:return Ib=Sc.sent(),nc=Ib.filter(function(Zc,jd){return jd!==Kb}),ih.saveLibrary(nc),Ba(nc),[2]}})});return function(Kb){return kb.apply(this,arguments)}}(),[]);var jb=(0,Z.useCallback)(function(){var kb=ub()(function(Kb){var Ib,nc;return Zr(this,function(Sc){switch(Sc.label){case 0:return[4,ih.loadLibrary()];case 1:return Ib=Sc.sent(),nc=Ks(Ks([],Ib),[Kb]),P(),ih.saveLibrary(nc),Ba(nc),[2]}})});return function(Kb){return kb.apply(this,arguments)}}(),[P]);return"preloading"===
wa?null:R().createElement(Pk,{padding:1,ref:W,className:"layer-ui__library"},"loading"===wa?R().createElement("div",{className:"layer-ui__library-message"},Jb("labels.libraryLoadingMessage")):R().createElement($t,{library:pa,onRemoveFromLibrary:Ma,onAddToLibrary:jb,onInsertShape:n,pendingElements:B,setAppState:d,setLibraryItems:Ba}))};const bu=R().memo(function(d){var h,n=d.actionManager,B=d.appState,P=d.setAppState,W=d.canvas,wa=d.elements,pa=d.onCollabButtonClick,Ba=d.onLockToggle,Ma=d.onInsertElements,
Fa=d.zenModeEnabled,hb=d.showExitZenModeBtn,jb=d.toggleZenMode,kb=d.isCollaborating,Kb=d.onExportToBackend,Ib=d.renderCustomFooter;d=d.viewModeEnabled;var nc=De(),Sc=function(){var ke=function(xe){return function(){var pe=ub()(function(Oe,md){return Zr(this,function(Id){switch(Id.label){case 0:return W?[4,lc(xe,Oe,B,W,{exportBackground:B.exportBackground,name:B.name,viewBackgroundColor:B.viewBackgroundColor,scale:md,shouldAddWatermark:B.shouldAddWatermark}).catch(vk).catch(function(Xd){console.error(Xd);
P({errorMessage:Xd.message})})]:[3,2];case 1:Id.sent(),Id.label=2;case 2:return[2]}})});return function(Oe,md){return pe.apply(this,arguments)}}()};return R().createElement(mc,{elements:wa,appState:B,actionManager:n,onExportToPng:ke("png"),onExportToSvg:ke("svg"),onExportToClipboard:ke("clipboard"),onExportToBackend:Kb?function(xe){Kb&&Kb(xe,B,W)}:void 0})},Zc=(0,Z.useCallback)(function(ke){P({isLibraryOpen:!1})},[P]),jd=(0,Z.useCallback)(function(){P({selectedElementIds:{},selectedGroupIds:{}})},
[P]),me=B.isLibraryOpen?R().createElement(au,{pendingElements:df(wa,B),onClickOutside:Zc,onInsertShape:Ma,onAddToLibrary:jd,setAppState:P}):null;Ma=R().createElement(R().Fragment,null,B.isLoading&&R().createElement(Rf,null),B.errorMessage&&R().createElement(L,{message:B.errorMessage,onClose:function(){return P({errorMessage:null})}}),B.showHelpDialog&&R().createElement(Zt,{onClose:function(){return P({showHelpDialog:!1})}}),B.pasteDialog.shown&&R().createElement(tf,{setAppState:P,appState:B,onInsertChart:Ma,
onClose:function(){return P({pasteDialog:{shown:!1,data:null}})}}));return nc?R().createElement(R().Fragment,null,Ma,R().createElement(id,{appState:B,elements:wa,actionManager:n,libraryMenu:me,exportButton:Sc(),setAppState:P,onCollabButtonClick:pa,onLockToggle:Ba,canvas:W,isCollaborating:kb,renderCustomFooter:Ib,viewModeEnabled:d})):R().createElement("div",{className:Dc("layer-ui__wrapper",{"disable-pointerEvents":B.draggingElement||B.resizingElement||B.editingElement&&!og(B.editingElement)})},Ma,
(h=Ef(B,wa),R().createElement(Nc,{side:"top"},R().createElement("div",{className:"App-menu App-menu_top"},R().createElement(Nk,{gap:4,className:Dc({"disable-pointerEvents":Fa})},d?R().createElement(pc,{heading:"canvasActions",className:Dc("zen-mode-transition",{"transition-left":Fa})},R().createElement(Pk,{padding:2,style:{zIndex:1}},R().createElement(Nk,{gap:4},R().createElement(Mk,{gap:1,justifyContent:"space-between"},n.renderAction("saveScene"),n.renderAction("saveAsScene"),Sc())))):R().createElement(pc,
{heading:"canvasActions",className:Dc("zen-mode-transition",{"transition-left":Fa})},R().createElement(Pk,{padding:2,style:{zIndex:1}},R().createElement(Nk,{gap:4},R().createElement(Mk,{gap:1,justifyContent:"space-between"},n.renderAction("loadScene"),n.renderAction("saveScene"),n.renderAction("saveAsScene"),Sc(),n.renderAction("clearCanvas"),pa&&R().createElement(br,{isCollaborating:kb,collaboratorCount:B.collaborators.size,onClick:pa})),R().createElement($q,{actionManager:n,appState:B,setAppState:P})))),
h&&R().createElement(pc,{heading:"selectedShapeActions",className:Dc("zen-mode-transition",{"transition-left":Fa})},R().createElement(Pk,{className:Qa.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(B.height-200,"px")}},R().createElement(ar,{appState:B,elements:wa,renderAction:n.renderAction,elementType:B.elementType})))),!d&&R().createElement(pc,{heading:"shapes"},function(ke){return R().createElement(Nk,{gap:4,align:"start"},R().createElement(Mk,{gap:1},R().createElement(Pk,{padding:1,
className:Dc({"zen-mode":Fa})},R().createElement(hf,{appState:B,elements:wa}),ke,R().createElement(Mk,{gap:1},R().createElement(Xp,{canvas:W,elementType:B.elementType,setAppState:P,isLibraryOpen:B.isLibraryOpen}))),R().createElement(Gc,{zenModeEnabled:Fa,checked:B.elementLocked,onChange:Ba,title:Jb("toolBar.lock")})),me)}),R().createElement(Cc,{className:Dc("zen-mode-transition",{"transition-right":Fa})},0<B.collaborators.size&&Array.from(B.collaborators).filter(function(ke){ke[0];return 0!==Object.keys(ke[1]).length}).map(function(ke){var xe=
ke[0];ke=ke[1];return R().createElement(Rj,{label:ke.username||"Unknown user",key:xe},n.renderAction("goToCollaborator",xe))}))))),R().createElement("div",{className:Dc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Fa})},R().createElement(Nk,{gap:2},R().createElement(pc,{heading:"canvasActions"},R().createElement(Pk,{padding:1},R().createElement(Rr,{renderAction:n.renderAction,zoom:B.zoom})),R().createElement("a",{className:Dc("encrypted-icon tooltip zen-mode-visibility",
{"zen-mode-visibility--hidden":Fa}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},R().createElement(Rj,{label:Jb("encrypted.tooltip"),position:"above",long:!0},Ed))))),R().createElement("aside",{className:Dc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Fa})},R().createElement(ae,{appearance:B.appearance})),R().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},R().createElement("div",
{className:Dc("zen-mode-transition",{"transition-right disable-pointerEvents":Fa})},null==Ib?void 0:Ib(!1),n.renderAction("toggleShortcuts")),R().createElement("button",{className:Dc("disable-zen-mode",{"disable-zen-mode--visible":hb}),onClick:jb},Jb("buttons.exitZenMode"))),B.scrolledOutside&&R().createElement("button",{className:"scroll-back-to-content",onClick:function(){P(function(ke){for(var xe=1;xe<arguments.length;xe++){var pe=null!=arguments[xe]?arguments[xe]:{};xe%2?Le(Object(pe),!0).forEach(function(Oe){ve()(ke,
Oe,pe[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(pe)):Le(Object(pe)).forEach(function(Oe){Object.defineProperty(ke,Oe,Object.getOwnPropertyDescriptor(pe,Oe))})}return ke}({},mi(wa,B)))}},Jb("buttons.scrollBackToContent")))},function(d,h){var n=function(W){W.suggestedBindings;W.startBoundElement;return si()(W,["suggestedBindings","startBoundElement"])},B=n(d.appState),P=n(h.appState);n=Object.keys(B);return d.renderCustomFooter===h.renderCustomFooter&&
d.langCode===h.langCode&&d.elements===h.elements&&n.every(function(W){return B[W]===P[W]})});var Ls=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(h){return console.error(h),0}},cu=(g(7287),function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=
0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=
h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),Ms=dj(function(d){var h=Ls();try{var n=localStorage.getItem("excalidraw-state"),B=localStorage.getItem("excalidraw-collab"),P=localStorage.getItem(Qa.I.LOCAL_STORAGE_LIBRARY);
var W=(n?JSON.stringify(n).length:0)+(B?JSON.stringify(B).length:0)+(P?JSON.stringify(P).length:0)+Ls()}catch(wa){W=(console.error(wa),0)}d({scene:h,total:W})},500),du=function(d){var h=De(),n=(0,Z.useState)({scene:0,total:0}),B=n[0],P=n[1];(0,Z.useEffect)(function(){Ms(function(Ma){P(Ma)})});(0,Z.useEffect)(function(){return function(){return Ms.cancel()}},[]);n=Yf(d.elements);var W=nj(d.elements,d.appState),wa=Yf(W);if(h&&d.appState.openMenu)return null;var pa,Ba;h=vg();return h!==Qa.eQ?(Ba=h.slice(0,
16).replace("T"," "),pa=h.slice(21)):Ba=Jb("stats.versionNotAvailable"),R().createElement("div",{className:"Stats"},R().createElement(Pk,{padding:2},R().createElement("div",{className:"close",onClick:d.onClose},sj),R().createElement("h3",null,Jb("stats.title")),R().createElement("table",null,R().createElement("tbody",null,R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.scene"))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.elements")),R().createElement("td",
null,d.elements.length)),R().createElement("tr",null,R().createElement("td",null,Jb("stats.width")),R().createElement("td",null,Math.round(n[2])-Math.round(n[0]))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.height")),R().createElement("td",null,Math.round(n[3])-Math.round(n[1]))),R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.storage"))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.scene")),R().createElement("td",null,Lf(B.scene,
1))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.total")),R().createElement("td",null,Lf(B.total,1))),1===W.length&&R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.element"))),1<W.length&&R().createElement(R().Fragment,null,R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.selected"))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.elements")),R().createElement("td",null,W.length))),0<W.length&&R().createElement(R().Fragment,
null,R().createElement("tr",null,R().createElement("td",null,"x"),R().createElement("td",null,Math.round(1===W.length?W[0].x:wa[0]))),R().createElement("tr",null,R().createElement("td",null,"y"),R().createElement("td",null,Math.round(1===W.length?W[0].y:wa[1]))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.width")),R().createElement("td",null,Math.round(1===W.length?W[0].width:wa[2]-wa[0]))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.height")),R().createElement("td",
null,Math.round(1===W.length?W[0].height:wa[3]-wa[1])))),1===W.length&&R().createElement("tr",null,R().createElement("td",null,Jb("stats.angle")),R().createElement("td",null,"".concat(Math.round(180*W[0].angle/Math.PI),"°"))),R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.version"))),R().createElement("tr",null,R().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:ub()(function(){return cu(this,function(Ma){switch(Ma.label){case 0:return Ma.trys.push([0,
2,,3]),[4,Ab(vg())];case 1:return Ma.sent(),d.setAppState({toastMessage:Jb("toast.copyToClipboard")}),[3,3];case 2:return Ma.sent(),[3,3];case 3:return[2]}})}),title:Jb("stats.versionCopy")},Ba,R().createElement("br",null),pa))))))},eu=(g(5849),function(d){var h=d.message,n=d.clearToast,B=(0,Z.useRef)(0),P=(0,Z.useCallback)(function(){return B.current=window.setTimeout(function(){return n()},Qa.Lg)},[n]);return(0,Z.useEffect)(function(){return P(),function(){return clearTimeout(B.current)}},[P,h]),
R().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==B?void 0:B.current)},onMouseLeave:P},R().createElement("p",{className:"Toast__message"},h))}),Js=Yd({name:"viewMode",perform:function(d,h){return eh("view","mode","view"),{appState:dc(dc({},h),{},{viewModeEnabled:!this.checked(h),selectedElementIds:{}}),commitToHistory:!1}},checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[we]&&d.altKey&&"KeyR"===
d.code}}),Xt=function(){var d=function(h,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,P){B.__proto__=P}||function(B,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,W)&&(B[W]=P[W])})(h,n)};return function(h,n){function B(){this.constructor=h}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");d(h,n);h.prototype=null===n?Object.create(n):(B.prototype=n.prototype,new B)}}(),Ho=function(d,h){function n(Ba){return function(Ma){return function(Fa){if(B)throw new TypeError("Generator is already executing.");
for(;pa;)try{if(B=1,P&&(W=2&Fa[0]?P.return:Fa[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Fa[1])).done)return W;switch(P=0,W&&(Fa=[2&Fa[0],W.value]),Fa[0]){case 0:case 1:W=Fa;break;case 4:return pa.label++,{value:Fa[1],done:!1};case 5:pa.label++;P=Fa[1];Fa=[0];continue;case 7:Fa=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Fa[0]&&2!==Fa[0])){pa=0;continue}if(3===Fa[0]&&(!W||Fa[1]>W[0]&&Fa[1]<W[3]))pa.label=Fa[1];else if(6===Fa[0]&&
pa.label<W[1])pa.label=W[1],W=Fa;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Fa);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Fa=h.call(d,pa)}catch(hb){Fa=[6,hb],P=0}finally{B=W=0}if(5&Fa[0])throw Fa[1];return{value:Fa[0]?Fa[1]:void 0,done:!0}}([Ba,Ma])}}var B,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Yg=function(d,h){for(var n=
0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},gk=new aq,cq=!1,Yr=0,Ap=0,xp=0,Io=!1,bq=!1,Wr=!1,Xr={horizontal:null,vertical:null},ko=0,eq=!1,co=null,ll=new Map,wp=null,dr=null,vp=null,Vr=function(d){function h(n){var B=this;var P=B=d.call(this,n)||this;Vt.call(B);var W,wa,pa,Ba=uh(),Ma=n.width,Fa=void 0===Ma?window.innerWidth:Ma;Ma=n.height;var hb=void 0===Ma?window.innerHeight:Ma,jb=n.offsetLeft,kb=n.offsetTop;Ma=n.excalidrawRef;var Kb=n.viewModeEnabled;Kb=void 0!==Kb&&Kb;var Ib=n.zenModeEnabled;
Ib=void 0!==Ib&&Ib;n=n.gridModeEnabled;n=void 0!==n&&n;if(B.state=Va(Va(Va({},Ba),{},{isLoading:!0,width:Fa,height:hb},B.getCanvasOffsets({offsetLeft:jb,offsetTop:kb})),{},{viewModeEnabled:Kb,zenModeEnabled:Ib,gridSize:n?Qa.k:null}),Ma){var nc;Ba="current"in Ma&&(null===(nc=Ma.current)||void 0===nc?void 0:nc.readyPromise)||((pa=new Promise(function(Sc,Zc){W=Sc;wa=Zc})).resolve=W,pa.reject=wa,pa);pa={ready:!0,readyPromise:Ba,updateScene:B.updateScene,resetScene:B.resetScene,getSceneElementsIncludingDeleted:B.getSceneElementsIncludingDeleted,
history:{clear:B.resetHistory},setScrollToCenter:B.setScrollToCenter,getSceneElements:B.getSceneElements,getAppState:function(){return P.state}};"function"==typeof Ma?Ma(pa):Ma.current=pa;Ba.resolve(pa)}return B.scene=new Lg,B.actionManager=new hm(B.syncActionResult,function(){return P.state},function(){return P.scene.getElementsIncludingDeleted()},B),B.actionManager.registerAll(gg),B.actionManager.registerAction({name:"undo",perform:function(Sc,Zc){return rp(Sc,Zc,function(){return gk.undoOnce()})},
keyTest:function(Sc){return Sc[we]&&"z"===Sc.key.toLowerCase()&&!Sc.shiftKey},PanelComponent:function(Sc){Sc=Sc.updateData;return R().createElement(Qe,{type:"button",icon:kd,"aria-label":Jb("buttons.undo"),onClick:Sc})},commitToHistory:function(){return!1}}),B.actionManager.registerAction(function(Sc){return{name:"redo",perform:function(Zc,jd){return rp(Zc,jd,function(){return Sc.redoOnce()})},keyTest:function(Zc){return Zc[we]&&Zc.shiftKey&&"z"===Zc.key.toLowerCase()||zj&&Zc.ctrlKey&&!Zc.shiftKey&&
"y"===Zc.key},PanelComponent:function(Zc){Zc=Zc.updateData;return R().createElement(Qe,{type:"button",icon:jh,"aria-label":Jb("buttons.redo"),onClick:Zc})},commitToHistory:function(){return!1}}}(gk)),B}return Xt(h,d),h.prototype.renderCanvas=function(){var n=window.devicePixelRatio,B=this.state,P=B.width,W=B.height,wa=P*n;n*=W;return B.viewModeEnabled?R().createElement("canvas",{id:"canvas",style:{width:P,height:W,cursor:"grabbing"},width:wa,height:n,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},Jb("labels.drawingCanvas")):R().createElement("canvas",{id:"canvas",style:{width:P,height:W},width:wa,height:n,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,
onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},Jb("labels.drawingCanvas"))},h.prototype.render=function(){var n,B=this,P=this.state,W=P.zenModeEnabled,wa=P.width,pa=P.height;P=P.viewModeEnabled;var Ba=this.props,Ma=Ba.onCollabButtonClick,Fa=Ba.onExportToBackend;Ba=Ba.renderFooter;var hb=wa/2,jb=pa/2;return R().createElement("div",{className:Dc("excalidraw",{"excalidraw--view-mode":P}),ref:this.excalidrawContainerRef,style:{width:wa,height:pa}},
R().createElement(bu,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Ma,onLockToggle:this.toggleLock,onInsertElements:function(kb){return B.addElementsFromPasteOrLibrary(kb,hb,jb)},zenModeEnabled:W,toggleZenMode:this.toggleZenMode,langCode:Ye.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Fa,renderCustomFooter:Ba,viewModeEnabled:P,showExitZenModeBtn:void 0===(null===(n=
this.props)||void 0===n?void 0:n.zenModeEnabled)&&W}),R().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&R().createElement(du,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&R().createElement(eu,{message:this.state.toastMessage,clearToast:this.clearToast}),R().createElement("main",null,this.renderCanvas()))},h.prototype.componentDidMount=function(){var n=this;return ub()(function(){return Ho(this,
function(B){return"production"!==Qa.Vi.TEST&&"production"!==Qa.Vi.DEVELOPMENT||(n.setState.bind(n),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return n.state}},setState:{configurable:!0,value:function(){for(var P=[],W=0;W<arguments.length;W++)P[W]=arguments[W];return n.setState.apply(n,P)}},app:{configurable:!0,value:n}})),n.scene.addCallback(n.onSceneUpdated),n.addEventListeners(),"number"==typeof n.props.offsetLeft&&"number"==typeof n.props.offsetTop?n.initializeScene():
n.setState(n.getCanvasOffsets(n.props),function(){n.initializeScene()}),[2]})})()},h.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(ko);ko=0},h.prototype.removeEventListeners=function(){document.removeEventListener(Qa.Ks.COPY,this.onCopy);document.removeEventListener(Qa.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(Qa.Ks.CUT,this.onCut);document.removeEventListener(Qa.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Qa.Ks.MOUSE_MOVE,
this.updateCurrentCursorPosition,!1);document.removeEventListener(Qa.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Qa.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Qa.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Qa.Ks.BLUR,this.onBlur,!1);window.removeEventListener(Qa.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(Qa.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Qa.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Qa.Ks.GESTURE_CHANGE,
this.onGestureChange,!1);document.removeEventListener(Qa.Ks.GESTURE_END,this.onGestureEnd,!1)},h.prototype.addEventListeners=function(){var n,B;this.removeEventListeners();document.addEventListener(Qa.Ks.COPY,this.onCopy);document.addEventListener(Qa.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(Qa.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(Qa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(n=document.fonts)||void 0===n||null===(B=n.addEventListener)||void 0===
B||B.call(n,"loadingdone",this.onFontLoaded);document.addEventListener(Qa.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Qa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Qa.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(Qa.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(Qa.Ks.CUT,this.onCut),document.addEventListener(Qa.Ks.SCROLL,this.onScroll),window.addEventListener(Qa.Ks.RESIZE,this.onResize,!1),
window.addEventListener(Qa.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Qa.Ks.BLUR,this.onBlur,!1),window.addEventListener(Qa.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Qa.Ks.DROP,this.disableEvent,!1))},h.prototype.componentDidUpdate=function(n,B){var P,W,wa,pa,Ba=this;(n.langCode!==this.props.langCode&&this.updateLanguage(),n.width!==this.props.width||n.height!==this.props.height||"number"==typeof this.props.offsetLeft&&n.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&
n.offsetTop!==this.props.offsetTop)&&this.setState(Va({width:null!==(wa=this.props.width)&&void 0!==wa?wa:window.innerWidth,height:null!==(pa=this.props.height)&&void 0!==pa?pa:window.innerHeight},this.getCanvasOffsets(this.props)));n.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);B.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();n.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});
n.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Qa.k:null});null===(P=document.querySelector(".excalidraw"))||void 0===P||P.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Ba.actionManager.executeAction(Pf)});n=B.multiElement;B.elementType!==this.state.elementType&&null!=n&&this.state.isBindingEnabled&&
zf(n)&&Hj(n,this.state,this.scene,fj(ag.getPointAtIndexGlobalCoordinates(n,-1)));var Ma={},Fa={},hb={},jb={},kb={};this.state.collaborators.forEach(function(nc,Sc){if(nc.selectedElementIds)for(var Zc=0,jd=Object.keys(nc.selectedElementIds);Zc<jd.length;Zc++){var me=jd[Zc];me in hb||(hb[me]=[]);hb[me].push(Sc)}nc.pointer&&(nc.username&&(jb[Sc]=nc.username),nc.userState&&(kb[Sc]=nc.userState),Fa[Sc]=rg({sceneX:nc.pointer.x,sceneY:nc.pointer.y},Ba.state),Ma[Sc]=nc.button)});B=this.scene.getElements();
P=cn(B.filter(function(nc){return!Ba.state.editingElement||"text"!==Ba.state.editingElement.type||nc.id!==Ba.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Fa,remotePointerButton:Ma,remoteSelectedElementIds:hb,remotePointerUsernames:jb,remotePointerUserStates:kb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},
{renderOptimizations:!0,renderScrollbars:!eg().matches});n=P.atLeastOneVisibleElement;(P=P.scrollBars)&&(Xr=P);var Kb,Ib;B="text"!==(null===(W=this.state.editingElement)||void 0===W?void 0:W.type)&&!n&&0<B.length;(this.state.scrolledOutside!==B&&this.setState({scrolledOutside:B}),gk.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(Kb=(Ib=this.props).onChange)||void 0===Kb||Kb.call(Ib,this.scene.getElementsIncludingDeleted(),this.state)},h.resetTapTwice=function(){cq=
!1},h.prototype.addTextFromPaste=function(n){var B,P=Zf({clientX:Ap,clientY:xp},this.state);n=bk({x:P.x,y:P.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:n,fontSize:this.state.currentItemFontSize,
fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Qa.hs});this.scene.replaceAllElements(Yg(Yg([],this.scene.getElementsIncludingDeleted()),[n]));this.setState({selectedElementIds:(B={},B[n.id]=!0,B)});gk.resumeRecording()},h.prototype.selectShapeTool=function(n){var B;Io||Kf(this.canvas,n);(B=document.activeElement)instanceof HTMLElement&&B.className.includes("ToolIcon")&&document.activeElement.blur();$h(n)||this.setState({suggestedBindings:[]});"selection"!==
n?this.setState({elementType:n,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:n})},h.prototype.handleTextWysiwyg=function(n,B){B=B.isExistingElement;var P=void 0!==B&&B,W=this,wa=function(pa,Ba){void 0===Ba&&(Ba=!1);W.scene.replaceAllElements(Yg([],W.scene.getElementsIncludingDeleted().map(function(Ma){if(Ma.id===n.id&&og(Ma)){var Fa=Ba;Fa={text:pa,isDeleted:null!=Fa?Fa:Ma.isDeleted};var hb=Jg(pa,Ch(Ma));var jb=hb.width;var kb=hb.height;hb=hb.baseline;var Kb=
Ma.textAlign;var Ib=Ma.verticalAlign;if("center"===Kb&&"middle"===Ib)Kb=Jg(Ma.text,Ch(Ma)),Ib=Ti(Ma,{width:jb-Kb.width,height:kb-Kb.height}),Kb=Ma.x-Ib.x,Ib=Ma.y-Ib.y;else{var nc=Jf(Ma);Ib=nc[0];var Sc=nc[1],Zc=nc[2];nc=nc[3];var jd=hh(Ma,jb,kb);Kb=(Ib=wj({s:!0,e:"center"===Kb||"left"===Kb,w:"center"===Kb||"right"===Kb},Ma.x,Ma.y,Ma.angle,(Ib-jd[0])/2,(Sc-jd[1])/2,(Zc-jd[2])/2,(nc-jd[3])/2))[0];Ib=Ib[1]}jb={width:jb,height:kb,x:Number.isFinite(Kb)?Kb:Ma.x,y:Number.isFinite(Ib)?Ib:Ma.y,baseline:hb};
Ma=wf(Ma,Ca(Fa,jb))}return Ma})))};!function(pa){var Ba=pa.id,Ma=pa.appState,Fa=pa.onChange,hb=pa.onSubmit,jb=pa.getViewportCoords,kb=pa.element;pa=pa.canvas;var Kb=function(){var pe,Oe=null===(pe=Lg.getScene(kb))||void 0===pe?void 0:pe.getElement(Ba);if(Oe&&og(Oe)){pe=jb(Oe.x,Oe.y);var md=pe[0],Id=pe[1];pe=Oe.textAlign;var Xd=Oe.angle;Ib.value=Oe.text;var Be=Oe.text.replace(/\r\n?/g,"\n").split("\n"),wh=Oe.height/Be.length;Be=(Ma.offsetLeft+Ma.width-md-8)/Ma.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,
-2));var Wh=Object,oj=Wh.assign,Ji=Ib.style,El=Ch(Oe);wh="".concat(wh,"px");var mn="".concat(Oe.width,"px"),Ul="".concat(Oe.height,"px");md="".concat(md,"px");Id="".concat(Id,"px");var nn=Oe.width;var Nm=Ma.zoom,bo=180*Xd/Math.PI;Xd=(nn-2*Ma.offsetLeft)*(Nm.value-1)/2;var Mm=(Oe.height-2*Ma.offsetTop)*(Nm.value-1)/2;nn=(nn>Be&&1!==Nm.value&&(Xd=Be/2*(Nm.value-1)),"translate(".concat(Xd,"px, ").concat(Mm,"px) scale(").concat(Nm.value,") rotate(").concat(bo,"deg)"));oj.call(Wh,Ji,{font:El,lineHeight:wh,
width:mn,height:Ul,left:md,top:Id,transform:nn,textAlign:pe,color:Oe.strokeColor,opacity:Oe.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(Be,"px")})}},Ib=document.createElement("textarea");Ib.dir="auto";Ib.tabIndex=0;Ib.dataset.type="wysiwyg";Ib.wrap="off";Object.assign(Ib.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});
Kb();Fa&&(Ib.oninput=function(){Fa(lk(Ib.value))});Ib.onkeydown=function(pe){"Escape"===pe.key?(pe.preventDefault(),Sc()):"Enter"===pe.key&&pe[we]?(pe.preventDefault(),pe.isComposing||229===pe.keyCode)||Sc():"Enter"!==pe.key||pe.altKey||pe.stopPropagation()};var nc=function(pe){pe.preventDefault();pe.stopPropagation()},Sc=function(){hb(lk(Ib.value));ke||(ke=!0,Ib.onblur=null,Ib.oninput=null,Ib.onkeydown=null,xe&&xe.disconnect(),window.removeEventListener("resize",Kb),window.removeEventListener("wheel",
nc,!0),window.removeEventListener("pointerdown",jd),window.removeEventListener("pointerup",Zc),window.removeEventListener("blur",Sc),me(),Ib.remove())},Zc=function(){window.removeEventListener("pointerup",Zc);setTimeout(function(){Ib.onblur=Sc;Ib.focus()})},jd=function(pe){pe.target instanceof HTMLElement&&pe.target.closest(".".concat(Qa.$C.SHAPE_ACTIONS_MENU))&&!Bh(pe.target)&&(Ib.onblur=null,window.addEventListener("pointerup",Zc),window.addEventListener("blur",Sc))},me=Lg.getScene(kb).addCallback(function(){Kb();
Ib.focus()}),ke=!1;Ib.onblur=Sc;var xe=null;pa&&"ResizeObserver"in window?(xe=new window.ResizeObserver(function(){Kb()})).observe(pa):window.addEventListener("resize",Kb);window.addEventListener("pointerdown",jd);window.addEventListener("wheel",nc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Ib);Ib.focus();Ib.select()}({id:n.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(pa,Ba){pa=rg({sceneX:pa,sceneY:Ba},W.state);return[pa.x-
W.state.offsetLeft,pa.y-W.state.offsetTop]},onChange:cf(function(pa){wa(pa);!n.isDeleted&&Vh(n)}),onSubmit:cf(function(pa){var Ba=!pa.trim();wa(pa,Ba);Ba?li(W.scene.getElements(),[n]):W.setState(function(Ma){var Fa;return{selectedElementIds:Va(Va({},Ma.selectedElementIds),{},(Fa={},Fa[n.id]=!0,Fa))}});Ba&&!P||gk.resumeRecording();W.setState({draggingElement:null,editingElement:null});W.state.elementLocked&&Kf(W.canvas,W.state.elementType)}),element:n});this.setState({selectedElementIds:{},selectedGroupIds:{},
editingGroupId:null});wa(n.text)},h.prototype.getTextElementAtPosition=function(n,B){return(n=this.getElementAtPosition(n,B))&&og(n)&&!n.isDeleted?n:null},h.prototype.getElementAtPosition=function(n,B){var P=this.getElementsAtPosition(n,B);if(1<P.length){var W=P[P.length-1];return Lk(W,this.state,n,B)?P[P.length-2]:W}return 1===P.length?P[0]:null},h.prototype.getElementsAtPosition=function(n,B){var P,W,wa=this;return P=this.scene.getElements(),W=function(pa){var Ba=wa.state,Ma=10/Ba.zoom.value,Fa=
[n,B];return Ba.selectedElementIds[pa.id]?nm(pa,Fa,Ma):Ej(pa,Ba,Fa)},P.filter(function(pa){return!pa.isDeleted&&W(pa)})},h.prototype.maybeCleanupAfterMissingPointerUp=function(n){null!==co&&co(n)},h.prototype.updateGestureOnPointerDown=function(n){ll.set(n.pointerId,{x:n.clientX,y:n.clientY});2===ll.size&&(wp=Lm(ll),vp=this.state.zoom.value,dr=Zn(Array.from(ll.values())))},h.prototype.initialPointerDownState=function(n){var B=Zf(n,this.state),P=df(this.scene.getElements(),this.state),W=Yf(P),wa=W[0],
pa=W[1],Ba=W[2];W=W[3];return{origin:B,originInGrid:fj(ch(B.x,B.y,this.state.gridSize)),scrollbars:sl(Xr,n.clientX-this.state.offsetLeft,n.clientY-this.state.offsetTop),lastCoords:Va({},B),originalElements:this.scene.getElements().reduce(function(Ma,Fa){return Ma.set(Fa.id,fi(Fa)),Ma},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Ba+wa)/2,y:(W+pa)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(B,
P)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},h.prototype.handleDraggingScrollBar=function(n,B){var P=this;if(!B.scrollbars.isOverEither||this.state.multiElement)return!1;Wr=!0;B.lastCoords.x=n.clientX;B.lastCoords.y=n.clientY;var W=cf(function(pa){pa.target instanceof HTMLElement&&P.handlePointerMoveOverScrollbars(pa,B)}),wa=cf(function(){Wr=!1;Kf(P.canvas,P.state.elementType);co=null;P.setState({cursorButton:"up"});P.savePointer(n.clientX,
n.clientY,"up");window.removeEventListener(Qa.Ks.POINTER_MOVE,W);window.removeEventListener(Qa.Ks.POINTER_UP,wa)});return co=wa,window.addEventListener(Qa.Ks.POINTER_MOVE,W),window.addEventListener(Qa.Ks.POINTER_UP,wa),!0},h.prototype.isASelectedElement=function(n){return null!=n&&this.state.selectedElementIds[n.id]},h.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(n,B){if(2>B.length)return!1;var P=10/this.state.zoom.value;B=Yf(B);var W=B[1],wa=B[2],pa=B[3];return n.x>B[0]-P&&n.x<
wa+P&&n.y>W-P&&n.y<pa+P},h.prototype.onKeyDownFromPointerDownHandler=function(n){var B=this;return cf(function(P){B.maybeHandleResize(n,P)||B.maybeDragNewGenericElement(n,P)})},h.prototype.onKeyUpFromPointerDownHandler=function(n){var B=this;return cf(function(P){"Alt"===P.key&&P.preventDefault();B.maybeHandleResize(n,P)||B.maybeDragNewGenericElement(n,P)})},h.prototype.onPointerMoveFromPointerDownHandler=function(n){var B=this;return cf(function(P){if(null===n.drag.offset&&(n.drag.offset=fj(function(Zc,
jd,me){Zc=Yf(Zc);return[jd-Zc[0],me-Zc[1]]}(df(B.scene.getElements(),B.state),n.origin.x,n.origin.y))),P.target instanceof HTMLElement&&!B.handlePointerMoveOverScrollbars(P,n)){var W=Zf(P,B.state),wa=ch(W.x,W.y,B.state.gridSize),pa=wa[0];wa=wa[1];if(n.drag.hasOccurred||"arrow"!==B.state.elementType&&"line"!==B.state.elementType||!(Math.hypot(n.origin.x-W.x,n.origin.y-W.y)<Qa.f)){if(n.resize.isResizing&&(n.lastCoords.x=W.x,n.lastCoords.y=W.y,B.maybeHandleResize(n,P)))return!0;if(B.state.editingLinearElement&&
ag.handlePointDragging(B.state,function(Zc){return B.setState(Zc)},W.x,W.y,function(Zc,jd){B.maybeSuggestBindingForLinearElementAtCursor(Zc,jd,W)}))return n.lastCoords.x=W.x,void(n.lastCoords.y=W.y);if(n.hit.allHitElements.some(function(Zc){return B.isASelectedElement(Zc)})||n.hit.hasHitCommonBoundingBoxOfSelectedElements){n.drag.hasOccurred=!0;var Ba=df(B.scene.getElements(),B.state);if(0<Ba.length){pa=ch(W.x-n.drag.offset.x,W.y-n.drag.offset.y,B.state.gridSize);var Ma=pa[0];pa=pa[1];wa=[Math.abs(W.x-
n.origin.x),Math.abs(W.y-n.origin.y)];if(function(Zc,jd,me,ke,xe,pe,Oe,md){void 0===pe&&(pe=!1);void 0===Oe&&(Oe=0);void 0===md&&(md=0);xe=Yf(jd);var Id=me-xe[0],Xd=ke-xe[1];jd.forEach(function(Be){if(pe){var wh=pe&&Oe<md;var Wh=pe&&Oe>md;var oj=Zc.originalElements.get(Be.id);wh=wh&&oj?oj.x:Be.x+Id;Wh=Wh&&oj?oj.y:Be.y+Xd}else wh=Be.x+Id,Wh=Be.y+Xd;Gd(Be,{x:wh,y:Wh});Vh(Be,{simultaneouslyUpdated:jd})})}(n,Ba,Ma,pa,B.scene,P.shiftKey,wa[0],wa[1]),B.maybeSuggestBindingForAll(Ba),P.altKey&&!n.hit.hasBeenDuplicated){n.hit.hasBeenDuplicated=
!0;Ba=[];P=[];var Fa=new Map;wa=new Map;for(var hb=n.hit.element,jb=0,kb=B.scene.getElementsIncludingDeleted();jb<kb.length;jb++){var Kb=kb[jb];if(B.state.selectedElementIds[Kb.id]||Kb.id===(null==hb?void 0:hb.id)&&n.hit.wasAddedToSelection){var Ib=Ii(B.state.editingGroupId,Fa,Kb),nc=ch(n.origin.x-n.drag.offset.x,n.origin.y-n.drag.offset.y,B.state.gridSize);Gd(Ib,{x:Ib.x+(nc[0]-Ma),y:Ib.y+(nc[1]-pa)});Ba.push(Ib);P.push(Kb);wa.set(Kb.id,Ib.id)}else Ba.push(Kb)}Ma=Yg(Yg([],Ba),P);el(Ma,P,wa,"duplicatesServeAsOld");
B.scene.replaceAllElements(Ma)}return}}if(Ba=B.state.draggingElement)if(pg(Ba)?(n.drag.hasOccurred=!0,Fa=Ba.points,jb=hb=void 0,"draw"===Ba.type?(hb=W.x-Ba.x,jb=W.y-Ba.y):(hb=pa-Ba.x,jb=wa-Ba.y),P.shiftKey&&2===Fa.length&&(hb=(Ma=Mg(B.state.elementType,hb,jb)).width,jb=Ma.height),1===Fa.length?Gd(Ba,{points:Yg(Yg([],Fa),[[hb,jb]])}):1<Fa.length&&("draw"===Ba.type?Gd(Ba,{points:O(Yg(Yg([],Fa),[[hb,jb]]),.7/B.state.zoom.value)}):Gd(Ba,{points:Yg(Yg([],Fa.slice(0,-1)),[[hb,jb]])})),zf(Ba)&&B.maybeSuggestBindingForLinearElementAtCursor(Ba,
"end",W,B.state.startBoundElement)):(n.lastCoords.x=W.x,n.lastCoords.y=W.y,B.maybeDragNewGenericElement(n,P)),"selection"===B.state.elementType){Ma=B.scene.getElements();!P.shiftKey&&Eg(Ma,B.state)&&B.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var Sc=function(Zc,jd){jd=Jf(jd);var me=jd[0],ke=jd[1],xe=jd[2],pe=jd[3];return Zc.filter(function(Oe){var md=yj(Oe),Id=md[0],Xd=md[1],Be=md[2];md=md[3];return"selection"!==Oe.type&&me<=Id&&ke<=Xd&&xe>=Be&&pe>=md})}(Ma,Ba);B.setState(function(Zc){return Zj(Va(Va({},
Zc),{},{selectedElementIds:Va(Va({},Zc.selectedElementIds),Sc.reduce(function(jd,me){return jd[me.id]=!0,jd},{}))}),B.scene.getElements())})}}}})},h.prototype.handlePointerMoveOverScrollbars=function(n,B){return B.scrollbars.isOverHorizontal?(n=n.clientX,this.setState({scrollX:this.state.scrollX-(n-B.lastCoords.x)/this.state.zoom.value}),B.lastCoords.x=n,!0):B.scrollbars.isOverVertical?(n=n.clientY,this.setState({scrollY:this.state.scrollY-(n-B.lastCoords.y)/this.state.zoom.value}),B.lastCoords.y=
n,!0):!1},h.prototype.onPointerUpFromPointerDownHandler=function(n){var B=this;return cf(function(P){var W=B.state,wa=W.draggingElement,pa=W.resizingElement,Ba=W.multiElement,Ma=W.elementType,Fa=W.elementLocked,hb=W.isResizing;W=W.isRotating;if(B.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ba||og(B.state.editingElement)?B.state.editingElement:null}),B.savePointer(P.clientX,P.clientY,"up"),B.state.editingLinearElement){var jb=ag.handlePointerUp(P,
B.state.editingLinearElement,B.state);jb!==B.state.editingLinearElement&&B.setState({editingLinearElement:jb,suggestedBindings:[]})}if(co=null,window.removeEventListener(Qa.Ks.POINTER_MOVE,n.eventListeners.onMove),window.removeEventListener(Qa.Ks.POINTER_UP,n.eventListeners.onUp),window.removeEventListener(Qa.Ks.KEYDOWN,n.eventListeners.onKeyDown),window.removeEventListener(Qa.Ks.KEYUP,n.eventListeners.onKeyUp),"draw"!==(null==wa?void 0:wa.type))if(pg(wa))1<wa.points.length&&gk.resumeRecording(),
P=Zf(P,B.state),n.drag.hasOccurred||!wa||Ba?n.drag.hasOccurred&&!Ba&&(B.state.isBindingEnabled&&zf(wa)&&Hj(wa,B.state,B.scene,P),B.setState({suggestedBindings:[],startBoundElement:null}),Fa||"draw"===Ma?B.setState(function(Ib){var nc;return{draggingElement:null,selectedElementIds:Va(Va({},Ib.selectedElementIds),{},(nc={},nc[B.state.draggingElement.id]=!0,nc))}}):(Rh(B.canvas),B.setState(function(Ib){var nc;return{draggingElement:null,elementType:"selection",selectedElementIds:Va(Va({},Ib.selectedElementIds),
{},(nc={},nc[B.state.draggingElement.id]=!0,nc))}}))):(Gd(wa,{points:Yg(Yg([],wa.points),[[P.x-wa.x,P.y-wa.y]])}),B.setState({multiElement:wa,editingElement:B.state.draggingElement}));else{if("selection"!==Ma&&wa&&Sh(wa))return B.scene.replaceAllElements(B.scene.getElementsIncludingDeleted().slice(0,-1)),void B.setState({draggingElement:null});wa&&Gd(wa,hj(wa));pa&&gk.resumeRecording();pa&&Sh(pa)&&B.scene.replaceAllElements(B.scene.getElementsIncludingDeleted().filter(function(Ib){return Ib.id!==
pa.id}));var kb=n.hit.element;if(kb&&!n.drag.hasOccurred&&!n.hit.wasAddedToSelection)if(P.shiftKey)if(B.state.selectedElementIds[kb.id])if(null!=Di(B.state,kb)){var Kb=kb.groupIds.flatMap(function(Ib){return Ke(B.scene.getElements(),Ib)}).map(function(Ib){var nc;return(nc={})[Ib.id]=!1,nc}).reduce(function(Ib,nc){return Va(Va({},Ib),nc)},{});B.setState(function(Ib){return{selectedGroupIds:Va(Va({},Ib.selectedElementIds),kb.groupIds.map(function(nc){var Sc;return(Sc={})[nc]=!1,Sc}).reduce(function(nc,
Sc){return Va(Va({},nc),Sc)},{})),selectedElementIds:Va(Va({},Ib.selectedElementIds),Kb)}})}else B.setState(function(Ib){var nc;return{selectedElementIds:Va(Va({},Ib.selectedElementIds),{},(nc={},nc[kb.id]=!1,nc))}});else B.setState(function(Ib){var nc;return{selectedElementIds:Va(Va({},Ib.selectedElementIds),{},(nc={},nc[kb.id]=!0,nc))}});else B.setState(function(Ib){var nc;return Va({},Zj(Va(Va({},Ib),{},{selectedElementIds:(nc={},nc[kb.id]=!0,nc)}),B.scene.getElements()))});B.state.editingLinearElement||
n.drag.hasOccurred||B.state.isResizing||!(kb&&Lk(kb,B.state,n.origin.x,n.origin.y)||!kb&&n.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Fa&&"draw"!==Ma&&wa&&B.setState(function(Ib){var nc;return{selectedElementIds:Va(Va({},Ib.selectedElementIds),{},(nc={},nc[wa.id]=!0,nc))}}),("selection"!==Ma||Eg(B.scene.getElements(),B.state))&&gk.resumeRecording(),(n.drag.hasOccurred||hb||W)&&(B.state.isBindingEnabled?lg:xh)(df(B.scene.getElements(),B.state)),Fa||"draw"===Ma?B.setState({draggingElement:null,
suggestedBindings:[]}):(Rh(B.canvas),B.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):B.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else B.actionManager.executeAction(Pf)})},h.prototype.maybeSuggestBindingForAll=function(n){var B;n=(B=new Set(n.map(function(P){return P.id})),n.flatMap(function(P){return zf(P)?bn(P).filter(function(W){return!B.has(W.id)}):Pi(P)?Hh(P).filter(function(W){return!B.has(W[0].id)}):[]}));this.setState({suggestedBindings:n})},
h.prototype.clearSelection=function(n){this.setState(function(B){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:B.editingGroupId&&null!=n&&n.groupIds.includes(B.editingGroupId)?B.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},h.prototype.getTextWysiwygSnappedToCenterPosition=function(n,B,P,W,wa){if(wa=function(pa,Ba,Ma){for(var Fa=null,hb=pa.length-1;0<=hb;--hb)if(!pa[hb].isDeleted){var jb=Jf(pa[hb]),kb=jb[1],
Kb=jb[2],Ib=jb[3];if(jb[0]<Ba&&Ba<Kb&&kb<Ma&&Ma<Ib){Fa=pa[hb];break}}return Fa}(this.scene.getElementsIncludingDeleted().filter(function(pa){return!og(pa)}),n,B))if(W=wa.x+wa.width/2,wa=wa.y+wa.height/2,Math.hypot(n-W,B-wa)<Qa.wZ)return n=rg({sceneX:W,sceneY:wa},P),{viewportX:n.x,viewportY:n.y,elementCenterX:W,elementCenterY:wa}},h.prototype.getCanvasOffsets=function(n){var B,P;return"number"==typeof(null==n?void 0:n.offsetLeft)&&"number"==typeof(null==n?void 0:n.offsetTop)?{offsetLeft:n.offsetLeft,
offsetTop:n.offsetTop}:null!==(B=this.excalidrawContainerRef)&&void 0!==B&&null!==(P=B.current)&&void 0!==P&&P.parentElement?(P=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),B=P.left,P=P.top,{offsetLeft:"number"==typeof(null==n?void 0:n.offsetLeft)?n.offsetLeft:B,offsetTop:"number"==typeof(null==n?void 0:n.offsetTop)?n.offsetTop:P}):{offsetLeft:"number"==typeof(null==n?void 0:n.offsetLeft)?n.offsetLeft:0,offsetTop:"number"==typeof(null==n?void 0:n.offsetTop)?n.offsetTop:
0}},h.prototype.updateLanguage=function(){var n=this;return ub()(function(){var B;return Ho(this,function(P){switch(P.label){case 0:return B=Tc.find(function(W){return W.code===n.props.langCode})||Ld,[4,Ne(B)];case 1:return P.sent(),n.setAppState({}),[2]}})})()},h}(R().Component);Vr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=R().createRef();this.getSceneElementsIncludingDeleted=
function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=cf(function(h){if(!d.unmounted&&!1!==h){var n=null;if(h.elements&&(h.elements.forEach(function(Ma){var Fa;(null===(Fa=d.state.editingElement)||void 0===Fa?void 0:Fa.id)===Ma.id&&d.state.editingElement!==Ma&&!Ma.isDeleted&&(n=Ma)}),d.scene.replaceAllElements(h.elements),h.commitToHistory&&gk.resumeRecording()),h.appState||n){var B,P,W;h.commitToHistory&&gk.resumeRecording();
var wa=(null==h||null===(B=h.appState)||void 0===B?void 0:B.viewModeEnabled)||!1,pa=(null==h||null===(P=h.appState)||void 0===P?void 0:P.zenModeEnabled)||!1,Ba=(null==h||null===(W=h.appState)||void 0===W?void 0:W.gridSize)||null;void 0!==d.props.viewModeEnabled&&(wa=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(pa=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(Ba=d.props.gridModeEnabled?Qa.k:null);d.setState(function(Ma){var Fa;return Object.assign(h.appState||{},{editingElement:n||
(null===(Fa=h.appState)||void 0===Fa?void 0:Fa.editingElement)||null,width:Ma.width,height:Ma.height,offsetTop:Ma.offsetTop,offsetLeft:Ma.offsetLeft,viewModeEnabled:wa,zenModeEnabled:pa,gridSize:Ba})},function(){h.syncHistory&&gk.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=cf(function(){Io=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(h){h.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(h){og(h)&&
qi.delete(h)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var h=ub()(function(n){var B,P,W,wa,pa;return Ho(this,function(Ba){switch(Ba.label){case 0:window.history.replaceState({},Qa.iC,window.location.origin),Ba.label=1;case 1:return Ba.trys.push([1,7,,8]),[4,fetch(n)];case 2:return[4,Ba.sent().blob()];case 3:return B=Ba.sent(),wa=(W=JSON).parse,[4,B.text()];case 4:Ba=P=wa.apply(W,[Ba.sent()]);if("object"!=typeof Ba||!Ba||"excalidrawlib"!==Ba.type||1!==Ba.version)throw Error();return window.confirm(Jb("alerts.confirmAddLibrary",
{numShapes:P.library.length}))?[4,ih.importLibrary(B)]:[3,6];case 5:Ba.sent(),d.setState({isLibraryOpen:!0}),Ba.label=6;case 6:return[3,8];case 7:return pa=Ba.sent(),window.alert(Jb("alerts.errorLoadingLibrary")),console.error(pa),[3,8];case 8:return[2]}})});return function(n){return h.apply(this,arguments)}}();this.resetHistory=function(){gk.clear()};this.resetScene=cf(function(h){d.scene.replaceAllElements([]);d.setState(function(n){return Va(Va({},uh()),{},{isLoading:(null==h||!h.resetLoadingState)&&
n.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=ub()(function(){var h,n,B,P,W;return Ho(this,function(wa){switch(wa.label){case 0:"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var pa=ub()(function(Ba){var Ma,Fa;return Ho(this,function(hb){switch(hb.label){case 0:return Ba.files.length?[4,(Ma=Ba.files[0]).getFile()]:[2];case 1:return(Fa=hb.sent()).handle=Ma,Em(Fa,d.state).then(function(jb){return d.syncActionResult({elements:jb.elements,
appState:Va(Va({},jb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(jb){d.setState({isLoading:!1,errorMessage:jb.message})}),[2]}})});return function(Ba){return pa.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),n=null,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return n=wa.sent()||null,[3,4];case 3:return B=wa.sent(),console.error(B),[3,4];case 4:return(P=en(n,null)).appState=Va(Va({},P.appState),{},{isLoading:!1}),
null!==(h=n)&&void 0!==h&&h.scrollToCenter&&(P.appState=Va(Va({},P.appState),mi(P.elements,Va(Va({},P.appState),{},{width:d.state.width,height:d.state.height,offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Va(Va({},P),{},{commitToHistory:!0})),(W=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(W)]:[3,6];case 5:wa.sent(),wa.label=6;case 6:return[2]}})});this.onResize=cf(function(){d.scene.getElementsIncludingDeleted().forEach(function(h){return qi.delete(h)});
d.setState({})});this.onScroll=dj(function(){var h=d.getCanvasOffsets(),n=h.offsetTop,B=h.offsetLeft;d.setState(function(P){return P.offsetLeft===B&&P.offsetTop===n?null:{offsetTop:n,offsetLeft:B}})},Qa.HM);this.onCut=cf(function(h){Bh(h.target)||(d.cutAll(),h.preventDefault())});this.onCopy=cf(function(h){var n=document.getSelection();null!=n&&n.anchorNode&&!d.excalidrawContainerRef.current.contains(n.anchorNode)||Bh(h.target)||(d.copyAll(),h.preventDefault())});this.cutAll=function(){d.copyAll();
d.actionManager.executeAction(Cl)};this.copyAll=function(){sk(d.scene.getElements(),d.state)};this.onTapStart=function(h){if(!cq)return cq=!0,clearTimeout(Yr),void(Yr=window.setTimeout(Vr.resetTapTwice,Qa.Gj));if(cq&&1===h.touches.length){var n=h.touches[0];d.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY});cq=!1;clearTimeout(Yr)}h.preventDefault();2===h.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(h){h.preventDefault();0<h.touches.length&&d.setState({previousSelectedElementIds:{},
selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=cf(function(){var h=ub()(function(n){var B,P,W;return Ho(this,function(wa){switch(wa.label){case 0:return B=document.activeElement,P=document.elementFromPoint(Ap,xp),!n||P instanceof HTMLCanvasElement&&!Bh(B)?[4,$a(n)]:[2];case 1:return(W=wa.sent()).errorMessage?d.setState({errorMessage:W.errorMessage}):W.spreadsheet?d.setState({pasteDialog:{data:W.spreadsheet,shown:!0}}):W.elements?d.addElementsFromPasteOrLibrary(W.elements):
W.text&&d.addTextFromPaste(W.text),d.selectShapeTool("selection"),null==n||n.preventDefault(),[2]}})});return function(n){return h.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(h,n,B){void 0===n&&(n=Ap);void 0===B&&(B=xp);var P=Yf(h),W=P[0],wa=P[1],pa=Math.abs(W-P[2])/2;P=Math.abs(wa-P[3])/2;n=Zf({clientX:n,clientY:B},d.state);pa=n.x-pa;P=n.y-P;var Ba=new Map;pa=ch(pa,P,d.state.gridSize);var Ma=pa[0],Fa=pa[1],hb=new Map;pa=h.map(function(jb){var kb=Ii(d.state.editingGroupId,
Ba,jb,{x:jb.x+Ma-W,y:jb.y+Fa-wa});return hb.set(jb.id,kb.id),kb});P=Yg(Yg([],d.scene.getElementsIncludingDeleted()),pa);el(P,h,hb);d.scene.replaceAllElements(P);gk.resumeRecording();d.setState(Zj(Va(Va({},d.state),{},{isLibraryOpen:!1,selectedElementIds:pa.reduce(function(jb,kb){return jb[kb.id]=!0,jb},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(h){d.setState(h)};this.removePointer=function(h){"touch"===h.pointerType&&ko&&(clearTimeout(ko),ko=0,eq=!1);ll.delete(h.pointerId)};
this.toggleLock=function(){d.setState(function(h){return{elementLocked:!h.elementLocked,elementType:h.elementLocked?"selection":h.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(Zd)};this.toggleStats=function(){d.state.showStats||eh("dialog","stats");d.actionManager.executeAction(Xn)};this.setScrollToCenter=function(h){d.setState(Va({},mi(Sd(h),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=cf(function(h){var n;h.commitToHistory&&
gk.resumeRecording();null!==(n=h.appState)&&void 0!==n&&n.viewBackgroundColor&&d.setState({viewBackgroundColor:h.appState.viewBackgroundColor});h.elements&&d.scene.replaceAllElements(h.elements);h.collaborators&&d.setState({collaborators:h.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=cf(function(h){Ap=h.x;xp=h.y});this.onKeyDown=cf(function(h){var n;if(!(("Proxy"in window&&(!h.shiftKey&&/^[A-Z]$/.test(h.key)||h.shiftKey&&/^[a-z]$/.test(h.key))&&
(h=new Proxy(h,{get:function(wa,pa){var Ba=wa[pa];return"function"==typeof Ba?Ba.bind(wa):"key"===pa?h.shiftKey?wa.key.toUpperCase():wa.key.toLowerCase():Ba}})),Bh(h.target)&&"Escape"!==h.key||ci(h.key)&&(n=h.target,n instanceof HTMLElement&&"wysiwyg"===n.dataset.type||n instanceof HTMLBRElement||n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement))||("?"===h.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(h)||d.state.viewModeEnabled))){if(h[we]&&
d.setState({isBindingEnabled:!1}),"Digit9"===h.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),ci(h.key)){n=d.state.gridSize&&(h.shiftKey?Qa.$e:d.state.gridSize)||(h.shiftKey?Qa.Iw:Qa.$e);var B=d.scene.getElements().filter(function(wa){return d.state.selectedElementIds[wa.id]}),P=0,W=0;"ArrowLeft"===h.key?P=-n:"ArrowRight"===h.key?P=n:"ArrowUp"===h.key?W=-n:"ArrowDown"===h.key&&(W=n);B.forEach(function(wa){Gd(wa,{x:wa.x+P,y:wa.y+W});Vh(wa,{simultaneouslyUpdated:B})});d.maybeSuggestBindingForAll(B);
h.preventDefault()}else if("Enter"===h.key)if(n=df(d.scene.getElements(),d.state),1===n.length&&pg(n[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===n[0].id||(gk.resumeRecording(),d.setState({editingLinearElement:new ag(n[0],d.scene)}));else{if(1===n.length&&!pg(n[0]))return n=n[0],d.startTextEditing({sceneX:n.x+n.width/2,sceneY:n.y+n.height/2}),void h.preventDefault()}else h.ctrlKey||h.altKey||h.metaKey||null!==d.state.draggingElement||((n=function(wa){var pa=jm.find(function(Ba,
Ma){return wa===(Ma+1).toString()||("string"==typeof Ba.key?Ba.key===wa:Ba.key.includes(wa))});return(null==pa?void 0:pa.value)||null}(h.key))?d.selectShapeTool(n):"q"===h.key&&d.toggleLock());" "===h.key&&0===ll.size&&(Io=!0,pi(d.canvas,Qa.oc.GRABBING))}});this.onKeyUp=cf(function(h){if(" "===h.key&&("selection"===d.state.elementType?Rh(d.canvas):(Kf(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Io=!1),h[we]||d.state.isBindingEnabled||
d.setState({isBindingEnabled:!0}),ci(h.key))h=df(d.scene.getElements(),d.state),d.state.isBindingEnabled?lg(h):xh(h),d.setState({suggestedBindings:[]})});this.onGestureStart=cf(function(h){h.preventDefault();d.setState({selectedElementIds:{}});vp=d.state.zoom.value});this.onGestureChange=cf(function(h){if(h.preventDefault(),2!==ll.size){var n=vp;n&&d.setState(function(B){var P=B.zoom,W=B.offsetLeft;B=B.offsetTop;return{zoom:qh(Nj(n*h.scale),P,{left:W,top:B},{x:Ap,y:xp})}})}});this.onGestureEnd=cf(function(h){h.preventDefault();
d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});vp=null});this.startTextEditing=function(h){var n=h.sceneX,B=h.sceneY;h=h.insertAtParentCenter;var P=void 0===h||h;h=d.getTextElementAtPosition(n,B);P=P&&d.getTextWysiwygSnappedToCenterPosition(n,B,d.state,d.canvas,window.devicePixelRatio);n=h||bk({x:P?P.elementCenterX:n,y:P?P.elementCenterY:B,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,
strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:P?"center":d.state.currentItemTextAlign,verticalAlign:P?"middle":Qa.hs});d.setState({editingElement:n});h?P&&"center"===n.textAlign||Gd(n,{verticalAlign:Qa.hs}):(d.scene.replaceAllElements(Yg(Yg([],
d.scene.getElementsIncludingDeleted()),[n])),P||Gd(n,{y:n.y-n.baseline/2}));d.setState({editingElement:n});d.handleTextWysiwyg(n,{isExistingElement:!!h})};this.handleCanvasDoubleClick=function(h){if(!d.state.multiElement&&"selection"===d.state.elementType){var n=df(d.scene.getElements(),d.state);if(1===n.length&&pg(n[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===n[0].id||(gk.resumeRecording(),d.setState({editingLinearElement:new ag(n[0],d.scene)}));else{Rh(d.canvas);var B=
Zf(h,d.state);n=B.x;B=B.y;if(0<Si(d.state).length){var P=d.getElementAtPosition(n,B),W=P&&function(wa,pa){return wa.groupIds.find(function(Ba){return pa[Ba]})}(P,d.state.selectedGroupIds);if(W)return void d.setState(function(wa){var pa;return Zj(Va(Va({},wa),{},{editingGroupId:W,selectedElementIds:(pa={},pa[P.id]=!0,pa),selectedGroupIds:{}}),d.scene.getElements())})}Rh(d.canvas);h[we]||d.startTextEditing({sceneX:n,sceneY:B,insertAtParentCenter:!h.altKey})}}};this.handleCanvasPointerMove=function(h){d.savePointer(h.clientX,
h.clientY,d.state.cursorButton);ll.has(h.pointerId)&&ll.set(h.pointerId,{x:h.clientX,y:h.clientY});var n=vp;if(2===ll.size&&wp&&n&&dr){var B=Lm(ll),P=B.x-wp.x,W=B.y-wp.y;wp=B;var wa=Zn(Array.from(ll.values()))/dr;d.setState(function(Kb){var Ib=Kb.zoom,nc=Kb.offsetLeft,Sc=Kb.offsetTop;return{scrollX:Kb.scrollX+P/Ib.value,scrollY:Kb.scrollY+W/Ib.value,zoom:qh(Nj(n*wa),Ib,{left:nc,top:Sc},B),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else wp=dr=vp=null;if(!(Io||bq||Wr)){var pa=
sl(Xr,h.clientX-d.state.offsetLeft,h.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||d.state.multiElement||(pa?Rh(d.canvas):Kf(d.canvas,d.state.elementType));var Ba=Zf(h,d.state),Ma=Ba.x,Fa=Ba.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var hb=ag.handlePointerMove(h,Ma,Fa,d.state.editingLinearElement,d.state.gridSize);hb!==d.state.editingLinearElement&&d.setState({editingLinearElement:hb});null!=hb.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(Ba):
d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(hb=d.state.draggingElement,zf(hb)?d.maybeSuggestBindingForLinearElementAtCursor(hb,"end",Ba,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(Ba));if(d.state.multiElement){pa=d.state.multiElement;Ba=pa.x;hb=pa.y;h=pa.points;var jb=pa.lastCommittedPoint,kb=h[h.length-1];return Kf(d.canvas,d.state.elementType),void(kb===jb?Math.hypot(kb[0]-(Ma-Ba),kb[1]-(Fa-hb))>=Qa.qx?Gd(pa,{points:Yg(Yg([],h),[[Ma-Ba,Fa-hb]])}):pi(d.canvas,
Qa.oc.POINTER):2<h.length&&jb&&Math.hypot(jb[0]-(Ma-Ba),jb[1]-(Fa-hb))<Qa.qx?(pi(d.canvas,Qa.oc.POINTER),Gd(pa,{points:h.slice(0,-1)})):(bj(h,d.state.zoom.value)&&pi(d.canvas,Qa.oc.POINTER),Gd(pa,{points:Yg(Yg([],h.slice(0,-1)),[[Ma-Ba,Fa-hb]])})))}if(!(h.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){jb=d.scene.getElements();hb=df(jb,d.state);if(1!==hb.length||pa||d.state.editingLinearElement){if(1<hb.length&&!pa&&(Ma=lj(Yf(hb),Ma,Fa,d.state.zoom,h.pointerType)))return void pi(d.canvas,
Og({transformHandleType:Ma}))}else if((Ma=Sl(jb,d.state,Ma,Fa,d.state.zoom,h.pointerType))&&Ma.transformHandleType)return void pi(d.canvas,Og(Ma));Ma=d.getElementAtPosition(Ba.x,Ba.y);"text"===d.state.elementType?pi(d.canvas,og(Ma)?Qa.oc.TEXT:Qa.oc.CROSSHAIR):pa?pi(d.canvas,Qa.oc.AUTO):Ma||d.isHittingCommonBoundingBoxOfSelectedElements(Ba,hb)?pi(d.canvas,Qa.oc.MOVE):pi(d.canvas,Qa.oc.AUTO)}}};this.handleTouchMove=function(h){eq=!0};this.handleCanvasPointerDown=function(h){if(h.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(h),
d.maybeCleanupAfterMissingPointerUp(h),!(bq||(d.setState({lastPointerDownWith:h.pointerType,cursorButton:"down"}),d.savePointer(h.clientX,h.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(h)||h.button!==Qa.Oh.MAIN&&h.button!==Qa.Oh.TOUCH||(d.updateGestureOnPointerDown(h),h.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<ll.size)))){var n=d.initialPointerDownState(h);if(!d.handleDraggingScrollBar(h,n)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(h),
!d.handleSelectionOnPointerDown(h,n)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(h,d.state.elementType,n):d.createGenericElementOnPointerDown(d.state.elementType,n);h=d.onPointerMoveFromPointerDownHandler(n);var B=d.onPointerUpFromPointerDownHandler(n),P=d.onKeyDownFromPointerDownHandler(n),W=d.onKeyUpFromPointerDownHandler(n);co=B;d.state.viewModeEnabled||(window.addEventListener(Qa.Ks.POINTER_MOVE,
h),window.addEventListener(Qa.Ks.POINTER_UP,B),window.addEventListener(Qa.Ks.KEYDOWN,P),window.addEventListener(Qa.Ks.KEYUP,W),n.eventListeners.onMove=h,n.eventListeners.onUp=B,n.eventListeners.onKeyUp=W,n.eventListeners.onKeyDown=P)}else d.handleTextOnPointerDown(h,n)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(h){"touch"===h.pointerType&&(eq=!1,ko?eq=!0:ko=window.setTimeout(function(){ko=0;eq||d.openContextMenu({clientX:h.clientX,clientY:h.clientY})},Qa.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=
function(h){if(0!==ll.size||!(h.button===Qa.Oh.WHEEL||h.button===Qa.Oh.MAIN&&Io||d.state.viewModeEnabled))return!1;bq=!0;var n=!1,B=/Linux/.test(window.navigator.platform);pi(d.canvas,Qa.oc.GRABBING);var P=h.clientX,W=h.clientY,wa=cf(function(Ba){var Ma=P-Ba.clientX,Fa=W-Ba.clientY;if(P=Ba.clientX,W=Ba.clientY,B&&!n&&(1<Math.abs(Ma)||1<Math.abs(Fa))){n=!0;var hb=function(kb){document.body.removeEventListener(Qa.Ks.PASTE,hb);kb.stopPropagation()},jb=function(){setTimeout(function(){document.body.removeEventListener(Qa.Ks.PASTE,
hb);window.removeEventListener(Qa.Ks.POINTER_UP,jb)},100)};document.body.addEventListener(Qa.Ks.PASTE,hb);window.addEventListener(Qa.Ks.POINTER_UP,jb)}d.setState({scrollX:d.state.scrollX-Ma/d.state.zoom.value,scrollY:d.state.scrollY-Fa/d.state.zoom.value})}),pa=cf(co=function(){co=null;bq=!1;Io||Kf(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(h.clientX,h.clientY,"up");window.removeEventListener(Qa.Ks.POINTER_MOVE,wa);window.removeEventListener(Qa.Ks.POINTER_UP,pa);window.removeEventListener(Qa.Ks.BLUR,
pa)});return window.addEventListener(Qa.Ks.BLUR,pa),window.addEventListener(Qa.Ks.POINTER_MOVE,wa,{passive:!0}),window.addEventListener(Qa.Ks.POINTER_UP,pa),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(h,n){if("selection"===d.state.elementType){var B=d.scene.getElements(),P=df(B,d.state);1!==P.length||d.state.editingLinearElement?1<P.length&&
(n.resize.handleType=lj(Yf(P),n.origin.x,n.origin.y,d.state.zoom,h.pointerType)):(B=Sl(B,d.state,n.origin.x,n.origin.y,d.state.zoom,h.pointerType),null!=B&&(d.setState({resizingElement:B.element}),n.resize.handleType=B.transformHandleType));if(n.resize.handleType)pi(d.canvas,Og({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=fj(function(jb,kb,Kb,Ib){var nc,Sc=1===kb.length?Jf(kb[0]):Yf(kb),Zc=Sc[0],jd=Sc[1],me=Sc[2];Sc=Sc[3];kb=1===kb.length?kb[0].angle:0;switch(Kb=
(nc=Ue(Kb,Ib,(Zc+me)/2,(jd+Sc)/2,-kb))[0],Ib=nc[1],jb){case "n":return Ue(Kb-(Zc+me)/2,Ib-jd,0,0,kb);case "s":return Ue(Kb-(Zc+me)/2,Ib-Sc,0,0,kb);case "w":return Ue(Kb-Zc,Ib-(jd+Sc)/2,0,0,kb);case "e":return Ue(Kb-me,Ib-(jd+Sc)/2,0,0,kb);case "nw":return Ue(Kb-Zc,Ib-jd,0,0,kb);case "ne":return Ue(Kb-me,Ib-jd,0,0,kb);case "sw":return Ue(Kb-Zc,Ib-Sc,0,0,kb);case "se":return Ue(Kb-me,Ib-Sc,0,0,kb);default:return[0,0]}}(n.resize.handleType,P,n.origin.x,n.origin.y)),1===P.length&&pg(P[0])&&2===P[0].points.length&&
(n.resize.arrowDirection=(pa=n.resize.handleType,Ba=P[0],Ma=Ba.points[1],Fa=Ma[0],hb=Ma[1],"nw"===pa&&(0>Fa||0>hb)||"ne"===pa&&0<=Fa||"sw"===pa&&0>=Fa||"se"===pa&&(0<Fa||0<hb)?"end":"origin"));else{var W;if(d.state.editingLinearElement&&(P=ag.handlePointerDown(h,d.state,function(jb){return d.setState(jb)},gk,n.origin),P.hitElement&&(n.hit.element=P.hitElement),P.didAddPoint))return!0;n.hit.element=null!==(W=n.hit.element)&&void 0!==W?W:d.getElementAtPosition(n.origin.x,n.origin.y);n.hit.allHitElements=
d.getElementsAtPosition(n.origin.x,n.origin.y);var wa=n.hit.element;W=n.hit.allHitElements.some(function(jb){return d.isASelectedElement(jb)});if(null!==wa&&W||h.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(wa),null!=wa){if(h[we])return d.setState(function(jb){var kb;jb=Ja(Ja({},jb),{},{editingGroupId:wa.groupIds.length?wa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(kb={},kb[wa.id]=!0,kb)});return Va(Va({},jb),{},{previousSelectedElementIds:d.state.selectedElementIds})}),
!1;d.state.selectedElementIds[wa.id]||(d.state.editingGroupId&&!wa.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),W||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(jb){var kb;return Zj(Va(Va({},jb),{},{selectedElementIds:Va(Va({},jb.selectedElementIds),{},(kb={},kb[wa.id]=!0,kb))}),d.scene.getElements())}),n.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var pa,
Ba,Ma,Fa,hb;return!1};this.handleTextOnPointerDown=function(h,n){var B;"text"!==(null===(B=d.state.editingElement)||void 0===B?void 0:B.type)&&(d.startTextEditing({sceneX:n.origin.x,sceneY:n.origin.y,insertAtParentCenter:!h.altKey}),Rh(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(h,n,B){if(d.state.multiElement){var P=d.state.multiElement;if("line"===P.type&&bj(P.points,d.state.zoom.value))return Gd(P,{lastCommittedPoint:P.points[P.points.length-
1]}),void d.actionManager.executeAction(Pf);n=P.x;h=P.y;var W=P.lastCommittedPoint;if(1<P.points.length&&W&&Math.hypot(W[0]-(B.origin.x-n),W[1]-(B.origin.y-h))<Qa.qx)return void d.actionManager.executeAction(Pf);d.setState(function(Ba){var Ma;return{selectedElementIds:Va(Va({},Ba.selectedElementIds),{},(Ma={},Ma[P.id]=!0,Ma))}});Gd(P,{lastCommittedPoint:P.points[P.points.length-1]});pi(d.canvas,Qa.oc.POINTER)}else{h=ch(B.origin.x,B.origin.y,"draw"===n?null:d.state.gridSize);var wa=d.state;W=wa.currentItemStartArrowhead;
wa=wa.currentItemEndArrowhead;W="arrow"===n?[W,wa]:[null,null];var pa=Hi({type:n,x:h[0],y:h[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:W[0],endArrowhead:W[1]});d.setState(function(Ba){var Ma;
return{selectedElementIds:Va(Va({},Ba.selectedElementIds),{},(Ma={},Ma[pa.id]=!1,Ma))}});Gd(pa,{points:Yg(Yg([],pa.points),[[0,0]])});B=ph(B.origin,d.scene);d.scene.replaceAllElements(Yg(Yg([],d.scene.getElementsIncludingDeleted()),[pa]));d.setState({draggingElement:pa,editingElement:pa,startBoundElement:B,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(h,n){n=ch(n.origin.x,n.origin.y,d.state.gridSize);h=Pl({type:h,x:n[0],y:n[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===h.type?d.setState({selectionElement:h,draggingElement:h}):(d.scene.replaceAllElements(Yg(Yg([],d.scene.getElementsIncludingDeleted()),[h])),d.setState({multiElement:null,draggingElement:h,
editingElement:h}))};this.updateBindingEnabledOnPointerMove=function(h){h=!h[we];d.state.isBindingEnabled!==h&&d.setState({isBindingEnabled:h})};this.maybeSuggestBindingAtCursor=function(h){h=ph(h,d.scene);d.setState({suggestedBindings:null!=h?[h]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(h,n,B,P){n=ph(B,d.scene);d.setState({suggestedBindings:null==n||(null==P?void 0:P.id)===n.id&&3>h.points.length?[]:[n]})};this.handleCanvasRef=function(h){var n,B,P;null!==h?(d.canvas=h,d.rc=
Xf.canvas(d.canvas),d.canvas.addEventListener(Qa.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(Qa.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(Qa.Ks.TOUCH_END,d.onTapEnd)):(null===(n=d.canvas)||void 0===n||n.removeEventListener(Qa.Ks.WHEEL,d.handleWheel),null===(B=d.canvas)||void 0===B||B.removeEventListener(Qa.Ks.TOUCH_START,d.onTapStart),null===(P=d.canvas)||void 0===P||P.removeEventListener(Qa.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var h=ub()(function(n){var B,
P,W,wa,pa,Ba,Ma,Fa,hb,jb,kb;return Ho(this,function(Kb){switch(Kb.label){case 0:return Kb.trys.push([0,3,,4]),"image/png"!==(null==(P=n.dataTransfer.files[0])?void 0:P.type)&&"image/svg+xml"!==(null==P?void 0:P.type)?[3,2]:[4,Em(P,d.state)];case 1:return W=Kb.sent(),wa=W.elements,pa=W.appState,d.syncActionResult({elements:wa,appState:Va(Va({},pa||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ba=Kb.sent(),[2,d.setState({isLoading:!1,errorMessage:Ba.message})];
case 4:if(""!==(Ma=n.dataTransfer.getData(Qa.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(Ma),n.clientX,n.clientY),[2];if(!("application/json"===(null==(Fa=null===(B=n.dataTransfer)||void 0===B?void 0:B.files[0])?void 0:Fa.type)||null!=Fa&&Fa.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];Kb.label=5;case 5:return Kb.trys.push([5,7,,8]),hb=n.dataTransfer.items[0],jb=Fa,
[4,hb.getAsFileSystemHandle()];case 6:return jb.handle=Kb.sent(),[3,8];case 7:return kb=Kb.sent(),console.warn(kb.name,kb.message),[3,8];case 8:return Em(Fa,d.state).then(function(Ib){return d.syncActionResult({elements:Ib.elements,appState:Va(Va({},Ib.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Ib){d.setState({isLoading:!1,errorMessage:Ib.message})}),[3,10];case 9:(null==Fa?void 0:Fa.type)===Qa.LO.excalidrawlib||null!=Fa&&Fa.name.endsWith(".excalidrawlib")?ih.importLibrary(Fa).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(Ib){return d.setState({isLoading:!1,
errorMessage:Ib.message})}):d.setState({isLoading:!1,errorMessage:Jb("alerts.couldNotLoadInvalidFile")}),Kb.label=10;case 10:return[2]}})});return function(n){return h.apply(this,arguments)}}();this.handleCanvasContextMenu=function(h){h.preventDefault();d.openContextMenu(h)};this.maybeDragNewGenericElement=function(h,n){var B=d.state.draggingElement,P=h.lastCoords;if(B)if("selection"===B.type)Lh(B,d.state.elementType,h.origin.x,h.origin.y,P.x,P.y,Math.abs(h.origin.x-P.x),Math.abs(h.origin.y-P.y),
n.shiftKey,n.altKey);else{var W=ch(P.x,P.y,d.state.gridSize);P=W[0];W=W[1];Lh(B,d.state.elementType,h.originInGrid.x,h.originInGrid.y,P,W,Math.abs(h.originInGrid.x-P),Math.abs(h.originInGrid.y-W),n.shiftKey,n.altKey);d.maybeSuggestBindingForAll([B])}};this.maybeHandleResize=function(h,n){var B=df(d.scene.getElements(),d.state),P=h.resize.handleType;d.setState({isResizing:P&&"rotation"!==P,isRotating:"rotation"===P});var W=h.lastCoords;W=ch(W.x-h.resize.offset.x,W.y-h.resize.offset.y,d.state.gridSize);
a:{var wa=h.resize.arrowDirection,pa=n.shiftKey,Ba=n.altKey;n=n.shiftKey;var Ma=W[0],Fa=W[1];W=h.resize.center.x;var hb=h.resize.center.y;if(1===B.length){W=B[0];if("rotation"===P)P=Jf(W),P=5*Math.PI/2+Math.atan2(Fa-(P[1]+P[3])/2,Ma-(P[0]+P[2])/2),pa&&(P+=Qa.ay/2,P-=P%Qa.ay),P=mf(P),Gd(W,{angle:P}),Vh(W);else if(!pg(W)||2!==W.points.length||"nw"!==P&&"ne"!==P&&"sw"!==P&&"se"!==P)if(!og(W)||"nw"!==P&&"ne"!==P&&"sw"!==P&&"se"!==P){if(P){wa=h.originalElements.get(W.id);var jb=hh(wa,wa.width,wa.height);
pa=[jb[0],jb[1]];h=[jb[2],jb[3]];jb=[(pa[0]+h[0])/2,(pa[1]+h[1])/2];hb=qk([Ma,Fa],jb,-wa.angle);Ma=hh(W,W.width,W.height);var kb=Ma[2]-Ma[0],Kb=Ma[3]-Ma[1];Ma=(h[0]-pa[0])/kb;Fa=(h[1]-pa[1])/Kb;P.includes("e")&&(Ma=(hb[0]-pa[0])/kb);P.includes("s")&&(Fa=(hb[1]-pa[1])/Kb);P.includes("w")&&(Ma=(h[0]-hb[0])/kb);P.includes("n")&&(Fa=(h[1]-hb[1])/Kb);hb=wa.width;kb=wa.height;Ma*=W.width;Fa*=W.height;if(Ba&&(Ma=2*Ma-hb,Fa=2*Fa-kb),n){Kb=Math.abs(Ma)/hb;var Ib=Math.abs(Fa)/kb;if(1===P.length&&(Fa*=Kb,Ma*=
Ib),2===P.length)Kb=Math.max(Kb,Ib),Ma=hb*Kb*Math.sign(Ma),Fa=kb*Kb*Math.sign(Fa)}Ib=hh(wa,Ma,Fa);hb=Ib[0];kb=Ib[1];Kb=Ib[2]-hb;Ib=Ib[3]-kb;var nc=qj([],pa);if(["n","w","nw"].includes(P)&&(nc=[h[0]-Math.abs(Kb),h[1]-Math.abs(Ib)]),"ne"===P)nc=[pa[0],h[1]],nc=[nc[0],nc[1]-Math.abs(Ib)];"sw"===P&&(pa=[h[0],pa[1]],nc=[pa[0]-Math.abs(Kb),pa[1]]);n&&(["s","n"].includes(P)&&(nc[0]=jb[0]-Kb/2),["e","w"].includes(P)&&(nc[1]=jb[1]-Ib/2));0>Ma&&(P.includes("e")&&(nc[0]-=Math.abs(Kb)),P.includes("w")&&(nc[0]+=
Math.abs(Kb)));0>Fa&&(P.includes("s")&&(nc[1]-=Math.abs(Ib)),P.includes("n")&&(nc[1]+=Math.abs(Ib)));Ba&&(nc[0]=jb[0]-Math.abs(Kb)/2,nc[1]=jb[1]-Math.abs(Ib)/2);P=wa.angle;Ba=qk(nc,jb,P);n=qk([nc[0]+Math.abs(Kb)/2,nc[1]+Math.abs(Ib)/2],jb,P);nc=qk(Ba,n,-P);P=af(wa,Ma,Fa);Ba=qj([],nc);Ba[0]+=wa.x-hb;Ba[1]+=wa.y-kb;P=Zb({width:Math.abs(Ma),height:Math.abs(Fa),x:Ba[0],y:Ba[1]},P);0!==P.width&&0!==P.height&&Number.isFinite(P.x)&&Number.isFinite(P.y)&&(Vh(W,{newSize:{width:P.width,height:P.height}}),Gd(W,
P))}}else{wa=Jf(W);h=wa[0];pa=wa[1];n=wa[2];wa=wa[3];Fa=Ue(Ma,Fa,(h+n)/2,(pa+wa)/2,-W.angle);Ma=Fa[0];Fa=Fa[1];switch(P){case "se":jb=Math.max((Ma-h)/(n-h),(Fa-pa)/(wa-pa));break;case "nw":jb=Math.max((n-Ma)/(n-h),(wa-Fa)/(wa-pa));break;case "ne":jb=Math.max((Ma-h)/(n-h),(wa-Fa)/(wa-pa));break;case "sw":jb=Math.max((n-Ma)/(n-h),(Fa-pa)/(wa-pa))}0<jb&&(Ma=W.width*jb,jb*=W.height,Fa=$g(W,Ma,jb),null!==Fa&&(hb=hh(W,Ma,jb),h=(h-hb[0])/2,pa=(pa-hb[1])/2,n=(n-hb[2])/2,wa=(wa-hb[3])/2,P={n:/^(n|ne|nw)$/.test(P)||
Ba&&/^(s|se|sw)$/.test(P),s:/^(s|se|sw)$/.test(P)||Ba&&/^(n|ne|nw)$/.test(P),w:/^(w|nw|sw)$/.test(P)||Ba&&/^(e|ne|se)$/.test(P),e:/^(e|ne|se)$/.test(P)||Ba&&/^(w|nw|sw)$/.test(P)},P=wj(P,W.x,W.y,W.angle,h,pa,n,wa),Gd(W,{fontSize:Fa.size,width:Ma,height:jb,baseline:Fa.baseline,x:P[0],y:P[1]})));Vh(W)}else P=Jf(W),Ba=Ue(Ma,Fa,(P[0]+P[2])/2,(P[1]+P[3])/2,-W.angle),P=Ba[0],Ba=Ba[1],Ba="end"===wa?[P-W.x,Ba-W.y]:[W.x+W.points[1][0]-P,W.y+W.points[1][1]-Ba],P=Ba[0],Ba=Ba[1],pa&&(n=W.angle,P=Mg.apply(void 0,
qj([W.type],Ue(P,Ba,0,0,n))),Ba=Ue(P.width,P.height,0,0,-n),P=Ba[0],Ba=Ba[1]),n=wj("end"===wa?{s:!0,e:!0}:{n:!0,w:!0},W.x,W.y,W.angle,0,0,(W.points[1][0]-P)/2,(W.points[1][1]-Ba)/2),Gd(W,{x:n[0],y:n[1],points:[[0,0],[P,Ba]]});W=!0}else{if(1<B.length){if("rotation"===P){W=(kk(h,B,Ma,Fa,pa,W,hb),!0);break a}if("nw"===P||"ne"===P||"sw"===P||"se"===P){W=(tl(B,P,Ma,Fa),!0);break a}}W=!1}}return!!W&&(d.maybeSuggestBindingForAll(B),!0)};this.openContextMenu=function(h){var n,B=h.clientX;h=h.clientY;var P=
Zf({clientX:B,clientY:h},d.state),W=P.x,wa=P.y,pa=Mf.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),Ba=ri.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());P=eg().matches;var Ma=d.scene.getElements();W=d.getElementAtPosition(W,wa);wa=[];(tk&&0<Ma.length&&wa.push(sp),Uj&&0<Ma.length&&wa.push(tp),W)?(d.state.selectedElementIds[W.id]||d.setState({selectedElementIds:(n={},n[W.id]=!0,n)}),d.state.viewModeEnabled?
An({options:Yg([navigator.clipboard&&gn],wa),top:h,left:B,actionManager:d.actionManager,appState:d.state}):An({options:Yg(Yg([P&&Zp,P&&navigator.clipboard&&gn,P&&navigator.clipboard&&{name:"paste",perform:function(Fa,hb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},P&&"separator"],wa),["separator",Ze,Se,"separator",pa&&Mf,Ba&&ri,(pa||Ba)&&"separator",Do,"separator",Fo,ni,f,A,"separator",ca,Cl]),top:h,left:B,actionManager:d.actionManager,appState:d.state})):
(n=Yg(Yg([],wa),[void 0===d.props.gridModeEnabled&&qp,void 0===d.props.zenModeEnabled&&Zd,void 0===d.props.viewModeEnabled&&Js,Xn]),(An({options:n,top:h,left:B,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||An({options:[P&&navigator.clipboard&&{name:"paste",perform:function(Fa,hb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},P&&navigator.clipboard&&"separator",tk&&0<Ma.length&&sp,Uj&&0<Ma.length&&tp,(tk&&0<Ma.length||Uj&&0<Ma.length)&&
"separator",V,"separator",void 0===d.props.gridModeEnabled&&qp,void 0===d.props.zenModeEnabled&&Zd,void 0===d.props.viewModeEnabled&&Js,Xn],top:h,left:B,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=cf(function(h){if(h.preventDefault(),!bq){var n=h.deltaX,B=h.deltaY,P=d.state,W=P.selectedElementIds,wa=P.previousSelectedElementIds;if(h.metaKey||h.ctrlKey){h=Math.sign(B);P=Math.abs(B);10<P&&(P=10);P*=h;0!==Object.keys(wa).length&&setTimeout(function(){d.setState({selectedElementIds:wa,
previousSelectedElementIds:{}})},1E3);var pa=d.state.zoom.value-P/100;return pa+=Math.log10(Math.max(1,d.state.zoom.value))*-h,pa=Math.round(pa*Qa.V4*100)/(100*Qa.V4),d.setState(function(Ba){var Ma=Ba.zoom,Fa=Ba.offsetLeft;Ba=Ba.offsetTop;return{zoom:qh(Nj(pa),Ma,{left:Fa,top:Ba},{x:Ap,y:xp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(W).length?W:wa,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}h.shiftKey?d.setState(function(Ba){return{scrollX:Ba.scrollX-
(B||n)/Ba.zoom.value}}):d.setState(function(Ba){var Ma=Ba.zoom;return{scrollX:Ba.scrollX-n/Ma.value,scrollY:Ba.scrollY-B/Ma.value}})}});this.savePointer=function(h,n,B){var P,W;h&&n&&(h=Zf({clientX:h,clientY:n},d.state),isNaN(h.x)||isNaN(h.y),null===(P=(W=d.props).onPointerUpdate)||void 0===P||P.call(W,{pointer:h,button:B,pointersMap:ll}))};this.resetShouldCacheIgnoreZoomDebounced=dj(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Qa.Vi.TEST&&"production"!==Qa.Vi.DEVELOPMENT||
(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return gk}},library:{configurable:!0,value:ih}}));g(8234);g(4651);var Is=function(d){var h=d.width,n=d.height,B=d.offsetLeft,P=d.offsetTop,W=d.onChange,wa=d.initialData,pa=d.excalidrawRef,Ba=d.onCollabButtonClick,Ma=d.isCollaborating,Fa=d.onPointerUpdate,
hb=d.onExportToBackend,jb=d.renderFooter,kb=d.langCode;kb=void 0===kb?Ld.code:kb;var Kb=d.viewModeEnabled,Ib=d.zenModeEnabled;d=d.gridModeEnabled;return(0,Z.useEffect)(function(){var nc=function(Sc){"number"==typeof Sc.scale&&1!==Sc.scale&&Sc.preventDefault()};return document.addEventListener("touchmove",nc,{passive:!1}),function(){document.removeEventListener("touchmove",nc)}},[]),R().createElement(th,{langCode:kb},R().createElement(Vf,null,R().createElement(Vr,{width:h,height:n,offsetLeft:B,offsetTop:P,
onChange:W,initialData:wa,excalidrawRef:pa,onCollabButtonClick:Ba,isCollaborating:Ma,onPointerUpdate:Fa,onExportToBackend:hb,renderFooter:jb,langCode:kb,viewModeEnabled:Kb,zenModeEnabled:Ib,gridModeEnabled:d})))};Is.defaultProps={lanCode:Ld.code};var Ut=(0,Z.forwardRef)(function(d,h){return R().createElement(Is,ya()({},d,{excalidrawRef:h}))});const Wt=R().memo(Ut,function(d,h){d.initialData;var n=N()(d,["initialData"]),B=(h.initialData,N()(h,["initialData"]));d=Object.keys(d);h=Object.keys(h);return d.length===
h.length&&d.every(function(P){return n[P]===B[P]})});g(6009);const Tt=Wt},4698:x=>{x.exports=u},6207:x=>{x.exports=r}},a={};return q.m=w,q.n=x=>{var m=x&&x.__esModule?()=>x.default:()=>x;return q.d(m,{a:m}),m},k=Object.getPrototypeOf?x=>Object.getPrototypeOf(x):x=>x.__proto__,q.t=function(x,m){if((1&m&&(x=this(x)),8&m)||"object"==typeof x&&x&&(4&m&&x.__esModule||16&m&&"function"==typeof x.then))return x;var g=Object.create(null);q.r(g);var y={};l=l||[null,k({}),k([]),k(k)];for(m=2&m&&x;"object"==
typeof m&&!~l.indexOf(m);m=k(m))Object.getOwnPropertyNames(m).forEach(D=>y[D]=()=>x[D]);return y.default=()=>x,q.d(g,y),g},q.d=(x,m)=>{for(var g in m)q.o(m,g)&&!q.o(x,g)&&Object.defineProperty(x,g,{enumerable:!0,get:m[g]})},q.f={},q.e=x=>Promise.all(Object.keys(q.f).reduce((m,g)=>(q.f[g](x,m),m),[])),q.u=x=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",
242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",
869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[x]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",
364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",
933:"f3ae9dac7b038b673e45"}[x]+".js",q.o=(x,m)=>Object.prototype.hasOwnProperty.call(x,m),p={},q.l=(x,m,g,y)=>{if(p[x])p[x].push(m);else{var D;if(void 0!==g){y=document.getElementsByTagName("script");for(var J=0;J<y.length;J++){var O=y[J];if(O.getAttribute("src")==x||O.getAttribute("data-webpack")=="Excalidraw:"+g){var T=O;break}}}T||(D=!0,(T=document.createElement("script")).charset="utf-8",T.timeout=120,q.nc&&T.setAttribute("nonce",q.nc),T.setAttribute("data-webpack","Excalidraw:"+g),T.src=x);p[x]=
[m];m=(G,E)=>{T.onerror=T.onload=null;clearTimeout(H);var F=p[x];if(delete p[x],T.parentNode&&T.parentNode.removeChild(T),F&&F.forEach(da=>da(E)),G)return G(E)};var H=setTimeout(m.bind(null,void 0,{type:"timeout",target:T}),12E4);T.onerror=m.bind(null,T.onerror);T.onload=m.bind(null,T.onload);D&&document.head.appendChild(T)}},q.r=x=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",{value:!0})},q.p="",
(()=>{var x={163:0};q.f.j=(y,D)=>{var J=q.o(x,y)?x[y]:void 0;if(0!==J)if(J)D.push(J[2]);else{var O=new Promise((H,G)=>{J=x[y]=[H,G]});D.push(J[2]=O);D=q.p+q.u(y);var T=Error();q.l(D,H=>{if(q.o(x,y)&&(0!==(J=x[y])&&(x[y]=void 0),J)){var G=H&&("load"===H.type?"missing":H.type);H=H&&H.target&&H.target.src;T.message="Loading chunk "+y+" failed.\n("+G+": "+H+")";T.name="ChunkLoadError";T.type=G;T.request=H;J[1](T)}},"chunk-"+y,y)}};var m=(y,D)=>{for(var J,O,[T,H,G]=D,E=0,F=[];E<T.length;E++)O=T[E],q.o(x,
O)&&x[O]&&F.push(x[O][0]),x[O]=0;for(J in H)q.o(H,J)&&(q.m[J]=H[J]);G&&G(q);for(y&&y(D);F.length;)F.shift()()},g=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];g.forEach(m.bind(null,0));g.push=m.bind(null,g.push.bind(g))})(),q(3956)})()})};
var M3b=function(a,b){var c=$APP.aC();$APP.l(c)&&$APP.LA($APP.DXa(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Hl($APP.E(["Error loading ",a,": ",d]))})},O3b=function(a){var b=$APP.Dx(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.mj(N3b.F(a),b);return a},P3b=new $APP.I(null,"view-mode-enabled","view-mode-enabled",-588220561),Q3b=new $APP.I($APP.ya,"view-mode?","frontend.extensions.excalidraw/view-mode?",525380621),R3b=new $APP.I(null,
"viewBackgroundColor","viewBackgroundColor",1889137994),S3b=new $APP.I(null,"grid-mode-enabled","grid-mode-enabled",584978327),T3b=new $APP.I(null,"gridSize","gridSize",843108791),U3b=new $APP.I($APP.ya,"elements","frontend.extensions.excalidraw/elements",1745667967),V3b=new $APP.I($APP.ya,"loading?","frontend.extensions.excalidraw/loading?",-1335058663),W3b=new $APP.I($APP.ya,"data","frontend.extensions.excalidraw/data",-1371036113),X3b=new $APP.I(null,"zen-mode-enabled","zen-mode-enabled",-955634269),
Y3b=new $APP.I($APP.ya,"zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),Z3b=new $APP.I(null,"appState","appState",-1920687968),$3b=new $APP.I(null,"initial-data","initial-data",-1315709804),N3b=new $APP.I($APP.ya,"draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.hda("excalidraw");var a4b=$APP.dx(444);var b4b,c4b,d4b,e4b;$APP.XWb={};b4b=$APP.SL($APP.mb(a4b,"default"));c4b=$APP.Wl.F(null);
d4b=$APP.xx($APP.Bx,function(a,b,c){$APP.PB($APP.$B);$APP.Gx(c4b);var d=$APP.G.B(a,N3b),e=$APP.G.B(a,Y3b),f=$APP.G.B(a,Q3b),g=$APP.PB($APP.aOa),m=$APP.G.B(a,U3b),n=$APP.Xn.F(c);return $APP.l(b)?$APP.U("div",{onMouseDown:function(q){return $APP.YA(q)},className:"overflow-hidden"},[$APP.U("div",{style:{fontSize:10},className:"my-1"},[$APP.U("a",{onClick:$APP.bOa,className:"mr-2"},[$APP.jx($APP.JA("Wide Mode (%s)",$APP.E([$APP.l(g)?"ON":"OFF"])))]),$APP.U("a",{onClick:function(){return $APP.Xl.B(e,$APP.Od)},
className:"mr-2"},[$APP.jx($APP.JA("Zen Mode (%s)",$APP.E([$APP.l($APP.t(e))?"ON":"OFF"])))]),$APP.U("a",{onClick:function(){return $APP.Xl.B(f,$APP.Od)},className:"mr-2"},[$APP.jx($APP.JA("View Mode (%s)",$APP.E([$APP.l($APP.t(f))?"ON":"OFF"])))])]),$APP.U("div",{onMouseDown:function(q){$APP.YA(q);return $APP.YB($APP.mZ,!0)},onBlur:function(){return $APP.YB($APP.mZ,!1)},className:"draw-wrap"},[$APP.jx(function(){var q=$APP.Eo.J($APP.E([new $APP.k(null,6,[$APP.rU,function(r,v){var y=$APP.qv(r);return $APP.w(y)&&
$APP.Uk.B(r,$APP.t(m))?(v=$APP.qv(v),$APP.h_a(n,JSON.stringify($APP.rv(new $APP.k(null,5,[$APP.Vn,"excalidraw",$APP.N1a,2,$APP.ms,$APP.XZa,$APP.h3,r,Z3b,$APP.Vk(v,new $APP.M(null,2,5,$APP.O,[T3b,R3b],null))],null)))),$APP.mj(m,r)):null},X3b,$APP.t(e),P3b,$APP.t(f),S3b,!1,$3b,b,$APP.bM,$APP.t(d)],null),$APP.l(g)?new $APP.k(null,1,[$APP.aM,650],null):new $APP.k(null,1,[$APP.aM,500],null)]));return b4b.F?b4b.F(q):b4b.call(null,q)}())])]):null},new $APP.M(null,7,5,$APP.O,[$APP.p6,$APP.Ex(800,N3b),$APP.Ex(!0,
Y3b),$APP.Ex(!1,Q3b),$APP.Ex(null,U3b),new $APP.k(null,1,[$APP.tx,O3b],null),new $APP.k(null,1,[$APP.vx,O3b],null)],null),"frontend.extensions.excalidraw/draw-inner");
e4b=$APP.xx($APP.Bx,function(a,b){var c=$APP.G.B(a,W3b);a=$APP.G.B(a,V3b);a=$APP.Gx(a);c=$APP.Gx(c);var d=$APP.PB($APP.HMb);return $APP.l($APP.Xn.F(b))?$APP.l(d)?(b=$APP.vU("Loading"),$APP.U("div",$APP.ig(b)?$APP.ix($APP.gx($APP.E([new $APP.k(null,1,[$APP.fx,new $APP.M(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.ig(b)?null:[$APP.jx(b)])):!1===a?d4b(c,b):null:null},new $APP.M(null,2,5,$APP.O,[$APP.p6,new $APP.k(null,1,[$APP.rx,function(a){var b=$APP.yx.F(a);b=$APP.D.G(b,
0,null);b=$APP.Xn.F(b);var c=$APP.Wl.F(null),d=$APP.Wl.F(!0);$APP.l(b)&&M3b(b,function(e){if($APP.qn(e))var f=null;else try{f=JSON.parse(e)}catch(g){if(g instanceof Error)e=g,$APP.Hl($APP.E(["from json error:"])),console.dir(e),f=$APP.rL($APP.yva("Could not load this invalid excalidraw file"),$APP.tq);else throw g;}$APP.mj(c,f);return $APP.mj(d,!1)});return $APP.P.J(a,W3b,c,$APP.E([V3b,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.YWb=$APP.xx($APP.Ax,function(a){var b=$APP.aC(),c=$APP.PB(new $APP.M(null,2,5,$APP.O,[$APP.vL,b],null));return $APP.wD(b)&&$APP.Od(c)&&$APP.Od($APP.IA())?null:e4b(a)},new $APP.M(null,1,5,$APP.O,[$APP.p6],null),"frontend.extensions.excalidraw/draw");$APP.vc.Ki();
}).call(this);