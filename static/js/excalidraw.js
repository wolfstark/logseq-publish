(function(){
shadow$provide[436]=function(ka,T,Ea,C){var v=T(13);!function(u,t){"object"==typeof C&&"object"==typeof Ea?Ea.exports=t(T(3),T(12)):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof C?C.Excalidraw=t(T(3),T(12)):u.Excalidraw=t(u.React,u.ReactDOM)}(self,function(u,t){return(()=>{function q(B){if(a[B])return a[B].exports;var n=a[B]={id:B,exports:{}};return w[B](n,n.exports,q),n.exports}var k,l,p,w={5374:B=>{function n(g,z,D,J,O,S,H){try{var G=g[S](H),E=G.value}catch(F){return void D(F)}G.done?
z(E):Promise.resolve(E).then(J,O)}B.exports=function(g){return function(){var z=this,D=arguments;return new Promise(function(J,O){function S(E){n(G,J,O,S,H,"next",E)}function H(E){n(G,J,O,S,H,"throw",E)}var G=g.apply(z,D);S(void 0)})}}},566:B=>{B.exports=function(n,g,z){return g in n?Object.defineProperty(n,g,{value:z,enumerable:!0,configurable:!0,writable:!0}):n[g]=z,n}},6950:B=>{function n(){return B.exports=n=Object.assign||function(g){for(var z=1;z<arguments.length;z++){var D=arguments[z],J;for(J in D)Object.prototype.hasOwnProperty.call(D,
J)&&(g[J]=D[J])}return g},n.apply(this,arguments)}B.exports=n},5474:(B,n,g)=>{var z=g(8387);B.exports=function(D,J){if(null==D)return{};var O,S=z(D,J);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);for(O=0;O<H.length;O++){var G=H[O];0<=J.indexOf(G)||Object.prototype.propertyIsEnumerable.call(D,G)&&(S[G]=D[G])}}return S}},8387:B=>{B.exports=function(n,g){if(null==n)return{};var z,D={},J=Object.keys(n);for(z=0;z<J.length;z++){var O=J[z];0<=g.indexOf(O)||(D[O]=n[O])}return D}},
6009:(B,n,g)=>{n=g(487);g=g(8328);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},1395:(B,n,g)=>{n=g(487);g=g(6121);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},3211:(B,n,g)=>{n=g(487);g=g(2510);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},5574:(B,n,g)=>{n=g(487);g=g(7972);
"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},4518:(B,n,g)=>{n=g(487);g=g(190);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},3040:(B,n,g)=>{n=g(487);g=g(6718);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},8623:(B,n,g)=>{n=g(487);g=g(3623);"string"==typeof(g=g.__esModule?g.default:
g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},4193:(B,n,g)=>{n=g(487);g=g(103);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},341:(B,n,g)=>{n=g(487);g=g(7061);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},9705:(B,n,g)=>{n=g(487);g=g(1498);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",
singleton:!1});B.exports=g.locals||{}},7143:(B,n,g)=>{n=g(487);g=g(666);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},7428:(B,n,g)=>{n=g(487);g=g(849);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},8465:(B,n,g)=>{n=g(487);g=g(6915);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||
{}},8680:(B,n,g)=>{n=g(487);g=g(7030);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},205:(B,n,g)=>{n=g(487);g=g(3994);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},8416:(B,n,g)=>{n=g(487);g=g(700);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},2816:(B,n,g)=>{n=g(487);g=g(287);
"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},1575:(B,n,g)=>{n=g(487);g=g(5657);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},7287:(B,n,g)=>{n=g(487);g=g(7392);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},8518:(B,n,g)=>{n=g(487);g=g(6065);"string"==typeof(g=g.__esModule?g.default:
g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},5849:(B,n,g)=>{n=g(487);g=g(83);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},9478:(B,n,g)=>{n=g(487);g=g(1554);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},2680:(B,n,g)=>{n=g(487);g=g(1970);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",
singleton:!1});B.exports=g.locals||{}},3142:(B,n,g)=>{n=g(487);g=g(961);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},8234:(B,n,g)=>{n=g(487);g=g(4878);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},4651:(B,n,g)=>{n=g(487);g=g(1988);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||
{}},2189:(B,n,g)=>{n=g(487);g=g(3245);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[B.id,g,""]]);n(g,{insert:"head",singleton:!1});B.exports=g.locals||{}},487:(B,n,g)=>{function z(la){for(var fa=-1,oa=0;oa<F.length;oa++)if(F[oa].identifier===la){fa=oa;break}return fa}function D(la,fa){for(var oa={},na=[],qa=0;qa<la.length;qa++){var K=la[qa],Q=fa.base?K[0]+fa.base:K[0],da=oa[Q]||0,ia="".concat(Q," ").concat(da);oa[Q]=da+1;Q=z(ia);K={css:K[1],media:K[2],sourceMap:K[3]};-1!==Q?(F[Q].references++,
F[Q].updater(K)):F.push({identifier:ia,updater:H(K,fa),references:1});na.push(ia)}return na}function J(la){var fa=document.createElement("style"),oa=la.attributes||{};if(void 0===oa.nonce){var na=g.nc;na&&(oa.nonce=na)}if(Object.keys(oa).forEach(function(qa){fa.setAttribute(qa,oa[qa])}),"function"==typeof la.insert)la.insert(fa);else{la=E(la.insert||"head");if(!la)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");la.appendChild(fa)}return fa}
function O(la,fa,oa,na){oa=oa?"":na.media?"@media ".concat(na.media," {").concat(na.css,"}"):na.css;la.styleSheet?la.styleSheet.cssText=ma(fa,oa):(oa=document.createTextNode(oa),na=la.childNodes,na[fa]&&la.removeChild(na[fa]),na.length?la.insertBefore(oa,na[fa]):la.appendChild(oa))}function S(la,fa,oa){fa=oa.css;var na=oa.media;oa=oa.sourceMap;if(na?la.setAttribute("media",na):la.removeAttribute("media"),oa&&"undefined"!=typeof btoa&&(fa+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(oa)))),
" */")),la.styleSheet)la.styleSheet.cssText=fa;else{for(;la.firstChild;)la.removeChild(la.firstChild);la.appendChild(document.createTextNode(fa))}}function H(la,fa){if(fa.singleton){var oa=ta++;var na=X||(X=J(fa));var qa=O.bind(null,na,oa,!1);var K=O.bind(null,na,oa,!0)}else na=J(fa),qa=S.bind(null,na,fa),K=function(){if(null===na.parentNode)var Q=!1;else na.parentNode.removeChild(na),Q=void 0;!Q};return qa(la),function(Q){Q?(Q.css!==la.css||Q.media!==la.media||Q.sourceMap!==la.sourceMap)&&qa(la=
Q):K()}}var G,E=function(){var la={};return function(fa){if(void 0===la[fa]){var oa=document.querySelector(fa);if(window.HTMLIFrameElement&&oa instanceof window.HTMLIFrameElement)try{oa=oa.contentDocument.head}catch(na){oa=null}la[fa]=oa}return la[fa]}}(),F=[],ea,ma=(ea=[],function(la,fa){return ea[la]=fa,ea.filter(Boolean).join("\n")}),X=null,ta=0;B.exports=function(la,fa){(fa=fa||{}).singleton||"boolean"==typeof fa.singleton||(fa.singleton=(void 0===G&&(G=!(!(window&&document&&document.all)||window.atob)),
G));var oa=D(la=la||[],fa);return function(na){if(na=na||[],"[object Array]"===Object.prototype.toString.call(na)){for(var qa=0;qa<oa.length;qa++){var K=z(oa[qa]);F[K].references--}na=D(na,fa);for(qa=0;qa<oa.length;qa++)K=z(oa[qa]),0===F[K].references&&(F[K].updater(),F.splice(K,1));oa=na}}}},2829:B=>{B.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:B=>{B.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(B,n,g)=>{function z(J){if(!g.o(D,J))return Promise.resolve().then(()=>
{var H=Error("Cannot find module '"+J+"'");throw H.code="MODULE_NOT_FOUND",H;});var O=D[J],S=O[0];return Promise.all(O.slice(1).map(g.e)).then(()=>g.t(S,3))}var D={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};z.keys=()=>Object.keys(D);z.id=788;B.exports=z},7154:B=>{function n(){return B.exports=n=Object.assign||function(g){for(var z=1;z<arguments.length;z++){var D=arguments[z],J;for(J in D)Object.prototype.hasOwnProperty.call(D,J)&&(g[J]=D[J])}return g},n.apply(this,arguments)}B.exports=n},6479:(B,n,g)=>{var z=g(7316);B.exports=function(D,J){if(null==D)return{};var O,S=z(D,J);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);
for(O=0;O<H.length;O++){var G=H[O];0<=J.indexOf(G)||Object.prototype.propertyIsEnumerable.call(D,G)&&(S[G]=D[G])}}return S}},7316:B=>{B.exports=function(n,g){if(null==n)return{};var z,D={},J=Object.keys(n);for(z=0;z<J.length;z++){var O=J[z];0<=g.indexOf(O)||(D[O]=n[O])}return D}},8328:(B,n,g)=>{g.r(n);g.d(n,{default:()=>J});n=g(3645);var z=g.n(n);n=g(1667);n=g.n(n);var D=g(7464);g=g(9638);z=z()(function(O){return O[1]});D=n()(D.Z);g=n()(g.Z);z.push([B.id,'@font-face{font-family:"Virgil";src:url('+
D+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+g+");font-display:swap}",""]);const J=z},6121:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const z=g},2510:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const z=g},7972:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const z=g},190:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const z=g},6718:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const z=g},3623:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const z=g},103:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const z=g},7061:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);
g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const z=g},1498:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const z=g},666:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const z=g},849:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const z=g},6915:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});
n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const z=g},7030:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const z=g},3994:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const z=g},700:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const z=g},287:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const z=g},5657:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const z=g},7392:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const z=g},6065:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const z=g},83:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const z=g},1554:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const z=g},1970:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const z=g},961:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const z=g},4878:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const z=g},1988:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const z=g},3245:(B,n,g)=>{g.r(n);g.d(n,{default:()=>z});n=g(3645);g=g.n(n)()(function(D){return D[1]});g.push([B.id,"",""]);g.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const z=g},3645:B=>{B.exports=function(n){var g=[];return g.toString=function(){return this.map(function(z){var D=n(z);return z[2]?"@media ".concat(z[2]," {").concat(D,"}"):D}).join("")},g.i=function(z,D,J){"string"==typeof z&&(z=[[null,
z,""]]);var O={};if(J)for(var S=0;S<this.length;S++){var H=this[S][0];null!=H&&(O[H]=!0)}for(S=0;S<z.length;S++)H=[].concat(z[S]),J&&O[H[0]]||(D&&(H[2]?H[2]="".concat(D," and ").concat(H[2]):H[2]=D),g.push(H))},g}},1667:B=>{B.exports=function(n,g){return g||(g={}),"string"!=typeof(n=n&&n.__esModule?n.default:n)?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),g.hash&&(n+=g.hash),/["'() \t\n]/.test(n)||g.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},9638:(B,n,g)=>{g.d(n,{Z:()=>
z});const z=g.p+"excalidraw-assets/Cascadia.woff2"},7464:(B,n,g)=>{g.d(n,{Z:()=>z});const z=g.p+"excalidraw-assets/Virgil.woff2"},8288:(B,n,g)=>{g.d(n,{iC:()=>D,f:()=>J,qx:()=>O,Iw:()=>S,$e:()=>H,wZ:()=>G,ay:()=>E,oc:()=>F,Oh:()=>ea,Ks:()=>z,Vi:()=>ma,$C:()=>X,ut:()=>ta,_D:()=>la,n5:()=>fa,rk:()=>oa,Hg:()=>na,hs:()=>qa,eQ:()=>K,k:()=>Q,LO:()=>da,I:()=>ia,Gj:()=>ua,nM:()=>ja,Lg:()=>ha,HM:()=>sa,V4:()=>Qa,EH:()=>db,Gi:()=>cb});var z;B=g(2189);g=g.n(B);var D="Excalidraw",J=10,O=8,S=5,H=1,G=30,E=Math.PI/
12,F={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},ea={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Ya){Ya.COPY="copy";Ya.PASTE="paste";Ya.CUT="cut";Ya.KEYDOWN="keydown";Ya.KEYUP="keyup";Ya.MOUSE_MOVE="mousemove";Ya.RESIZE="resize";Ya.UNLOAD="unload";Ya.BLUR="blur";Ya.DRAG_OVER="dragover";Ya.DROP="drop";Ya.GESTURE_END="gestureend";Ya.BEFORE_UNLOAD="beforeunload";Ya.GESTURE_START="gesturestart";Ya.GESTURE_CHANGE="gesturechange";Ya.POINTER_MOVE="pointermove";
Ya.POINTER_UP="pointerup";Ya.STATE_CHANGE="statechange";Ya.WHEEL="wheel";Ya.TOUCH_START="touchstart";Ya.TOUCH_END="touchend";Ya.HASHCHANGE="hashchange";Ya.VISIBILITY_CHANGE="visibilitychange";Ya.SCROLL="scroll"}(z||(z={}));var ma={TEST:"test",DEVELOPMENT:"development"},X={SHAPE_ACTIONS_MENU:"App-menu__left"},ta={1:"Virgil",2:"Helvetica",3:"Cascadia"},la="Segoe UI Emoji",fa=20,oa=1,na="left",qa="top",K="{version}",Q=20,da={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
ia={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ua=300,ja=500,ha=5E3,sa=100,Qa=.1,db={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},cb=g().appearanceFilter},3956:(B,n,g)=>{function z(d,h){return Math.pow(d[0]-h[0],2)+Math.pow(d[1]-h[1],2)}function D(d,h,m){return[d[0]+(h[0]-d[0])*m,d[1]+(h[1]-d[1])*m]}function J(d,h,m,A){A=A||[];{var P=d[h+0],W=d[h+1];var wa=d[h+2];const Ga=d[h+3];var pa=3*W[0]-2*P[0]-Ga[0];pa*=pa;W=3*W[1]-2*P[1]-Ga[1];W*=W;let hb=3*wa[0]-2*Ga[0]-P[0];hb*=hb;P=3*wa[1]-2*Ga[1]-P[1];
wa=(P*=P,pa<hb&&(pa=hb),W<P&&(W=P),pa+W)}wa<m?(m=d[h+0],A.length?1<(Ba=A[A.length-1],Ma=m,Math.sqrt(z(Ba,Ma)))&&A.push(m):A.push(m),A.push(d[h+3])):(Ba=d[h+0],pa=d[h+1],Ma=d[h+2],d=d[h+3],h=D(Ba,pa,.5),W=D(pa,Ma,.5),Ma=D(Ma,d,.5),pa=D(h,W,.5),W=D(W,Ma,.5),P=D(pa,W,.5),J([Ba,h,pa,P],0,m,A),J([P,W,Ma,d],0,m,A));var Ba,Ma;return A}function O(d,h){return S(d,0,d.length,h)}function S(d,h,m,A,P){P=P||[];const W=d[h],wa=d[m-1];let pa=0,Ba=1;for(let kb=h+1;kb<m-1;++kb){var Ma=d[kb];var Ga=W,hb=wa,jb=z(Ga,
hb);0===jb?Ma=z(Ma,Ga):(jb=((Ma[0]-Ga[0])*(hb[0]-Ga[0])+(Ma[1]-Ga[1])*(hb[1]-Ga[1]))/jb,Ma=(jb=Math.max(0,Math.min(1,jb)),z(Ma,D(Ga,hb,jb))));Ma>pa&&(pa=Ma,Ba=kb)}return Math.sqrt(pa)>A?(S(d,h,Ba+1,A,P),S(d,Ba,m,A,P)):(P.length||P.push(W),P.push(wa)),P}function H(d,h=.15,m){const A=[],P=(d.length-1)/3;for(let W=0;W<P;W++)J(d,3*W,h,A);return m&&0<m?S(A,0,A.length,m):A}function G(d,h,m){if(d&&d.length){const [A,P]=h;h=Math.PI/180*m;const W=Math.cos(h),wa=Math.sin(h);d.forEach(pa=>{const [Ba,Ma]=pa;
pa[0]=(Ba-A)*W-(Ma-P)*wa+A;pa[1]=(Ba-A)*wa+(Ma-P)*W+P})}}function E(d){const h=d[0];d=d[1];return Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2))}function F(d,h,m,A){const P=h[1]-d[1];h=d[0]-h[0];d=P*d[0]+h*d[1];const W=A[1]-m[1];A=m[0]-A[0];m=W*m[0]+A*m[1];const wa=P*A-W*h;return wa?[(A*d-h*m)/wa,(P*m-W*d)/wa]:null}function ea(d,h,m){const A=d.length;if(3>A)return!1;const P=[Number.MAX_SAFE_INTEGER,m];h=[h,m];m=0;for(let W=0;W<A;W++){const wa=d[W],pa=d[(W+1)%A];if(ta(wa,pa,h,P)){if(0===X(wa,
h,pa))return ma(wa,h,pa);m++}}return 1==m%2}function ma(d,h,m){return h[0]<=Math.max(d[0],m[0])&&h[0]>=Math.min(d[0],m[0])&&h[1]<=Math.max(d[1],m[1])&&h[1]>=Math.min(d[1],m[1])}function X(d,h,m){d=(h[1]-d[1])*(m[0]-h[0])-(h[0]-d[0])*(m[1]-h[1]);return 0===d?0:0<d?1:2}function ta(d,h,m,A){const P=X(d,h,m),W=X(d,h,A),wa=X(m,A,d),pa=X(m,A,h);return P!==W&&wa!==pa||!(0!==P||!ma(d,m,h))||!(0!==W||!ma(d,A,h))||!(0!==wa||!ma(m,d,A))||!(0!==pa||!ma(m,h,A))}function la(d,h){const m=[0,0],A=Math.round(h.hachureAngle+
90);A&&G(d,m,A);h=function(P,W){var wa=[...P];wa[0].join(",")!==wa[wa.length-1].join(",")&&wa.push([wa[0][0],wa[0][1]]);P=[];if(wa&&2<wa.length){let Ba=W.hachureGap;0>Ba&&(Ba=4*W.strokeWidth);Ba=Math.max(Ba,.1);W=[];for(var pa=0;pa<wa.length-1;pa++){const hb=wa[pa],jb=wa[pa+1];if(hb[1]!==jb[1]){const kb=Math.min(hb[1],jb[1]);W.push({ymin:kb,ymax:Math.max(hb[1],jb[1]),x:kb===hb[1]?hb[0]:jb[0],islope:(jb[0]-hb[0])/(jb[1]-hb[1])})}}if(W.sort((hb,jb)=>hb.ymin<jb.ymin?-1:hb.ymin>jb.ymin?1:hb.x<jb.x?-1:
hb.x>jb.x?1:hb.ymax===jb.ymax?0:(hb.ymax-jb.ymax)/Math.abs(hb.ymax-jb.ymax)),!W.length)return P;let Ma=[],Ga=W[0].ymin;for(;Ma.length||W.length;){if(W.length){wa=-1;for(pa=0;pa<W.length&&!(W[pa].ymin>Ga);pa++)wa=pa;W.splice(0,wa+1).forEach(hb=>{Ma.push({s:Ga,edge:hb})})}if(Ma=Ma.filter(hb=>!(hb.edge.ymax<=Ga)),Ma.sort((hb,jb)=>hb.edge.x===jb.edge.x?0:(hb.edge.x-jb.edge.x)/Math.abs(hb.edge.x-jb.edge.x)),1<Ma.length)for(wa=0;wa<Ma.length;wa+=2){pa=wa+1;if(pa>=Ma.length)break;P.push([[Math.round(Ma[wa].edge.x),
Ga],[Math.round(Ma[pa].edge.x),Ga]])}Ga+=Ba;Ma.forEach(hb=>{hb.edge.x+=Ba*hb.edge.islope})}}return P}(d,h);return A&&(G(d,m,-A),function(P,W,wa){const pa=[];P.forEach(Ba=>pa.push(...Ba));G(pa,W,wa)}(h,m,-A)),h}function fa(d){const h=[];a:{var m=d;for(var A=[];""!==m;){if(!m.match(/^([ \t\r\n,]+)/))if(m.match(/^([aAcChHlLmMqQsStTvVzZ])/))A[A.length]={type:0,text:RegExp.$1};else{if(!m.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){m=[];break a}A[A.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}m=
m.substr(RegExp.$1.length)}m=(A[A.length]={type:2,text:""},A)}A="BOD";let P=0;for(var W=m[P];2!==W.type;){let wa=0;const pa=[];if("BOD"===A){if("M"!==W.text&&"m"!==W.text)return fa("M0,0"+d);P++;wa=Oi[W.text];A=W.text}else 1===W.type?wa=Oi[A]:(P++,wa=Oi[W.text],A=W.text);if(!(P+wa<m.length))throw Error("Path data ended short");for(W=P;W<P+wa;W++){const Ba=m[W];if(1!==Ba.type)throw Error("Param not a number: "+A+","+Ba.text);pa[pa.length]=+Ba.text}if("number"!=typeof Oi[A])throw Error("Bad segment: "+
A);h.push({key:A,data:pa});P+=wa;W=m[P];"M"===A&&(A="L");"m"===A&&(A="l")}return h}function oa(d){let h=0,m=0,A=0,P=0;const W=[];for(const {key:wa,data:pa}of d)switch(wa){case "M":W.push({key:"M",data:[...pa]});[h,m]=pa;[A,P]=pa;break;case "m":h+=pa[0];m+=pa[1];W.push({key:"M",data:[h,m]});A=h;P=m;break;case "L":W.push({key:"L",data:[...pa]});[h,m]=pa;break;case "l":h+=pa[0];m+=pa[1];W.push({key:"L",data:[h,m]});break;case "C":W.push({key:"C",data:[...pa]});h=pa[4];m=pa[5];break;case "c":d=pa.map((Ba,
Ma)=>Ma%2?Ba+m:Ba+h);W.push({key:"C",data:d});h=d[4];m=d[5];break;case "Q":W.push({key:"Q",data:[...pa]});h=pa[2];m=pa[3];break;case "q":d=pa.map((Ba,Ma)=>Ma%2?Ba+m:Ba+h);W.push({key:"Q",data:d});h=d[2];m=d[3];break;case "A":W.push({key:"A",data:[...pa]});h=pa[5];m=pa[6];break;case "a":h+=pa[5];m+=pa[6];W.push({key:"A",data:[pa[0],pa[1],pa[2],pa[3],pa[4],h,m]});break;case "H":W.push({key:"H",data:[...pa]});h=pa[0];break;case "h":h+=pa[0];W.push({key:"H",data:[h]});break;case "V":W.push({key:"V",data:[...pa]});
m=pa[0];break;case "v":m+=pa[0];W.push({key:"V",data:[m]});break;case "S":W.push({key:"S",data:[...pa]});h=pa[2];m=pa[3];break;case "s":d=pa.map((Ba,Ma)=>Ma%2?Ba+m:Ba+h);W.push({key:"S",data:d});h=d[2];m=d[3];break;case "T":W.push({key:"T",data:[...pa]});h=pa[0];m=pa[1];break;case "t":h+=pa[0];m+=pa[1];W.push({key:"T",data:[h,m]});break;case "Z":case "z":W.push({key:"Z",data:[]}),h=A,m=P}return W}function na(d){const h=[];var m="";let A=0,P=0,W=0,wa=0,pa=0,Ba=0;for(const {key:Ga,data:hb}of d){switch(Ga){case "M":h.push({key:"M",
data:[...hb]});[A,P]=hb;[W,wa]=hb;break;case "C":h.push({key:"C",data:[...hb]});A=hb[4];P=hb[5];pa=hb[2];Ba=hb[3];break;case "L":h.push({key:"L",data:[...hb]});[A,P]=hb;break;case "H":A=hb[0];h.push({key:"L",data:[A,P]});break;case "V":P=hb[0];h.push({key:"L",data:[A,P]});break;case "S":var Ma=d=0;"C"===m||"S"===m?(d=A+(A-pa),Ma=P+(P-Ba)):(d=A,Ma=P);h.push({key:"C",data:[d,Ma,...hb]});pa=hb[0];Ba=hb[1];A=hb[2];P=hb[3];break;case "T":{const [jb,kb]=hb;Ma=d=0;"Q"===m||"T"===m?(d=A+(A-pa),Ma=P+(P-Ba)):
(d=A,Ma=P);h.push({key:"C",data:[A+2*(d-A)/3,P+2*(Ma-P)/3,jb+2*(d-jb)/3,kb+2*(Ma-kb)/3,jb,kb]});pa=d;Ba=Ma;A=jb;P=kb;break}case "Q":{const [jb,kb,Kb,Ib]=hb;h.push({key:"C",data:[A+2*(jb-A)/3,P+2*(kb-P)/3,Kb+2*(jb-Kb)/3,Ib+2*(kb-Ib)/3,Kb,Ib]});pa=jb;Ba=kb;A=Kb;P=Ib;break}case "A":{m=Math.abs(hb[0]);d=Math.abs(hb[1]);Ma=hb[2];const jb=hb[3],kb=hb[4],Kb=hb[5],Ib=hb[6];if(0===m||0===d)h.push({key:"C",data:[A,P,Kb,Ib,Kb,Ib]}),A=Kb,P=Ib;else if(A!==Kb||P!==Ib)K(A,P,Kb,Ib,m,d,Ma,jb,kb).forEach(function(nc){h.push({key:"C",
data:nc})}),A=Kb,P=Ib;break}case "Z":h.push({key:"Z",data:[]}),A=W,P=wa}m=Ga}return h}function qa(d,h,m){return[d*Math.cos(m)-h*Math.sin(m),d*Math.sin(m)+h*Math.cos(m)]}function K(d,h,m,A,P,W,wa,pa,Ba,Ma){const Ga=(hb=wa,Math.PI*hb/180);var hb;hb=[];if(Ma)[pa,jb,kb,Kb]=Ma;else{[d,h]=qa(d,h,-Ga);[m,A]=qa(m,A,-Ga);var jb=(d-m)/2;var kb=(h-A)/2;var Kb=jb*jb/(P*P)+kb*kb/(W*W);1<Kb&&(Kb=Math.sqrt(Kb),P*=Kb,W*=Kb);Kb=P*P;var Ib=W*W;pa=(pa===Ba?-1:1)*Math.sqrt(Math.abs((Kb*Ib-Kb*kb*kb-Ib*jb*jb)/(Kb*kb*kb+
Ib*jb*jb)));kb=pa*P*kb/W+(d+m)/2;Kb=pa*-W*jb/P+(h+A)/2;pa=Math.asin(parseFloat(((h-Kb)/W).toFixed(9)));jb=Math.asin(parseFloat(((A-Kb)/W).toFixed(9)));d<kb&&(pa=Math.PI-pa);m<kb&&(jb=Math.PI-jb);0>pa&&(pa=2*Math.PI+pa);0>jb&&(jb=2*Math.PI+jb);Ba&&pa>jb&&(pa-=2*Math.PI);!Ba&&jb>pa&&(jb-=2*Math.PI)}if(Math.abs(jb-pa)>120*Math.PI/180){hb=jb;Ib=m;const nc=A;jb=Ba&&jb>pa?pa+120*Math.PI/180:pa+120*Math.PI/180*-1;hb=K(m=kb+P*Math.cos(jb),A=Kb+W*Math.sin(jb),Ib,nc,P,W,wa,0,Ba,[jb,hb,kb,Kb])}wa=Math.tan((jb-
pa)/4);P=4/3*P*wa;wa*=4/3*W;W=[d,h];d=[d+P*Math.sin(pa),h-wa*Math.cos(pa)];h=[m+P*Math.sin(jb),A-wa*Math.cos(jb)];m=[m,A];if(d[0]=2*W[0]-d[0],d[1]=2*W[1]-d[1],Ma)return[d,h,m].concat(hb);hb=[d,h,m].concat(hb);Ma=[];for(m=0;m<hb.length;m+=3)A=qa(hb[m][0],hb[m][1],Ga),d=qa(hb[m+1][0],hb[m+1][1],Ga),h=qa(hb[m+2][0],hb[m+2][1],Ga),Ma.push([A[0],A[1],d[0],d[1],h[0],h[1]]);return Ma}function Q(d,h,m){const A=(d||[]).length;if(2<A){const P=[];for(let W=0;W<A-1;W++)P.push(...Ya(d[W][0],d[W][1],d[W+1][0],
d[W+1][1],m));return h&&P.push(...Ya(d[A-1][0],d[A-1][1],d[0][0],d[0][1],m)),{type:"path",ops:P}}return 2===A?{type:"path",ops:Ya(d[0][0],d[0][1],d[1][0],d[1][1],m)}:{type:"path",ops:[]}}function da(d,h){let m=Vb(d,1+.2*h.roughness,h);if(!h.disableMultiStroke){var A=1.5*(1+.22*h.roughness);{const P=Object.assign({},h);P.randomizer=void 0;h.seed&&(P.seed=h.seed+1);h=P}d=Vb(d,A,h);m=m.concat(d)}return{type:"path",ops:m}}function ia(d,h,m){const A=2*Math.PI/Math.max(m.curveStepCount,m.curveStepCount/
Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(h/2,2))/2)));d=Math.abs(d/2);h=Math.abs(h/2);const P=1-m.curveFitting;return d+=cb(d*P,m),h+=cb(h*P,m),{increment:A,rx:d,ry:h}}function ua(d,h,m,A){const [P,W]=sc(A.increment,d,h,A.rx,A.ry,1,A.increment*db(.1,db(.4,1,m),m),m);let wa=Ub(P,null,m);m.disableMultiStroke||([d]=sc(A.increment,d,h,A.rx,A.ry,1.5,0,m),m=Ub(d,null,m),wa=wa.concat(m));return{estimatedPoints:W,opset:{type:"path",ops:wa}}}function ja(d,h,m,A,P,W,wa,pa,Ba){m=
Math.abs(m/2);A=Math.abs(A/2);m+=cb(.01*m,Ba);for(A+=cb(.01*A,Ba);0>P;)P+=2*Math.PI,W+=2*Math.PI;W-P>2*Math.PI&&(P=0,W=2*Math.PI);var Ma=Math.min(2*Math.PI/Ba.curveStepCount/2,(W-P)/2);const Ga=Ic(Ma,d,h,m,A,P,W,1,Ba);Ba.disableMultiStroke||(Ma=Ic(Ma,d,h,m,A,P,W,1.5,Ba),Ga.push(...Ma));return wa&&(pa?Ga.push(...Ya(d,h,d+m*Math.cos(P),h+A*Math.sin(P),Ba),...Ya(d,h,d+m*Math.cos(W),h+A*Math.sin(W),Ba)):Ga.push({op:"lineTo",data:[d,h]},{op:"lineTo",data:[d+m*Math.cos(P),h+A*Math.sin(P)]})),{type:"path",
ops:Ga}}function ha(d,h){const m=[];if(d.length){const A=h.maxRandomnessOffset||0,P=d.length;if(2<P){m.push({op:"move",data:[d[0][0]+cb(A,h),d[0][1]+cb(A,h)]});for(let W=1;W<P;W++)m.push({op:"lineTo",data:[d[W][0]+cb(A,h),d[W][1]+cb(A,h)]})}}return{type:"fillPath",ops:m}}function sa(d,h){{var m=Zh;let A=h.fillStyle||"hachure";if(!Sf[A])switch(A){case "zigzag":Sf[A]||(Sf[A]=new yf(m));break;case "cross-hatch":Sf[A]||(Sf[A]=new Df(m));break;case "dots":Sf[A]||(Sf[A]=new ge(m));break;case "dashed":Sf[A]||
(Sf[A]=new zh(m));break;case "zigzag-line":Sf[A]||(Sf[A]=new wd(m));break;default:A="hachure",Sf[A]||(Sf[A]=new ng(m))}m=Sf[A]}return m.fillPolygon(d,h)}function Qa(d){return d.randomizer||(d.randomizer=new Ah(d.seed||0)),d.randomizer.next()}function db(d,h,m,A=1){return m.roughness*A*(Qa(m)*(h-d)+d)}function cb(d,h,m=1){return db(-d,d,h,m)}function Ya(d,h,m,A,P,W=!1){const wa=W?P.disableMultiStrokeFill:P.disableMultiStroke;W=Rb(d,h,m,A,P,!0,!1);if(wa)return W;d=Rb(d,h,m,A,P,!0,!0);return W.concat(d)}
function Rb(d,h,m,A,P,W,wa){var pa=Math.pow(d-m,2)+Math.pow(h-A,2),Ba=Math.sqrt(pa);let Ma;Ma=200>Ba?1:500<Ba?.4:-.0016668*Ba+1.233334;let Ga=P.maxRandomnessOffset||0;Ga*Ga*100>pa&&(Ga=Ba/10);pa=Ga/2;Ba=.2+.2*Qa(P);let hb=P.bowing*P.maxRandomnessOffset*(A-h)/200,jb=P.bowing*P.maxRandomnessOffset*(d-m)/200;hb=cb(hb,P,Ma);jb=cb(jb,P,Ma);const kb=[];return W&&(wa?kb.push({op:"move",data:[d+cb(pa,P,Ma),h+cb(pa,P,Ma)]}):kb.push({op:"move",data:[d+cb(Ga,P,Ma),h+cb(Ga,P,Ma)]})),wa?kb.push({op:"bcurveTo",
data:[hb+d+(m-d)*Ba+cb(pa,P,Ma),jb+h+(A-h)*Ba+cb(pa,P,Ma),hb+d+2*(m-d)*Ba+cb(pa,P,Ma),jb+h+2*(A-h)*Ba+cb(pa,P,Ma),m+cb(pa,P,Ma),A+cb(pa,P,Ma)]}):kb.push({op:"bcurveTo",data:[hb+d+(m-d)*Ba+cb(Ga,P,Ma),jb+h+(A-h)*Ba+cb(Ga,P,Ma),hb+d+2*(m-d)*Ba+cb(Ga,P,Ma),jb+h+2*(A-h)*Ba+cb(Ga,P,Ma),m+cb(Ga,P,Ma),A+cb(Ga,P,Ma)]}),kb}function Vb(d,h,m){const A=[];A.push([d[0][0]+cb(h,m),d[0][1]+cb(h,m)]);A.push([d[0][0]+cb(h,m),d[0][1]+cb(h,m)]);for(let P=1;P<d.length;P++)A.push([d[P][0]+cb(h,m),d[P][1]+cb(h,m)]),P===
d.length-1&&A.push([d[P][0]+cb(h,m),d[P][1]+cb(h,m)]);return Ub(A,null,m)}function Ub(d,h,m){const A=d.length,P=[];if(3<A){const W=[],wa=1-m.curveTightness;P.push({op:"move",data:[d[1][0],d[1][1]]});for(let pa=1;pa+2<A;pa++){const Ba=d[pa];W[0]=[Ba[0],Ba[1]];W[1]=[Ba[0]+(wa*d[pa+1][0]-wa*d[pa-1][0])/6,Ba[1]+(wa*d[pa+1][1]-wa*d[pa-1][1])/6];W[2]=[d[pa+1][0]+(wa*d[pa][0]-wa*d[pa+2][0])/6,d[pa+1][1]+(wa*d[pa][1]-wa*d[pa+2][1])/6];W[3]=[d[pa+1][0],d[pa+1][1]];P.push({op:"bcurveTo",data:[W[1][0],W[1][1],
W[2][0],W[2][1],W[3][0],W[3][1]]})}h&&2===h.length&&(d=m.maxRandomnessOffset,P.push({op:"lineTo",data:[h[0]+cb(d,m),h[1]+cb(d,m)]}))}else 3===A?(P.push({op:"move",data:[d[1][0],d[1][1]]}),P.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===A&&P.push(...Ya(d[0][0],d[0][1],d[1][0],d[1][1],m));return P}function sc(d,h,m,A,P,W,wa,pa){const Ba=[],Ma=[],Ga=cb(.5,pa)-Math.PI/2;Ma.push([cb(W,pa)+h+.9*A*Math.cos(Ga-d),cb(W,pa)+m+.9*P*Math.sin(Ga-d)]);for(let hb=Ga;hb<2*Math.PI+
Ga-.01;hb+=d){const jb=[cb(W,pa)+h+A*Math.cos(hb),cb(W,pa)+m+P*Math.sin(hb)];Ba.push(jb);Ma.push(jb)}return Ma.push([cb(W,pa)+h+A*Math.cos(Ga+2*Math.PI+.5*wa),cb(W,pa)+m+P*Math.sin(Ga+2*Math.PI+.5*wa)]),Ma.push([cb(W,pa)+h+.98*A*Math.cos(Ga+wa),cb(W,pa)+m+.98*P*Math.sin(Ga+wa)]),Ma.push([cb(W,pa)+h+.9*A*Math.cos(Ga+.5*wa),cb(W,pa)+m+.9*P*Math.sin(Ga+.5*wa)]),[Ma,Ba]}function Ic(d,h,m,A,P,W,wa,pa,Ba){var Ma=W+cb(.1,Ba);W=[];for(W.push([cb(pa,Ba)+h+.9*A*Math.cos(Ma-d),cb(pa,Ba)+m+.9*P*Math.sin(Ma-d)]);Ma<=
wa;Ma+=d)W.push([cb(pa,Ba)+h+A*Math.cos(Ma),cb(pa,Ba)+m+P*Math.sin(Ma)]);return W.push([h+A*Math.cos(wa),m+P*Math.sin(wa)]),W.push([h+A*Math.cos(wa),m+P*Math.sin(wa)]),Ub(W,null,Ba)}function bc(d,h,m,A,P,W,wa,pa){const Ba=[],Ma=[pa.maxRandomnessOffset||1,(pa.maxRandomnessOffset||1)+.3];let Ga;const hb=pa.disableMultiStroke?1:2;for(let jb=0;jb<hb;jb++)0===jb?Ba.push({op:"move",data:[wa[0],wa[1]]}):Ba.push({op:"move",data:[wa[0]+cb(Ma[0],pa),wa[1]+cb(Ma[0],pa)]}),Ga=[P+cb(Ma[jb],pa),W+cb(Ma[jb],pa)],
Ba.push({op:"bcurveTo",data:[d+cb(Ma[jb],pa),h+cb(Ma[jb],pa),m+cb(Ma[jb],pa),A+cb(Ma[jb],pa),Ga[0],Ga[1]]});return Ba}function uc(d){var h,m,A="";if("string"==typeof d||"number"==typeof d)A+=d;else if("object"==typeof d)if(Array.isArray(d))for(h=0;h<d.length;h++)d[h]&&(m=uc(d[h]))&&(A&&(A+=" "),A+=m);else for(h in d)d[h]&&(A&&(A+=" "),A+=h);return A}function Bc(){for(var d,h,m=0,A="";m<arguments.length;)(d=arguments[m++])&&(h=uc(d))&&(A&&(A+=" "),A+=h);return A}function ld(d,h){var m=Object.keys(d);
if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Db(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?ld(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):ld(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,
A))})}return d}function gc(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function gb(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?gc(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):gc(Object(m)).forEach(function(A){Object.defineProperty(d,
A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Ha(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Ja(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Ha(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):
Ha(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Ia(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Ca(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Ia(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Ia(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Sa(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function ab(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Sa(Object(m),
!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Sa(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Eb(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Hb(d,h){var m=Object.keys(d);
if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Xb(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Hb(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Hb(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,
A))})}return d}function qc(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Cc(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?qc(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):qc(Object(m)).forEach(function(A){Object.defineProperty(d,
A,Object.getOwnPropertyDescriptor(m,A))})}return d}function rc(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Uc(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?rc(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):
rc(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Md(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function ad(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Md(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Md(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function be(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function ue(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?be(Object(m),
!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):be(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function gd(d){var h=d.options,m=d.value,A=d.label,P=d.onChange,W=d.onClose,wa=R().useRef(),pa=R().useRef(),Ba=R().useRef(null);R().useEffect(function(){pa.current?pa.current.focus():Ba.current&&Ba.current.focus()},[]);return R().createElement("div",{className:"picker",
role:"dialog","aria-modal":"true","aria-label":A,onKeyDown:function(Ma){var Ga=h.find(function(Kb){return Kb.keyBinding===Ma.key.toLowerCase()});if(Ma.metaKey||Ma.altKey||Ma.ctrlKey||!Ga)if("Tab"===Ma.key)setTimeout(function(){pa.current!==document.activeElement&&W()},0);else if(ci(Ma.key)){Ga=Xe.rtl;if(-1!==(kb=Array.prototype.indexOf.call(Ba.current.children,document.activeElement))){var hb=h.length,jb=kb;switch(Ma.key){case Ga?"ArrowLeft":"ArrowRight":case "ArrowDown":jb=(kb+1)%hb;break;case Ga?
"ArrowRight":"ArrowLeft":case "ArrowUp":jb=(hb+kb-1)%hb}Ba.current.children[jb].focus()}Ma.preventDefault()}else"Escape"!==Ma.key&&"Enter"!==Ma.key||(Ma.preventDefault(),W());else{var kb=h.indexOf(Ga);Ba.current.children[kb].focus();Ma.preventDefault()}Ma.nativeEvent.stopImmediatePropagation()}},R().createElement("div",{className:"picker-content",ref:Ba},h.map(function(Ma,Ga){return R().createElement("button",{className:"picker-option",onClick:function(hb){hb.currentTarget.focus();P(Ma.value)},title:"".concat(Ma.text,
" — ").concat(Ma.keyBinding.toUpperCase()),"aria-label":Ma.text||"none","aria-keyshortcuts":Ma.keyBinding,key:Ma.text,ref:function(hb){hb&&0===Ga&&(wa.current=hb);hb&&Ma.value===m&&(pa.current=hb)},onFocus:function(){P(Ma.value)}},Ma.icon,R().createElement("span",{className:"picker-keybinding"},Ma.keyBinding))})))}function dd(d){var h,m=d.value,A=d.label,P=d.options,W=d.onChange;d=d.group;d=void 0===d?"":d;var wa=R().useState(!1),pa=wa[0],Ba=wa[1],Ma=R().useRef(null);wa=Xe.rtl;return R().createElement("label",
{className:"picker-container"},R().createElement("button",{name:d,className:pa?"active":"","aria-label":A,onClick:function(){return Ba(!pa)},ref:Ma},null===(h=P.find(function(Ga){return Ga.value===m}))||void 0===h?void 0:h.icon),R().createElement(R().Suspense,{fallback:""},pa?R().createElement(R().Fragment,null,R().createElement(eb,Ad()({onCloseRequest:function(Ga){return Ga.target!==Ma.current&&Ba(!1)}},wa?{right:5.5}:{left:-5.5}),R().createElement(gd,{options:P,value:m,label:A,onChange:W,onClose:function(){var Ga;
Ba(!1);null===(Ga=Ma.current)||void 0===Ga||Ga.focus()}})),R().createElement("div",{className:"picker-triangle"})):null))}function Ke(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function ce(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Ke(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Ke(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Ce(){return(0,Z.useContext)(Me)}function We(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function ye(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?
arguments[h]:{};h%2?We(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):We(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function sf(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Cf(d){for(var h=
1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?sf(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):sf(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}async function jh(...d){return(await mm).default(...d)}async function Hf(...d){return(await Ze).default(...d)}function Ge(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=
Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function De(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Ge(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Ge(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function nf(d,
h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Ve(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?nf(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):nf(Object(m)).forEach(function(A){Object.defineProperty(d,
A,Object.getOwnPropertyDescriptor(m,A))})}return d}function ob(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function rb(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?ob(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):
ob(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function ib(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Ua(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?ib(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):ib(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function bb(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function mb(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?bb(Object(m),
!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):bb(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Fb(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Zb(d){for(var h=1;h<arguments.length;h++){var m=
null!=arguments[h]?arguments[h]:{};h%2?Fb(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Fb(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function fc(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,
A)}return m}function kc(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?fc(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):fc(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function bd(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));m.push.apply(m,A)}return m}function Pb(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?bd(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):bd(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Ob(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);
h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Jd(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Ob(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Ob(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function zd(d,h){var m=Object.keys(d);
if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function nd(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?zd(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):zd(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,
A))})}return d}function ah(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function xc(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?ah(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):ah(Object(m)).forEach(function(A){Object.defineProperty(d,
A,Object.getOwnPropertyDescriptor(m,A))})}return d}function bh(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Na(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?bh(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):
bh(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function sb(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function tc(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?sb(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):sb(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Jc(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function $c(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Jc(Object(m),
!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Jc(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Fd(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function qe(d){for(var h=1;h<arguments.length;h++){var m=
null!=arguments[h]?arguments[h]:{};h%2?Fd(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Fd(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function hc(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,
A)}return m}function Xc(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?hc(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):hc(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Sb(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));m.push.apply(m,A)}return m}function lb(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Sb(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Sb(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function fe(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);
h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Le(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Cd(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));m.push.apply(m,A)}return m}function dc(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Cd(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Cd(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}function Oa(d,h){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);
h&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));m.push.apply(m,A)}return m}function Va(d){for(var h=1;h<arguments.length;h++){var m=null!=arguments[h]?arguments[h]:{};h%2?Oa(Object(m),!0).forEach(function(A){ve()(d,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):Oa(Object(m)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(m,A))})}return d}g.r(n);g.d(n,{default:()=>Nt,defaultLang:()=>
Kd,getElementMap:()=>Gh,getSceneVersion:()=>yl,getSyncableElements:()=>Fh,languages:()=>Tc,restore:()=>cn,restoreAppState:()=>wn,restoreElements:()=>vj});var Ra=g(7154),xa=g.n(Ra),ra=g(6479),M=g.n(ra),Z=g(4698),R=g.n(Z),Pa=g(8288);const fb=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==Pa.Vi.TEST&&(g.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(fb.u2,"@").concat(fb.i8,"/dist/"));var zb=g(5374),tb=g.n(zb),oc=g(2829),od=g(2051),rd=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");
for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&
pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Kd={code:"en",label:"English"},
Tc=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",
label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},
{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Kd]).sort(function(d,h){return d.label>h.label?1:-1}).filter(function(d){return 85<=od[d.code]});"production"===Pa.Vi.DEVELOPMENT&&Tc.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var td,Xe=Kd,fg={},Ne=function(){var d=tb()(function(h){return rd(this,function(m){switch(m.label){case 0:return Xe=h,document.documentElement.dir=
Xe.rtl?"rtl":"ltr",document.documentElement.lang=Xe.code,h.code.startsWith("__test__")?(fg={},[3,3]):[3,1];case 1:return[4,g(788)("./".concat(Xe.code,".json"))];case 2:fg=m.sent(),m.label=3;case 3:return[2]}})});return function(h){return d.apply(this,arguments)}}(),Nd=function(d,h){for(var m=0;m<h.length;++m){var A=h[m];if(void 0===d[A])return;d=d[A]}if("string"==typeof d)return d},Jb=function(d,h){if(Xe.code.startsWith("__test__"))return d=h?"".concat(d,"(").concat(JSON.stringify(h).slice(1,-1),
")"):d,"‪[[".concat(d,"]]‬");var m=d.split(".");m=Nd(fg,m)||Nd(oc,m);if(void 0===m)throw Error("Can't find translation for ".concat(d));if(h)for(var A in h)m=m.replace("{{".concat(A,"}}"),h[A]);return m},Rf=function(){return R().createElement("div",{className:"LoadingMessage"},R().createElement("span",null,Jb("labels.loadingScene")))},sh=(td=function(d,h){return(td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,A){m.__proto__=A}||function(m,A){for(var P in A)Object.prototype.hasOwnProperty.call(A,
P)&&(m[P]=A[P])})(d,h)},function(d,h){function m(){this.constructor=d}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");td(d,h);d.prototype=null===h?Object.create(h):(m.prototype=h.prototype,new m)}),ne=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=
W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&
pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},th=function(d){function h(){for(var m=[],A=0;A<arguments.length;A++)m[A]=arguments[A];var P;A=this;return P=A=d.apply(this,
m)||this,A.state={isLoading:!0},P}return sh(h,d),h.prototype.componentDidMount=function(){var m=this;return tb()(function(){var A;return ne(this,function(P){switch(P.label){case 0:return A=Tc.find(function(W){return W.code===m.props.langCode})||Kd,[4,Ne(A)];case 1:return P.sent(),m.setState({isLoading:!1}),[2]}})})()},h.prototype.render=function(){return this.state.isLoading?R().createElement(Rf,null):this.props.children},h}(R().Component),Qh=g(566),ve=g.n(Qh);class ng{constructor(d){this.helper=
d}fillPolygon(d,h){return this._fillPolygon(d,h)}_fillPolygon(d,h,m=!1){let A=la(d,h);m&&(d=this.connectingLines(d,A),A=A.concat(d));return{type:"fillSketch",ops:this.renderLines(A,h)}}renderLines(d,h){const m=[];for(const A of d)m.push(...this.helper.doubleLineOps(A[0][0],A[0][1],A[1][0],A[1][1],h));return m}connectingLines(d,h){const m=[];if(1<h.length)for(let P=1;P<h.length;P++){var A=h[P-1];3>E(A)||(A=[h[P][0],A[1]],3<E(A)&&(A=this.splitOnIntersections(d,A),m.push(...A)))}return m}midPointInPolygon(d,
h){return ea(d,(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2)}splitOnIntersections(d,h){var m=Math.max(5,.1*E(h)),A=[];for(var P=0;P<d.length;P++){var W=d[P],wa=d[(P+1)%d.length];if(ta(W,wa,...h)&&(W=F(W,wa,h[0],h[1]))){wa=E([W,h[0]]);const pa=E([W,h[1]]);wa>m&&pa>m&&A.push({point:W,distance:wa})}}if(1<A.length){m=A.sort((pa,Ba)=>pa.distance-Ba.distance).map(pa=>pa.point);if(ea(d,...h[0])||m.shift(),ea(d,...h[1])||m.pop(),1>=m.length)return this.midPointInPolygon(d,h)?[h]:[];h=[h[0],...m,h[1]];m=[];for(A=
0;A<h.length-1;A+=2)P=[h[A],h[A+1]],this.midPointInPolygon(d,P)&&m.push(P);return m}return this.midPointInPolygon(d,h)?[h]:[]}}class yf extends ng{fillPolygon(d,h){return this._fillPolygon(d,h,!0)}}class Df extends ng{fillPolygon(d,h){const m=this._fillPolygon(d,h);h=Object.assign({},h,{hachureAngle:h.hachureAngle+90});d=this._fillPolygon(d,h);return m.ops=m.ops.concat(d.ops),m}}class ge{constructor(d){this.helper=d}fillPolygon(d,h){d=la(d,h=Object.assign({},h,{curveStepCount:4,hachureAngle:0,roughness:1}));
return this.dotsOnLines(d,h)}dotsOnLines(d,h){const m=[];let A=h.hachureGap;0>A&&(A=4*h.strokeWidth);A=Math.max(A,.1);let P=h.fillWeight;0>P&&(P=h.strokeWidth/2);const W=A/4;for(const Ma of d){var wa=E(Ma);d=Math.ceil(wa/A)-1;wa-=d*A;const Ga=(Ma[0][0]+Ma[1][0])/2-A/4,hb=Math.min(Ma[0][1],Ma[1][1]);for(let jb=0;jb<d;jb++){var pa=hb+wa+jb*A,Ba=this.helper.randOffsetWithRange(Ga-W,Ga+W,h);pa=this.helper.randOffsetWithRange(pa-W,pa+W,h);Ba=this.helper.ellipse(Ba,pa,P,P,h);m.push(...Ba.ops)}}return{type:"fillSketch",
ops:m}}}class zh{constructor(d){this.helper=d}fillPolygon(d,h){d=la(d,h);return{type:"fillSketch",ops:this.dashedLine(d,h)}}dashedLine(d,h){const m=0>h.dashOffset?0>h.hachureGap?4*h.strokeWidth:h.hachureGap:h.dashOffset,A=0>h.dashGap?0>h.hachureGap?4*h.strokeWidth:h.hachureGap:h.dashGap,P=[];return d.forEach(W=>{var wa=E(W);const pa=Math.floor(wa/(m+A));wa=(wa+A-pa*(m+A))/2;let Ba=W[0];var Ma=W[1];Ba[0]>Ma[0]&&(Ba=W[1],Ma=W[0]);W=Math.atan((Ma[1]-Ba[1])/(Ma[0]-Ba[0]));for(Ma=0;Ma<pa;Ma++){var Ga=
Ma*(m+A),hb=Ga+m;Ga=[Ba[0]+Ga*Math.cos(W)+wa*Math.cos(W),Ba[1]+Ga*Math.sin(W)+wa*Math.sin(W)];hb=[Ba[0]+hb*Math.cos(W)+wa*Math.cos(W),Ba[1]+hb*Math.sin(W)+wa*Math.sin(W)];P.push(...this.helper.doubleLineOps(Ga[0],Ga[1],hb[0],hb[1],h))}}),P}}class wd{constructor(d){this.helper=d}fillPolygon(d,h){const m=0>h.hachureGap?4*h.strokeWidth:h.hachureGap,A=0>h.zigzagOffset?m:h.zigzagOffset;d=la(d,h=Object.assign({},h,{hachureGap:m+A}));return{type:"fillSketch",ops:this.zigzagLines(d,A,h)}}zigzagLines(d,h,
m){const A=[];return d.forEach(P=>{var W=E(P);W=Math.round(W/(2*h));let wa=P[0];var pa=P[1];wa[0]>pa[0]&&(wa=P[1],pa=P[0]);P=Math.atan((pa[1]-wa[1])/(pa[0]-wa[0]));for(pa=0;pa<W;pa++){var Ba=2*pa*h,Ma=2*(pa+1)*h,Ga=Math.sqrt(2*Math.pow(h,2));Ba=[wa[0]+Ba*Math.cos(P),wa[1]+Ba*Math.sin(P)];Ma=[wa[0]+Ma*Math.cos(P),wa[1]+Ma*Math.sin(P)];Ga=[Ba[0]+Ga*Math.cos(P+Math.PI/4),Ba[1]+Ga*Math.sin(P+Math.PI/4)];A.push(...this.helper.doubleLineOps(Ba[0],Ba[1],Ga[0],Ga[1],m),...this.helper.doubleLineOps(Ga[0],
Ga[1],Ma[0],Ma[1],m))}}),A}}const Sf={};class Ah{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Oi={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Zh={randOffset:function(d,h){return cb(d,h)},randOffsetWithRange:function(d,h,m){return db(d,h,m)},ellipse:function(d,h,m,A,P){m=ia(m,A,P);return ua(d,h,P,m).opset},doubleLineOps:function(d,h,m,A,P){return Ya(d,h,m,A,P,!0)}};class ke{constructor(d){this.defaultOptions=
{maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,
d):this.defaultOptions}_d(d,h,m){return{shape:d,sets:h||[],options:m||this.defaultOptions}}line(d,h,m,A,P){P=this._o(P);return this._d("line",[{type:"path",ops:Ya(d,h,m,A,P)}],P)}rectangle(d,h,m,A,P){P=this._o(P);const W=[];var wa=Q([[d,h],[d+m,h],[d+m,h+A],[d,h+A]],!0,P);P.fill&&(d=[[d,h],[d+m,h],[d+m,h+A],[d,h+A]],"solid"===P.fillStyle?W.push(ha(d,P)):W.push(sa(d,P)));return"none"!==P.stroke&&W.push(wa),this._d("rectangle",W,P)}ellipse(d,h,m,A,P){P=this._o(P);const W=[];A=ia(m,A,P);m=ua(d,h,P,A);
P.fill&&("solid"===P.fillStyle?(d=ua(d,h,P,A).opset,d.type="fillPath",W.push(d)):W.push(sa(m.estimatedPoints,P)));return"none"!==P.stroke&&W.push(m.opset),this._d("ellipse",W,P)}circle(d,h,m,A){d=this.ellipse(d,h,m,m,A);return d.shape="circle",d}linearPath(d,h){h=this._o(h);return this._d("linearPath",[Q(d,!1,h)],h)}arc(d,h,m,A,P,W,wa=!1,pa){pa=this._o(pa);const Ba=[],Ma=ja(d,h,m,A,P,W,wa,!0,pa);if(wa&&pa.fill)if("solid"===pa.fillStyle)d=ja(d,h,m,A,P,W,!0,!1,pa),d.type="fillPath",Ba.push(d);else{wa=
Ba.push;{m=Math.abs(m/2);A=Math.abs(A/2);m+=cb(.01*m,pa);for(A+=cb(.01*A,pa);0>P;)P+=2*Math.PI,W+=2*Math.PI;W-P>2*Math.PI&&(P=0,W=2*Math.PI);const Ga=(W-P)/pa.curveStepCount,hb=[];for(;P<=W;P+=Ga)hb.push([d+m*Math.cos(P),h+A*Math.sin(P)]);d=(hb.push([d+m*Math.cos(W),h+A*Math.sin(W)]),hb.push([d,h]),sa(hb,pa))}wa.call(Ba,d)}return"none"!==pa.stroke&&Ba.push(Ma),this._d("arc",Ba,pa)}curve(d,h){h=this._o(h);const m=[],A=da(d,h);h.fill&&"none"!==h.fill&&3<=d.length&&(d=H(function(P,W=0){var wa=P.length;
if(3>wa)throw Error("A curve must have at least three points.");const pa=[];if(3===wa)pa.push([...P[0]],[...P[1]],[...P[2]],[...P[2]]);else{wa=[];wa.push(P[0],P[0]);for(var Ba=1;Ba<P.length;Ba++)wa.push(P[Ba]),Ba===P.length-1&&wa.push(P[Ba]);P=[];W=1-W;pa.push([...wa[0]]);for(Ba=1;Ba+2<wa.length;Ba++){const Ma=wa[Ba];P[0]=[Ma[0],Ma[1]];P[1]=[Ma[0]+(W*wa[Ba+1][0]-W*wa[Ba-1][0])/6,Ma[1]+(W*wa[Ba+1][1]-W*wa[Ba-1][1])/6];P[2]=[wa[Ba+1][0]+(W*wa[Ba][0]-W*wa[Ba+2][0])/6,wa[Ba+1][1]+(W*wa[Ba][1]-W*wa[Ba+
2][1])/6];P[3]=[wa[Ba+1][0],wa[Ba+1][1]];pa.push(P[1],P[2],P[3])}}return pa}(d),10,(1+h.roughness)/2),"solid"===h.fillStyle?m.push(ha(d,h)):m.push(sa(d,h)));return"none"!==h.stroke&&m.push(A),this._d("curve",m,h)}polygon(d,h){h=this._o(h);const m=[],A=Q(d,!0,h);return h.fill&&("solid"===h.fillStyle?m.push(ha(d,h)):m.push(sa(d,h))),"none"!==h.stroke&&m.push(A),this._d("polygon",m,h)}path(d,h){const m=this._o(h),A=[];if(!d)return this._d("path",A,m);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g",
" ");h=m.fill&&"transparent"!==m.fill&&"none"!==m.fill;const P="none"!==m.stroke,W=!!(m.simplification&&1>m.simplification),wa=function(pa,Ba,Ma){var Ga=na(oa(fa(pa)));pa=[];let hb=[];var jb=[0,0];let kb=[];const Kb=()=>{4<=kb.length&&hb.push(...H(kb,Ba));kb=[]};for(const {key:Ib,data:nc}of Ga)switch(Ib){case "M":Kb();hb.length&&(pa.push(hb),hb=[]);jb=[nc[0],nc[1]];hb.push(jb);break;case "L":Kb();hb.push([nc[0],nc[1]]);break;case "C":kb.length||(Ga=hb.length?hb[hb.length-1]:jb,kb.push([Ga[0],Ga[1]]));
kb.push([nc[0],nc[1]]);kb.push([nc[2],nc[3]]);kb.push([nc[4],nc[5]]);break;case "Z":Kb(),hb.push([jb[0],jb[1]])}Kb();hb.length&&(pa.push(hb),hb=[]);if(!Ma)return pa;jb=[];for(const Ib of pa)pa=O(Ib,Ma),pa.length&&jb.push(pa);return jb}(d,1,W?4-4*m.simplification:(1+m.roughness)/2);if(h)if(m.combineNestedSvgPaths){const pa=[];wa.forEach(Ba=>pa.push(...Ba));"solid"===m.fillStyle?A.push(ha(pa,m)):A.push(sa(pa,m))}else wa.forEach(pa=>{"solid"===m.fillStyle?A.push(ha(pa,m)):A.push(sa(pa,m))});return P&&
(W?wa.forEach(pa=>{A.push(Q(pa,!1,m))}):A.push(function(pa,Ba){pa=na(oa(fa(pa)));const Ma=[];let Ga=[0,0],hb=[0,0];for(const {key:jb,data:kb}of pa)switch(jb){case "M":{const Kb=1*(Ba.maxRandomnessOffset||0);Ma.push({op:"move",data:kb.map(Ib=>Ib+cb(Kb,Ba))});hb=[kb[0],kb[1]];Ga=[kb[0],kb[1]];break}case "L":Ma.push(...Ya(hb[0],hb[1],kb[0],kb[1],Ba));hb=[kb[0],kb[1]];break;case "C":{const [Kb,Ib,nc,Sc,Yc,jd]=kb;Ma.push(...bc(Kb,Ib,nc,Sc,Yc,jd,hb,Ba));hb=[Yc,jd];break}case "Z":Ma.push(...Ya(hb[0],hb[1],
Ga[0],Ga[1],Ba)),hb=[Ga[0],Ga[1]]}return{type:"path",ops:Ma}}(d,m))),this._d("path",A,m)}opsToPath(d){let h="";for(const m of d.ops)switch(d=m.data,m.op){case "move":h+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":h+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":h+=`L${d[0]} ${d[1]} `}return h.trim()}toPaths(d){var h=d.sets||[];d=d.options||this.defaultOptions;const m=[];for(const A of h){h=null;switch(A.type){case "path":h={d:this.opsToPath(A),stroke:d.stroke,strokeWidth:d.strokeWidth,
fill:"none"};break;case "fillPath":h={d:this.opsToPath(A),stroke:"none",strokeWidth:0,fill:d.fill||"none"};break;case "fillSketch":h=this.fillSketch(A,d)}h&&m.push(h)}return m}fillSketch(d,h){let m=h.fillWeight;return 0>m&&(m=h.strokeWidth/2),{d:this.opsToPath(d),stroke:h.fill||"none",strokeWidth:m,fill:"none"}}}class Ml{constructor(d,h){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new ke(h)}draw(d){const h=d.sets||[],m=d.options||this.getDefaultOptions(),A=this.ctx;for(const P of h)switch(P.type){case "path":A.save();
A.strokeStyle="none"===m.stroke?"transparent":m.stroke;A.lineWidth=m.strokeWidth;m.strokeLineDash&&A.setLineDash(m.strokeLineDash);m.strokeLineDashOffset&&(A.lineDashOffset=m.strokeLineDashOffset);this._drawToContext(A,P);A.restore();break;case "fillPath":A.save();A.fillStyle=m.fill||"";this._drawToContext(A,P,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");A.restore();break;case "fillSketch":this.fillSketch(A,P,m)}}fillSketch(d,h,m){let A=m.fillWeight;0>A&&(A=m.strokeWidth/2);d.save();
m.fillLineDash&&d.setLineDash(m.fillLineDash);m.fillLineDashOffset&&(d.lineDashOffset=m.fillLineDashOffset);d.strokeStyle=m.fill||"";d.lineWidth=A;this._drawToContext(d,h);d.restore()}_drawToContext(d,h,m="nonzero"){d.beginPath();for(const A of h.ops){const P=A.data;switch(A.op){case "move":d.moveTo(P[0],P[1]);break;case "bcurveTo":d.bezierCurveTo(P[0],P[1],P[2],P[3],P[4],P[5]);break;case "lineTo":d.lineTo(P[0],P[1])}}"fillPath"===h.type?d.fill(m):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,
h,m,A,P){d=this.gen.line(d,h,m,A,P);return this.draw(d),d}rectangle(d,h,m,A,P){d=this.gen.rectangle(d,h,m,A,P);return this.draw(d),d}ellipse(d,h,m,A,P){d=this.gen.ellipse(d,h,m,A,P);return this.draw(d),d}circle(d,h,m,A){d=this.gen.circle(d,h,m,A);return this.draw(d),d}linearPath(d,h){d=this.gen.linearPath(d,h);return this.draw(d),d}polygon(d,h){d=this.gen.polygon(d,h);return this.draw(d),d}arc(d,h,m,A,P,W,wa=!1,pa){d=this.gen.arc(d,h,m,A,P,W,wa,pa);return this.draw(d),d}curve(d,h){d=this.gen.curve(d,
h);return this.draw(d),d}path(d,h){d=this.gen.path(d,h);return this.draw(d),d}}class ok{constructor(d,h){this.svg=d;this.gen=new ke(h)}draw(d){var h=d.sets||[];const m=d.options||this.getDefaultOptions(),A=this.svg.ownerDocument||window.document,P=A.createElementNS("http://www.w3.org/2000/svg","g");for(const W of h){h=null;switch(W.type){case "path":h=A.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",this.opsToPath(W));h.setAttribute("stroke",m.stroke);h.setAttribute("stroke-width",
m.strokeWidth+"");h.setAttribute("fill","none");m.strokeLineDash&&h.setAttribute("stroke-dasharray",m.strokeLineDash.join(" ").trim());m.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${m.strokeLineDashOffset}`);break;case "fillPath":h=A.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",this.opsToPath(W));h.setAttribute("stroke","none");h.setAttribute("stroke-width","0");h.setAttribute("fill",m.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||h.setAttribute("fill-rule",
"evenodd");break;case "fillSketch":h=this.fillSketch(A,W,m)}h&&P.appendChild(h)}return P}fillSketch(d,h,m){let A=m.fillWeight;0>A&&(A=m.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(h)),d.setAttribute("stroke",m.fill||""),d.setAttribute("stroke-width",A+""),d.setAttribute("fill","none"),m.fillLineDash&&d.setAttribute("stroke-dasharray",m.fillLineDash.join(" ").trim()),m.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${m.fillLineDashOffset}`),
d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,h,m,A,P){d=this.gen.line(d,h,m,A,P);return this.draw(d)}rectangle(d,h,m,A,P){d=this.gen.rectangle(d,h,m,A,P);return this.draw(d)}ellipse(d,h,m,A,P){d=this.gen.ellipse(d,h,m,A,P);return this.draw(d)}circle(d,h,m,A){d=this.gen.circle(d,h,m,A);return this.draw(d)}linearPath(d,h){d=this.gen.linearPath(d,h);return this.draw(d)}polygon(d,h){d=this.gen.polygon(d,h);return this.draw(d)}arc(d,
h,m,A,P,W,wa=!1,pa){d=this.gen.arc(d,h,m,A,P,W,wa,pa);return this.draw(d)}curve(d,h){d=this.gen.curve(d,h);return this.draw(d)}path(d,h){d=this.gen.path(d,h);return this.draw(d)}}const Xf={canvas:(d,h)=>new Ml(d,h),svg:(d,h)=>new ok(d,h),generator:d=>new ke(d),newSeed:()=>ke.newSeed()};var og=function(d){return null!=d&&"text"===d.type},pg=function(d){return null!=d&&$h(d.type)},$h=function(d){return"arrow"===d||"line"===d||"draw"===d},zf=function(d){return null!=d&&"arrow"===d.type},Pi=function(d){return null!=
d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},Ue=function(d,h,m,A,P){return[(d-m)*Math.cos(P)-(h-A)*Math.sin(P)+m,(d-m)*Math.sin(P)+(h-A)*Math.cos(P)+A]},pk=function(d,h,m){return Ue(d[0],d[1],h[0],h[1],m)},wj=function(d,h,m,A,P,W,wa,pa){var Ba=Math.cos(A);A=Math.sin(A);return d.e&&d.w?h+=P+wa:d.e?(h+=P*(1+Ba),m+=P*A,h+=wa*(1-Ba),m+=wa*-A):d.w&&(h+=P*(1-Ba),m+=P*-A,h+=wa*(1+Ba),m+=wa*A),d.n&&d.s?m+=W+pa:d.n?(h+=W*A,m+=W*(1-Ba),h+=pa*-A,m+=pa*(1+Ba)):d.s&&(h+=
W*-A,m+=W*(1+Ba),h+=pa*A,m+=pa*(1-Ba)),[h,m]},bj=function(d,h){if(void 0===h&&(h=1),3<=d.length){var m=[d[0],d[d.length-1]];d=m[0];m=m[1];return Math.hypot(m[0]-d[0],m[1]-d[1])<=Pa.qx/h}return!1},cj=function(d,h,m){var A=d.length;if(3>A)return!1;var P=[Number.MAX_SAFE_INTEGER,m];h=[h,m];for(var W=m=0;W<A;W++){var wa=d[W],pa=d[(W+1)%A],Ba=wa,Ma=pa,Ga=h,hb=P,jb=zi(Ba,Ma,Ga),kb=zi(Ba,Ma,hb),Kb=zi(Ga,hb,Ba),Ib=zi(Ga,hb,Ma);if(jb!==kb&&Kb!==Ib||0===jb&&xj(Ba,Ga,Ma)||0===kb&&xj(Ba,hb,Ma)||0===Kb&&xj(Ga,
Ba,hb)||0===Ib&&xj(Ga,Ma,hb)){if(0===zi(wa,h,pa))return xj(wa,h,pa);m++}}return 1==m%2},xj=function(d,h,m){return h[0]<=Math.max(d[0],m[0])&&h[0]>=Math.min(d[0],m[0])&&h[1]<=Math.max(d[1],m[1])&&h[1]>=Math.min(d[1],m[1])},zi=function(d,h,m){d=(h[1]-d[1])*(m[0]-h[0])-(h[0]-d[0])*(m[1]-h[1]);return 0===d?0:0<d?1:2},ch=function(d,h,m){return m?[Math.round(d/m)*m,Math.round(h/m)*m]:[d,h]},oi=function(d,h,m){var A=m.map(function(Ba){return Ba[d]}),P=Math.max.apply(Math,A);A=Math.min.apply(Math,A);P-=A;
var W=0===P?1:h/P,wa=1/0;h=m.map(function(Ba){return Ba.map(function(Ma,Ga){if(Ga!==d)return Ma;Ma*=W;return wa=Math.min(Ma,wa),Ma})});if(2===h.length)return h;var pa=A-wa;return h.map(function(Ba){return Ba.map(function(Ma,Ga){return Ga===d?Ma+pa:Ma})})},Jf=function(d){return pg(d)?ul(d):[d.x,d.y,d.x+d.width,d.y+d.height]},bi=function(d){for(var h=0,m=d.sets;h<m.length;h++){var A=m[h];if("path"===A.type)return A.ops}return d.sets[0].ops},dl=function(d,h){var m=[0,0];d=d.reduce(function(A,P){var W,
wa=P.op;P=P.data;if("move"===wa)m=P;else if("bcurveTo"===wa){var pa=[P[0],P[1]],Ba=[P[2],P[3]],Ma=[P[4],P[5]],Ga=m;m=Ma;wa=function(kb,Kb){return Math.pow(1-kb,3)*Ma[Kb]+3*kb*Math.pow(1-kb,2)*Ba[Kb]+3*Math.pow(kb,2)*(1-kb)*pa[Kb]+Ga[Kb]*Math.pow(kb,3)};for(P=0;1>=P;){var hb=wa(P,0),jb=wa(P,1);h&&(hb=(W=h(hb,jb))[0],jb=W[1]);A.minY=Math.min(A.minY,jb);A.minX=Math.min(A.minX,hb);A.maxX=Math.max(A.maxX,hb);A.maxY=Math.max(A.maxY,jb);P+=.1}}return A},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[d.minX,
d.minY,d.maxX,d.maxY]},ul=function(d){if(2>d.points.length||!qi.get(d)){var h=d.points.reduce(function(m,A){var P=A[0];A=A[1];return m.minY=Math.min(m.minY,A),m.minX=Math.min(m.minX,P),m.maxX=Math.max(m.maxX,P),m.maxY=Math.max(m.maxY,A),m},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[h.minX+d.x,h.minY+d.y,h.maxX+d.x,h.maxY+d.y]}h=qi.get(d);h=bi(h[0]);h=dl(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]},yj=function(d){var h=Jf(d),m=h[0],A=h[1],P=h[2],W=h[3];h=(m+P)/2;var wa=(A+W)/2;if(pg(d))return function(hb,
jb,kb){if(2>hb.points.length||!qi.get(hb)){var Kb=hb.points.reduce(function(Ib,nc){var Sc,Yc=nc[0];nc=nc[1];return Yc=(Sc=Ue(hb.x+Yc,hb.y+nc,jb,kb,hb.angle))[0],nc=Sc[1],Ib.minY=Math.min(Ib.minY,nc),Ib.minX=Math.min(Ib.minX,Yc),Ib.maxX=Math.max(Ib.maxX,Yc),Ib.maxY=Math.max(Ib.maxY,nc),Ib},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Kb.minX,Kb.minY,Kb.maxX,Kb.maxY]}Kb=qi.get(hb);Kb=bi(Kb[0]);return dl(Kb,function(Ib,nc){return Ue(hb.x+Ib,hb.y+nc,jb,kb,hb.angle)})}(d,h,wa);if("diamond"===d.type){A=
Ue(h,A,h,wa,d.angle);var pa=A[0];A=A[1];W=Ue(h,W,h,wa,d.angle);var Ba=W[0];W=W[1];var Ma=Ue(m,wa,h,wa,d.angle);m=Ma[0];Ma=Ma[1];wa=Ue(P,wa,h,wa,d.angle);h=wa[0];wa=wa[1];return[Math.min(pa,Ba,m,h),Math.min(A,W,Ma,wa),Math.max(pa,Ba,m,h),Math.max(A,W,Ma,wa)]}if("ellipse"===d.type)return P=(P-m)/2,pa=(W-A)/2,A=Math.cos(d.angle),Ba=Math.sin(d.angle),d=Math.hypot(P*A,pa*Ba),P=Math.hypot(pa*A,P*Ba),[h-d,wa-P,h+d,wa+P];Ba=Ue(m,A,h,wa,d.angle);pa=Ba[0];Ba=Ba[1];Ma=Ue(m,W,h,wa,d.angle);m=Ma[0];Ma=Ma[1];var Ga=
Ue(P,W,h,wa,d.angle);W=Ga[0];Ga=Ga[1];wa=Ue(P,A,h,wa,d.angle);h=wa[0];wa=wa[1];return[Math.min(pa,m,W,h),Math.min(Ba,Ma,Ga,wa),Math.max(pa,m,W,h),Math.max(Ba,Ma,Ga,wa)]},Yf=function(d){if(!d.length)return[0,0,0,0];var h=1/0,m=-1/0,A=1/0,P=-1/0;return d.forEach(function(W){W=yj(W);var wa=W[1],pa=W[2],Ba=W[3];h=Math.min(h,W[0]);A=Math.min(A,wa);m=Math.max(m,pa);P=Math.max(P,Ba)}),[h,A,m,P]},fh=function(d,h,m){if(!pg(d))return[d.x,d.y,d.x+h,d.y+m];h=oi(0,h,oi(1,m,d.points));m=Xf.generator();h="sharp"===
d.strokeSharpness?m.linearPath(h,di(d)):m.curve(h,di(d));h=bi(h);h=dl(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]},Sd=function(d,h,m){var A=Xf.generator();h="sharp"===m?A.linearPath(h,di(d)):A.curve(h,di(d));h=bi(h);h=dl(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]};const Vd=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var kh=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},Hg=function(d){return[Vd.Q6[d],Vd.iQ[d],Vd.pl[d],Vd.ht[d],Vd.QN[d],Vd.iN[d],Vd.sl[d],Vd.$C[d],Vd.ek[d],Vd.LR[d],Vd.er[d],Vd.$y[d]]};const qg={canvasBackground:kh([Vd.ix,Vd.MA[0],Vd.MA[1]],Hg(0)),elementBackground:kh(["transparent",Vd.MA[4],Vd.MA[6]],Hg(6)),elementStroke:kh([Vd.Sn,Vd.MA[8],Vd.MA[7]],Hg(9))};var Ug=g(6207),yg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),zj=/^Win/.test(window.navigator.platform),
we=yg?"metaKey":"ctrlKey",ci=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},Vj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},Bh=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},Ch=function(d){var h=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(Pa.ut[h],", ").concat(Pa._D))},Ig=function(d,
h){var m=document.createElement("div"),A=document.body;m.style.position="absolute";m.style.whiteSpace="pre";m.style.font=h;A.appendChild(m);m.innerText=d.split("\n").map(function(P){return P||" "}).join("\n");d=m.offsetWidth;h=m.offsetHeight;A=document.createElement("span");A.style.display="inline-block";A.style.overflow="hidden";A.style.width="1px";A.style.height="1px";m.appendChild(A);A=A.offsetTop+A.offsetHeight;return document.body.removeChild(m),{width:d,height:h,baseline:A}},dj=function(d,h){var m,
A=0,P=function(){for(var W=[],wa=0;wa<arguments.length;wa++)W[wa]=arguments[wa];m=W;clearTimeout(A);A=window.setTimeout(function(){return d.apply(void 0,W)},h)};return P.flush=function(){clearTimeout(A);m&&d.apply(void 0,m)},P.cancel=function(){clearTimeout(A)},P},Rh=function(d){d&&(d.style.cursor="")},pi=function(d,h){d&&(d.style.cursor=h)},Kf=function(d,h){d&&("selection"===h?Rh(d):d.style.cursor=Pa.oc.CROSSHAIR)},lh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===
d?void 0:d.nodeName)},sd=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),yg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},Zf=function(d,h){var m=h.zoom,A=1/m.value;return{x:(d.clientX-m.translation.x-h.offsetLeft)*A-h.scrollX,y:(d.clientY-m.translation.y-h.offsetTop)*A-h.scrollY}},rg=function(d,h){var m=h.zoom;return{x:(d.sceneX+h.scrollX+h.offsetLeft)*
m.value+m.translation.x,y:(d.sceneY+h.scrollY+h.offsetTop)*m.value+m.translation.y}},ej=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},sg=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),fj=function(d){return{x:d[0],y:d[1]}},uk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},bf=function(d){return function(h){(0,Ug.unstable_batchedUpdates)(d,h)}},Lf=function(d,h){var m,A=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(m=A.length-1;0<m&&!(d>=A[m].value);m--);return(d/A[m].value).toFixed(h).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+A[m].symbol},vg=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||Pa.eQ},uh=function(){var d=new Map,h=Pa.rk,m=Pa.n5,A=Vd.Sn,P=Pa.Hg,W=window.innerHeight,wa="".concat(Jb("labels.untitled"),"-"),pa=wa.concat;var Ba=new Date;var Ma=Ba.getFullYear();var Ga="".concat(Ba.getMonth()+
1).padStart(2,"0"),hb="".concat(Ba.getDate()).padStart(2,"0"),jb="".concat(Ba.getHours()).padStart(2,"0");Ba="".concat(Ba.getMinutes()).padStart(2,"0");Ma="".concat(Ma,"-").concat(Ga,"-").concat(hb,"-").concat(jb).concat(Ba);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:h,currentItemFontSize:m,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:A,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:P,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:W,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:pa.call(wa,Ma),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Vd.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},$f={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},el=function(d,h){for(var m={},A=0,P=
Object.keys(d);A<P.length;A++){var W=P[A],wa=$f[W];null!=wa&&wa[h]&&(m[W]=d[W])}return m},em=uh(),vl=[12,8],Ik=[3,6],gm=function(d,h,m){switch(m.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":h.draw(qi.get(d));break;case "arrow":case "draw":case "line":qi.get(d).forEach(function(hb){h.draw(hb)});break;default:if(!og(d))throw Error("Unimplemented type ".concat(d.type));var A=sg.test(d.text),P=A&&!m.canvas.isConnected;P&&document.body.appendChild(m.canvas);m.canvas.setAttribute("dir",
A?"rtl":"ltr");A=m.font;m.font=Ch(d);var W=m.fillStyle;m.fillStyle=d.strokeColor;var wa=m.textAlign;m.textAlign=d.textAlign;var pa=d.text.replace(/\r\n?/g,"\n").split("\n"),Ba=d.height/pa.length,Ma=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var Ga=0;Ga<pa.length;Ga++)m.fillText(pa[Ga],d,(Ga+1)*Ba-Ma);m.fillStyle=W;m.font=A;m.textAlign=wa;P&&m.canvas.remove()}m.globalAlpha=1},fm=new WeakMap,qi=new WeakMap,di=function(d){var h={seed:d.seed,strokeLineDash:"dashed"===
d.strokeStyle?vl:"dotted"===d.strokeStyle?Ik:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return h.fillStyle=d.fillStyle,h.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(h.curveFitting=1),h;case "line":case "draw":return bj(d.points)&&
(h.fillStyle=d.fillStyle,h.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),h;case "arrow":return h;default:throw Error("Unimplemented type ".concat(d.type));}},Ai=function(d,h){var m=qi.get(d)||null;if(!m){switch(fm.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){m=d.width;var A=d.height,P=.25*Math.min(m,A);m=h.path("M ".concat(P," 0 L ").concat(m-P," 0 Q ").concat(m," 0, ").concat(m," ").concat(P," L ").concat(m," ").concat(A-P," Q ").concat(m," ").concat(A,", ").concat(m-
P," ").concat(A," L ").concat(P," ").concat(A," Q 0 ").concat(A,", 0 ").concat(A-P," L 0 ").concat(P," Q 0 0, ").concat(P," 0"),di(d))}else m=h.rectangle(0,0,d.width,d.height,di(d));break;case "diamond":m=function(wa){var pa=Math.floor(wa.width/2)+1,Ba=Math.floor(wa.height/2)+1;return[pa,0,wa.width,Ba,pa,wa.height,0,Ba]}(d);m=h.polygon([[m[0],m[1]],[m[2],m[3]],[m[4],m[5]],[m[6],m[7]]],di(d));break;case "ellipse":m=h.ellipse(d.width/2,d.height/2,d.width,d.height,di(d));break;case "line":case "draw":case "arrow":var W=
di(d);m=d.points.length?d.points:[[0,0]];if(m="sharp"===d.strokeSharpness?W.fill?[h.polygon(m,W)]:[h.linearPath(m,W)]:[h.curve(m,W)],"arrow"===d.type){A=d.startArrowhead;A=void 0===A?null:A;P=d.endArrowhead;P=void 0===P?"arrow":P;function wa(pa,Ba,Ma,Ga){Ba=function(Kb,Ib,nc,Sc){Ib=bi(Ib[0]);if(1>Ib.length)return null;var Yc="start"===nc?1:Ib.length-1,jd=Ib[Yc].data,le=[jd[4],jd[5]],je=[jd[2],jd[3]],xe=[jd[0],jd[1]];Ib=Ib[Yc-1];var pe=[0,0];"move"===Ib.op?pe=Ib.data:"bcurveTo"===Ib.op&&(pe=[Ib.data[4],
Ib.data[5]]);Yc=function(md,Hd){return Math.pow(1-md,3)*le[Hd]+3*md*Math.pow(1-md,2)*je[Hd]+3*Math.pow(md,2)*(1-md)*xe[Hd]+pe[Hd]*Math.pow(md,3)};Ib="start"===nc?pe:le;nc=Ib[0];Ib=Ib[1];jd=[Yc(.3,0),Yc(.3,1)];Yc=jd[0];jd=jd[1];var Oe=Math.hypot(nc-Yc,Ib-jd);Yc=(nc-Yc)/Oe;jd=(Ib-jd)/Oe;Oe={arrow:30,bar:15,dot:15}[Sc];Kb=Kb.points.reduce(function(md,Hd,Wd,Ae){Wd=0<Wd?Ae[Wd-1]:[0,0];return md+Math.hypot(Hd[0]-Wd[0],Hd[1]-Wd[1])},0);Oe=Math.min(Oe,Kb/2);Kb=nc-Yc*Oe;Yc=Ib-jd*Oe;if("dot"===Sc)return[nc,
Ib,Math.hypot(Yc-Ib,Kb-nc)];jd={arrow:20,bar:90}[Sc];Oe=Ue(Kb,Yc,nc,Ib,-jd*Math.PI/180);Sc=Oe[0];Oe=Oe[1];Kb=Ue(Kb,Yc,nc,Ib,jd*Math.PI/180);return[nc,Ib,Sc,Oe,Kb[0],Kb[1]]}(pa,Ba,Ma,Ga);if(null===Ba)return[];if("dot"===Ga)return[h.circle(Ba[0],Ba[1],Ba[2],Db(Db({},W),{},{fill:pa.strokeColor,fillStyle:"solid"}))];Ga=Ba[0];Ma=Ba[1];var hb=Ba[2],jb=Ba[3],kb=Ba[4];Ba=Ba[5];return"dotted"===pa.strokeStyle?W.strokeLineDash=[3,4]:delete W.strokeLineDash,[h.line(hb,jb,Ga,Ma,W),h.line(kb,Ba,Ga,Ma,W)]}null!==
A&&(A=wa(d,m,"start",A),m.push.apply(m,A));null!==P&&(A=wa(d,m,"end",P),m.push.apply(m,A))}break;case "text":m=[]}qi.set(d,m)}},Fm=function(d,h,m,A,P){var W=h.generator;switch(d.type){case "selection":m.translate(d.x+P.scrollX,d.y+P.scrollY);h=m.fillStyle;m.fillStyle="rgba(0, 0, 255, 0.10)";m.fillRect(0,0,d.width,d.height);m.fillStyle=h;m.translate(-d.x-P.scrollX,-d.y-P.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Ai(d,W),A){h=P?
P.zoom:em.zoom;W=(A=fm.get(d))&&A.canvasZoom!==h.value&&!(null!=P&&P.shouldCacheIgnoreZoom);if(!A||W){A=document.createElement("canvas");W=A.getContext("2d");var wa=0,pa=0;if(pg(d)){wa=Jf(d);var Ba=wa[0];pa=wa[1];var Ma=wa[3];A.width=Math.abs(Ba-wa[2])*window.devicePixelRatio*h.value+40*h.value;A.height=Math.abs(pa-Ma)*window.devicePixelRatio*h.value+40*h.value;wa=d.x>Ba?Math.floor(Math.abs(d.x-Ba))*window.devicePixelRatio*h.value:0;pa=d.y>pa?Math.floor(Math.abs(d.y-pa))*window.devicePixelRatio*h.value:
0;W.translate(wa,pa)}else A.width=d.width*window.devicePixelRatio*h.value+40*h.value,A.height=d.height*window.devicePixelRatio*h.value+40*h.value;W.translate(20*h.value,20*h.value);W.scale(window.devicePixelRatio*h.value,window.devicePixelRatio*h.value);Ba=Xf.canvas(A);h=(gm(d,Ba,W),W.translate(-20*h.value,-20*h.value),W.scale(1/(window.devicePixelRatio*h.value),1/(window.devicePixelRatio*h.value)),{element:d,canvas:A,canvasZoom:h.value,canvasOffsetX:wa,canvasOffsetY:pa});d=(fm.set(d,h),h)}else d=
A;h=d.element;wa=Jf(h);A=wa[0];W=wa[1];pa=wa[2];wa=wa[3];Ba=((A+pa)/2+P.scrollX)*window.devicePixelRatio;P=((W+wa)/2+P.scrollY)*window.devicePixelRatio;m.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);m.translate(Ba,P);m.rotate(h.angle);m.drawImage(d.canvas,-(pa-A)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(wa-W)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);m.rotate(-h.angle);m.translate(-Ba,-P);m.scale(window.devicePixelRatio,
window.devicePixelRatio);!0}else W=Jf(d),pa=W[0],A=W[1],wa=W[2],Ba=W[3],W=(pa+wa)/2+P.scrollX,P=(A+Ba)/2+P.scrollY,pa=(wa-pa)/2-(d.x-pa),A=(Ba-A)/2-(d.y-A),m.translate(W,P),m.rotate(d.angle),m.translate(-pa,-A),gm(d,h,m),m.translate(pa,A),m.rotate(-d.angle),m.translate(-W,-P);break;default:throw Error("Unimplemented type ".concat(d.type));}},Kg=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return d.mapElementToScene=function(h,
m){"string"==typeof h?this.sceneMapById.set(h,m):this.sceneMapByElement.set(h,m)},d.getScene=function(h){return"string"==typeof h?this.sceneMapById.get(h)||null:this.sceneMapByElement.get(h)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(h){return this.elementsMap.get(h)||null},d.prototype.getNonDeletedElement=function(h){return(h=this.getElement(h))&&!h.isDeleted?h:
null},d.prototype.getNonDeletedElements=function(h){var m=this,A=[];return h.forEach(function(P){P=m.getNonDeletedElement(P);null!=P&&A.push(P)}),A},d.prototype.replaceAllElements=function(h){var m=this;this.elements=h;this.elementsMap.clear();h.forEach(function(A){m.elementsMap.set(A.id,A);d.mapElementToScene(A,m)});this.nonDeletedElements=Rd(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var h=0,m=Array.from(this.callbacks);h<m.length;h++)(0,m[h])()},d.prototype.addCallback=
function(h){var m=this;if(this.callbacks.has(h))throw Error();return this.callbacks.add(h),function(){if(!m.callbacks.has(h))throw Error();m.callbacks.delete(h)}},d.prototype.destroy=function(){var h=this;d.sceneMapById.forEach(function(m,A){m===h&&d.sceneMapById.delete(A)});this.callbacks.clear()},d}();Kg.sceneMapByElement=new WeakMap;Kg.sceneMapById=new Map;var Nl=new Ah(Date.now()),pf=function(){return Math.floor(Nl.next()*Math.pow(2,31))},Xj=function(){return((d=21)=>{let h="",m=crypto.getRandomValues(new Uint8Array(d));
for(;d--;){let A=63&m[d];h+=36>A?A.toString(36):62>A?(A-26).toString(36).toUpperCase():63>A?"_":"-"}return h})()},Gd=function(d,h){var m,A=!1,P=h.points,W;for(W in void 0!==P&&(h=gb(gb({},function(kb){var Kb=kb.map(function(Ib){return Ib[0]});kb=kb.map(function(Ib){return Ib[1]});return{width:Math.max.apply(Math,Kb)-Math.min.apply(Math,Kb),height:Math.max.apply(Math,kb)-Math.min.apply(Math,kb)}}(P)),h)),h){var wa=h[W];if(void 0!==wa&&(d[W]!==wa||"object"==typeof wa&&null!==wa&&"groupIds"!==W)){if("points"===
W){var pa=d[W],Ba=wa;if(pa.length===Ba.length){for(var Ma=!1,Ga=pa.length;--Ga;){var hb=pa[Ga],jb=Ba[Ga];if(hb[0]!==jb[0]||hb[1]!==jb[1]){Ma=!0;break}}if(!Ma)continue}}d[W]=wa;A=!0}}A&&(void 0===h.height&&void 0===h.width&&void 0===P||qi.delete(d),d.version++,d.versionNonce=pf(),null===(m=Kg.getScene(d))||void 0===m||m.informMutation())},wf=function(d,h){return gb(gb(gb({},d),h),{},{version:d.version+1,versionNonce:pf()})},Sh=function(d){return pg(d)?2>d.points.length:0===d.width&&0===d.height},Lg=
function(d,h,m){var A=Math.abs(h),P=Math.abs(m);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(P/A)/Pa.ay)*Pa.ay,0===d?m=0:d===Math.PI/2?h=0:m=Math.round(A*Math.tan(d))*Math.sign(m)||m):"selection"!==d&&(m=A*Math.sign(m));return{width:h,height:m}},hj=function(d){var h={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var m=Math.abs(d.width);h.width=m;h.x=d.x-m}0>d.height&&(m=Math.abs(d.height),h.height=m,h.y=d.y-m);return h},Aj=g(5474),si=g.n(Aj),fl=function(d,h){for(var m=0,
A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},Bj=function(d,h,m){var A,P;m=m.filter(function(W){return W.groupIds.includes(d)});return 2>m.length?h.selectedGroupIds[d]||h.editingGroupId===d?Ja(Ja({},h),{},{selectedGroupIds:Ja(Ja({},h.selectedGroupIds),{},(A={},A[d]=!1,A)),editingGroupId:null}):h:Ja(Ja({},h),{},{selectedGroupIds:Ja(Ja({},h.selectedGroupIds),{},(P={},P[d]=!0,P)),selectedElementIds:Ja(Ja({},h.selectedElementIds),Object.fromEntries(m.map(function(W){return[W.id,!0]})))})},Di=
function(d,h){return h.groupIds.filter(function(m){return m!==d.editingGroupId}).find(function(m){return d.selectedGroupIds[m]})},Si=function(d){return Object.entries(d.selectedGroupIds).filter(function(h){h[0];return h[1]}).map(function(h){var m=h[0];h[1];return m})},Zj=function(d,h){for(var m=Ja({},d),A=0,P=cf(h,d);A<P.length;A++){var W=P[A].groupIds;if(d.editingGroupId){var wa=W.indexOf(d.editingGroupId);-1<wa&&(W=W.slice(0,wa))}0<W.length&&(m=Bj(W[W.length-1],m,h))}return m},Ie=function(d,h){return d.filter(function(m){return m.groupIds.includes(h)})},
ak=function(d,h){var m,A,P=h.x,W=h.y,wa=h.strokeColor,pa=h.backgroundColor,Ba=h.fillStyle,Ma=h.strokeWidth,Ga=h.strokeStyle,hb=h.roughness,jb=h.opacity,kb=h.width;kb=void 0===kb?0:kb;var Kb=h.height;Kb=void 0===Kb?0:Kb;var Ib=h.angle;Ib=void 0===Ib?0:Ib;var nc=h.groupIds;nc=void 0===nc?[]:nc;var Sc=h.strokeSharpness,Yc=h.boundElementIds;Yc=void 0===Yc?null:Yc;h=si()(h,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:h.id||Xj(),type:d,x:P,y:W,width:kb,height:Kb,angle:Ib,strokeColor:wa,backgroundColor:pa,fillStyle:Ba,strokeWidth:Ma,strokeStyle:Ga,roughness:hb,opacity:jb,groupIds:nc,strokeSharpness:Sc,seed:null!==(m=h.seed)&&void 0!==m?m:pf(),version:h.version||1,versionNonce:null!==(A=h.versionNonce)&&void 0!==A?A:0,isDeleted:!1,boundElementIds:Yc}},Ol=function(d){return ak(d.type,d)},Ti=function(d,h){return{x:"center"===d.textAlign?h.width/2:"right"===d.textAlign?h.width:0,y:"middle"===d.verticalAlign?
h.height/2:0}},bk=function(d){var h=Ig(d.text,Ch(d)),m=Ti(d,h);return wf(Ca(Ca({},ak("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-m.x,y:d.y-m.y,width:h.width,height:h.height,baseline:h.baseline}),{})},Hi=function(d){return Ca(Ca({},ak(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},fi=function(d,h){if(void 0===
h&&(h=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var m="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},A;for(A in d)d.hasOwnProperty(A)&&(0!==h||"shape"!==A&&"canvas"!==A)&&(m[A]=fi(d[A],h+1));return m}if(Array.isArray(d)){m=d.length;for(A=Array(m);m--;)A[m]=fi(d[m],h+1);return A}return d},Ii=function(d,h,m,A){m=fi(m);return m.id=Xj(),m.seed=pf(),m.groupIds=function(P,W,wa){var pa=fl([],P);W=W?P.indexOf(W):-1;P=-1<
W?W:P.length;for(W=0;W<P;W++)pa[W]=wa(pa[W]);return pa}(m.groupIds,d,function(P){return h.has(P)||h.set(P,Xj()),h.get(P)}),A&&(m=Object.assign(m,A)),m},te={mouse:8,pen:16,touch:28},xl={e:!0,s:!0,n:!0,w:!0},Im={e:!0,s:!0,n:!0,w:!0},ck={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},Cj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},Jg=function(d,h,m,A,P,W,wa){d=Ue(d+m/2,h+A/2,P,W,wa);return[d[0]-m/2,d[1]-A/2,m,A]},tk=function(d,h,m,A,P){var W=d[0],wa=d[1],pa=d[2];d=d[3];void 0===P&&(P={});var Ba=te[A];A=Ba/m.value;var Ma=Ba/
m.value,Ga=Ba/m.value,hb=Ba/m.value,jb=pa-W,kb=d-wa,Kb=(W+pa)/2,Ib=(wa+d)/2,nc=4/m.value;Ba=(Ba-8)/(2*m.value);var Sc={nw:P.nw?void 0:Jg(W-nc-Ga+Ba,wa-nc-hb+Ba,A,Ma,Kb,Ib,h),ne:P.ne?void 0:Jg(pa+nc-Ba,wa-nc-hb+Ba,A,Ma,Kb,Ib,h),sw:P.sw?void 0:Jg(W-nc-Ga+Ba,d+nc-Ba,A,Ma,Kb,Ib,h),se:P.se?void 0:Jg(pa+nc-Ba,d+nc-Ba,A,Ma,Kb,Ib,h),rotation:P.rotation?void 0:Jg(W+jb/2-A/2,wa-nc-hb+Ba-16/m.value,A,Ma,Kb,Ib,h)};m=5*te.mouse/m.value;return Math.abs(jb)>m&&(P.n||(Sc.n=Jg(W+jb/2-A/2,wa-nc-hb+Ba,A,Ma,Kb,Ib,h)),
P.s||(Sc.s=Jg(W+jb/2-A/2,d+nc-Ba,A,Ma,Kb,Ib,h))),Math.abs(kb)>m&&(P.w||(Sc.w=Jg(W-nc-Ga+Ba,wa+kb/2-Ma/2,A,Ma,Kb,Ib,h)),P.e||(Sc.e=Jg(pa+nc-Ba,wa+kb/2-Ma/2,A,Ma,Kb,Ib,h))),Sc},gj=function(d,h,m){void 0===m&&(m="mouse");var A={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var P=d.points[1];0===P[0]||0===P[1]?A=Cj:0<P[0]&&0>P[1]?A=ck:0<P[0]&&0<P[1]?A=Cj:0>P[0]&&0<P[1]?A=ck:0>P[0]&&0>P[1]&&(A=Cj)}}else"text"===d.type&&(A=Im);return tk(Jf(d),d.angle,h,m,A)},ti=function(d,
h){return[0,0,0,0,h,d,1,0]},Ag=function(d,h){void 0===d&&(d=0);void 0===h&&(h=0);var m=[0,0,0,0,0,0,0,0];if(0>h||7<h)throw Error("Expected `index` betwen 0 and 7, got `".concat(h,"`"));return 0!==d&&(m[h]=d),m},gi=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},vk=function(d,h){return"number"==typeof h?[d[0]-h,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-h[0],d[1]-h[1],d[2]-h[2],d[3]-h[3],d[4]-h[4],d[5]-h[5],d[6]-h[6],d[7]-h[7]]},yk=function(d,h){return"number"==typeof h?[d[0]*h,d[1]*
h,d[2]*h,d[3]*h,d[4]*h,d[5]*h,d[6]*h,d[7]*h]:[h[0]*d[0]+h[2]*d[2]+h[3]*d[3]-h[6]*d[6],h[1]*d[0]+h[0]*d[1]-h[4]*d[2]+h[5]*d[3]+h[2]*d[4]-h[3]*d[5]-h[7]*d[6]-h[6]*d[7],h[2]*d[0]+h[0]*d[2]-h[6]*d[3]+h[3]*d[6],h[3]*d[0]+h[6]*d[2]+h[0]*d[3]-h[2]*d[6],h[4]*d[0]+h[2]*d[1]-h[1]*d[2]+h[7]*d[3]+h[0]*d[4]+h[6]*d[5]-h[5]*d[6]+h[3]*d[7],h[5]*d[0]-h[3]*d[1]+h[7]*d[2]+h[1]*d[3]-h[6]*d[4]+h[0]*d[5]+h[4]*d[6]+h[2]*d[7],h[6]*d[0]+h[3]*d[2]-h[2]*d[3]+h[0]*d[6],h[7]*d[0]+h[6]*d[1]+h[5]*d[2]+h[4]*d[3]+h[3]*d[4]+h[2]*
d[5]+h[1]*d[6]+h[0]*d[7]]},ek=function(d,h){return[Fj(d,h),d[1]*h[7]+d[4]*h[5]-d[5]*h[4]+d[7]*h[1],d[2]*h[7]-d[4]*h[6]+d[6]*h[4]+d[7]*h[2],d[3]*h[7]+d[5]*h[6]-d[6]*h[5]+d[7]*h[3],d[4]*h[7]+d[7]*h[4],d[5]*h[7]+d[7]*h[5],d[6]*h[7]+d[7]*h[6],d[7]*h[7]]},Fj=function(d,h){return d[0]*h[7]+d[1]*h[6]+d[2]*h[5]+d[3]*h[4]+d[4]*h[3]+d[5]*h[2]+d[6]*h[1]+d[7]*h[0]},lm=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},Qi=function(d){var h=lm(d);return 0===h||1===h?d:yk(d,(0>d[6]?
-1:1)/h)},wk=(Ag(1,1),Ag(1,2),Ag(1,3),Ag(1,4),Ag(1,5),Ag(1,6),Ag(1,7),function(d,h,m){return Qi([0,m,d,h,0,0,0,0])}),kj=function(d,h){return m=d,[(A=h)[0]*m[0]+A[2]*m[2]+A[3]*m[3]-A[6]*m[6],A[1]*m[0]+A[0]*m[1]-A[4]*m[2]+A[5]*m[3]+A[2]*m[4]-A[3]*m[5]-A[7]*m[6]-A[6]*m[7],A[2]*m[0]+A[0]*m[2]-A[6]*m[3]+A[3]*m[6],A[3]*m[0]+A[6]*m[2]+A[0]*m[3]-A[2]*m[6],A[4]*m[0]+A[7]*m[3]+A[0]*m[4]+A[3]*m[7],A[5]*m[0]+A[7]*m[2]+A[0]*m[5]+A[2]*m[7],A[6]*m[0]+A[0]*m[6],A[7]*m[0]+A[0]*m[7]];var m,A},dk=function(d){return[0,
0,0,0,d[1],d[0],1,0]},Eh=function(d){return[d[5],d[4]]},hi=function(d,h){return m=yk(d,Math.sin(h/2)),A=Math.cos(h/2),"number"==typeof A?[m[0]+A,m[1],m[2],m[3],m[4],m[5],m[6],m[7]]:[m[0]+A[0],m[1]+A[1],m[2]+A[2],m[3]+A[3],m[4]+A[4],m[5]+A[5],m[6]+A[6],m[7]+A[7]];var m,A},ui=function(d,h){return Qi(yk(yk(d,h),gi(d)))},Lk=function(d,h,m,A){var P=10/h.zoom.value;return!Ej(d,h,[m,A])&&nm(d,[m,A],P)},Ej=function(d,h,m){h=10/h.zoom.value;if("text"===d.type)var A=pm;else"arrow"===d.type?A=!1:(A="transparent"!==
d.backgroundColor,A="line"===d.type||"draw"===d.type?A&&bj(d.points):A),A=A?Bk:xk;return jj({element:d,point:m,threshold:h,check:A})},nm=function(d,h,m){var A=h[0],P=h[1],W=Jf(d);h=W[0];var wa=W[1],pa=W[2];W=W[3];A=Ue(A,P,(h+pa)/2,(wa+W)/2,-d.angle);d=A[0];A=A[1];return d>h-m&&d<pa+m&&A>wa-m&&A<W+m},om=function(d,h){var m=h.x;h=h.y;var A=Dj(d,d.width,d.height);return jj({element:d,point:[m,h],threshold:A,check:hn})},Dj=function(d,h,m){return Math.max(16,Math.min(.25*("diamond"===d.type?1/Math.sqrt(2):
1)*Math.min(h,m),32))},jj=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var h=Hm(d.element,d.point);return d.check(h,d.threshold);case "arrow":case "line":case "draw":return Vg(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Hm=function(d,h){switch(d.type){case "rectangle":case "text":var m=Tg(d,h),A=m[1],P=m[2];d=Math;h=d.max;m=wk(0,1,-m[3]);m=Fj(A,m);P=wk(1,0,-P);A=Fj(A,P);return h.call(d,
m,A);case "diamond":return A=Tg(d,h),d=A[1],h=A[2],A=A[3],h=wk(A,h,-A*h),Fj(d,h);case "ellipse":return d=im(d,h),h=d[1],-Math.sign(h[1])*Fj(d[0],h)}},pm=function(d,h){return 0>d},Bk=function(d,h){return d<h},xk=function(d,h){return Math.abs(d)<h},hn=function(d,h){return 0<=d&&d<h},im=function(d,h){h=Tg(d,h);d=h[1];var m=h[2],A=h[3];h=Eh(d);var P=h[0],W=h[1],wa=.707,pa=.707;[0,1,2,3].forEach(function(Ba){Ba=(m*m-A*A)*Math.pow(wa,3)/m;var Ma=(A*A-m*m)*Math.pow(pa,3)/A,Ga=P-Ba,hb=W-Ma,jb=Math.hypot(A*
pa-Ma,m*wa-Ba),kb=Math.hypot(hb,Ga);wa=Math.min(1,Math.max(0,(Ga*jb/kb+Ba)/m));pa=Math.min(1,Math.max(0,(hb*jb/kb+Ma)/A));Ba=Math.hypot(pa,wa);wa/=Ba;pa/=Ba});h=ti(m*wa,A*pa);return[d,kj(Qi(ek(h,d)),h)]},Vg=function(d){var h=d.element,m=d.threshold;if(!qi.get(h))return!1;var A=Tg(d.element,d.point),P=A[0],W=A[1],wa=A[2];A=wk(0,1,-A[3]);wa=wk(1,0,-wa);if(!Bk(Fj(W,A),m)||!Bk(Fj(W,wa),m))return!1;P=Eh(P);var pa=P[0],Ba=P[1];P=qi.get(h);return d.check===Bk&&P.some(function(Ma){var Ga=h.strokeSharpness;
var hb=[],jb=!1,kb=0;for(Ma=bi(Ma);kb<Ma.length;kb++){var Kb=Ma[kb];"move"===Kb.op?(jb=!jb)&&hb.push([Kb.data[0],Kb.data[1]]):"bcurveTo"===Kb.op&&jb&&(hb.push([Kb.data[0],Kb.data[1]]),hb.push([Kb.data[2],Kb.data[3]]),hb.push([Kb.data[4],Kb.data[5]]))}4<=hb.length?"sharp"===Ga?Ga=cj(hb,pa,Ba):(Ga=H(hb,10,5),Ga=cj(Ga,pa,Ba)):Ga=!1;return Ga})?!0:P.some(function(Ma){return Ff(Ma,pa,Ba,m)})},Tg=function(d,h){var m,A=dk(h);h=Jf(d);var P=Gj(h),W=hi(P,d.angle);A=ui(W,A);P=vk(A,[0,0,0,0,P[4],P[5],0,0]);P=
[0,0,0,0,Math.abs(P[4]),Math.abs(P[5]),1,0];d=(m=d.x,[0,0,0,0,d.y,m,0,0]);return[vk(A,d),P,(h[2]-h[0])/2,(h[3]-h[1])/2]},zg=function(d){var h=Jf(d);h=Gj(h);d=hi(h,d.angle);h=[0,0,0,0,h[4],h[5],0,0];h=gi([1,0,0,0,-.5*h[5],.5*h[4],0,0]);return yk(h,d)},Gj=function(d){return ti((d[0]+d[2])/2,(d[1]+d[3])/2)},Sg=function(d,h,m,A){switch(void 0===A&&(A=0),d.type){case "rectangle":case "text":case "diamond":var P=ai(d);var W=P.flatMap(function(wa,pa){pa=[wa,P[(pa+1)%4]];var Ba=A;wa=pa[0];pa=pa[1];var Ma=
[0,0,0,0,pa[4]-wa[4],pa[5]-wa[5],0,0];var Ga=Math.sqrt(Math.abs(Ma[7]*Ma[7]-Ma[5]*Ma[5]-Ma[4]*Ma[4]+Ma[1]*Ma[1]));Ma=0===Ga||1===Ga?Ma:yk(Ma,1/Ga);Ba*=.5;Ba=[1,0,0,0,Ba*Ma[4],Ba*Ma[5],0,0];pa=[ui(Ba,wa),ui(Ba,pa)];wa=pa[0];pa=pa[1];if(0<=Fj(wa,h)*Fj(pa,h))var hb=[];else{a:{wa=Qi(ek(pa,wa));wa=Qi((hb=h,[(jb=wa)[0]*hb[0],jb[1]*hb[0]+jb[0]*hb[1],jb[2]*hb[0]+jb[0]*hb[2],jb[3]*hb[0]+jb[0]*hb[3],jb[4]*hb[0]+jb[2]*hb[1]-jb[1]*hb[2]+jb[0]*hb[4],jb[5]*hb[0]-jb[3]*hb[1]+jb[1]*hb[3]+jb[0]*hb[5],jb[6]*hb[0]+
jb[3]*hb[2]-jb[2]*hb[3]+jb[0]*hb[6],jb[7]*hb[0]+jb[6]*hb[1]+jb[5]*hb[2]+jb[4]*hb[3]+jb[3]*hb[4]+jb[2]*hb[5]+jb[1]*hb[6]]));break a;var jb}hb=[wa]}return hb}).concat(P.flatMap(function(wa){var pa=A;if(0===pa)var Ba=0===Fj(h,wa)?[wa]:[];else{Ba=h[2];var Ma=h[3],Ga=h[1],hb=Eh(wa);wa=hb[0];var jb=hb[1];hb=Ba*Ba+Ma*Ma;pa=pa*pa*hb-Math.pow(Ba*wa+Ma*jb+Ga,2);if(0===hb||0>=pa)Ba=[];else{pa=Math.sqrt(pa);var kb=wa*Ma*Ma-jb*Ba*Ma-Ba*Ga;Ga=jb*Ba*Ba-wa*Ba*Ma-Ma*Ga;Ba=[ti((kb+Ma*pa)/hb,(Ga-Ba*pa)/hb),ti((kb-Ma*
pa)/hb,(Ga+Ba*pa)/hb)]}}return Ba}));break;case "ellipse":W=vf(d,A,h)}if(2>W.length)return[];d=W.sort(function(wa,pa){return lm(ek(wa,m))-lm(ek(pa,m))});return[d[0],d[d.length-1]]},ai=function(d,h){void 0===h&&(h=1);var m=h*d.width/2;h=h*d.height/2;switch(d.type){case "rectangle":case "text":return[ti(m,h),ti(m,-h),ti(-m,-h),ti(-m,h)];case "diamond":return[ti(0,h),ti(m,0),ti(0,-h),ti(-m,0)]}},vf=function(d,h,m){var A=d.width/2+h;d=d.height/2+h;h=m[2];var P=m[3],W=m[1];m=A*A*h*h+d*d*P*P;var wa=m-W*
W;if(0===m||0>=wa)return[];wa=Math.sqrt(wa);var pa=-A*A*h*W;W*=-d*d*P;return[ti((pa+A*d*P*wa)/m,(W-A*d*h*wa)/m),ti((pa-A*d*P*wa)/m,(W+A*d*h*wa)/m)]},Gm=function(d,h,m){var A=Math.sign(h),P=0,W=null;return ai(d,Math.abs(h)).forEach(function(wa){var pa=A*Qi(ek(wa,m))[1];pa>P&&(P=pa,W=wa)}),W},Ff=function(d,h,m,A){var P=[0,0];return bi(d).some(function(W,wa){wa=W.op;var pa=W.data;if("move"===wa)P=pa;else if("bcurveTo"===wa){W=[pa[0],pa[1]];wa=[pa[2],pa[3]];pa=[pa[4],pa[5]];var Ba=P;return P=pa,function(Ma,
Ga,hb,jb,kb,Kb){var Ib=kb[0];kb=kb[1];for(var nc=function(le,je){return Math.pow(1-le,3)*jb[je]+3*le*Math.pow(1-le,2)*hb[je]+3*Math.pow(le,2)*(1-le)*Ga[je]+Ma[je]*Math.pow(le,3)},Sc=0;1>=Sc;){var Yc=nc(Sc,0),jd=nc(Sc,1);if(Math.sqrt(Math.pow(Yc-Ib,2)+Math.pow(jd-kb,2))<Kb)return!0;Sc+=.01}return!1}(Ba,W,wa,pa,[h,m],A)}return!1})},qk=function(d,h,m){return h>=d[0]&&h<=d[0]+d[2]&&m>=d[1]&&m<=d[1]+d[3]},Rl=function(d,h,m,A,P,W){return d.reduce(function(wa,pa){return wa?wa:(wa=function(Ba,Ma,Ga,hb,jb,
kb){if(!Ma.selectedElementIds[Ba.id])return!1;Ba=gj(Ba,jb,kb);Ma=Ba.rotation;var Kb=si()(Ba,["rotation"]);if(Ma&&qk(Ma,Ga,hb))return"rotation";Ba=Object.keys(Kb).filter(function(Ib){Ib=Kb[Ib];return!!Ib&&qk(Ib,Ga,hb)});return 0<Ba.length&&Ba[0]}(pa,h,m,A,P,W))?{element:pa,transformHandleType:wa}:null},null)},lj=function(d,h,m,A,P){var W=tk([d[0],d[1],d[2],d[3]],0,A,P,xl);return Object.keys(W).find(function(wa){return(wa=W[wa])&&qk(wa,h,m)})||!1},Mg=["ns","nesw","ew","nwse"],Ng=function(d){var h=d.element,
m=h&&-1==Math.sign(h.height)*Math.sign(h.width),A=null;switch(d.transformHandleType){case "n":case "s":A="ns";break;case "w":case "e":A="ew";break;case "nw":case "se":A=m?"nesw":"nwse";break;case "ne":case "sw":A=m?"nwse":"nesw";break;case "rotation":return"grab"}A&&h&&(d=A,h=h.angle,m=Mg.indexOf(d),0<=m&&(d=Mg[(m+Math.round(h/(Math.PI/4)))%Mg.length]),A=d);return A?"".concat(A,"-resize"):""},mj=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},ag=function(){function d(h,
m){this.elementId=h.id;Kg.mapElementToScene(this.elementId,m);d.normalizePoints(h);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(h){var m;return(null===(m=Kg.getScene(h))||void 0===m?void 0:m.getNonDeletedElement(h))||null},d.handlePointDragging=function(h,m,A,P,W){if(!h.editingLinearElement)return!1;var wa=h.editingLinearElement,pa=wa.activePointIndex,Ba=wa.isDragging,
Ma=d.getElement(wa.elementId);return Ma?null!=pa&&-1<pa?(!1===Ba&&m({editingLinearElement:ab(ab({},wa),{},{isDragging:!0})}),h=d.createPointAt(Ma,A-wa.pointerOffset.x,P-wa.pointerOffset.y,h.gridSize),d.movePoint(Ma,pa,h),zf(Ma)&&W(Ma,0===pa?"start":"end"),!0):!1:!1},d.handlePointerUp=function(h,m,A){h=m.activePointIndex;var P=m.isDragging,W=d.getElement(m.elementId);if(!W)return m;var wa={};!P||0!==h&&h!==W.points.length-1||(bj(W.points,A.zoom.value)&&d.movePoint(W,h,0===h?W.points[W.points.length-
1]:W.points[0]),P=A.isBindingEnabled?ph(fj(d.getPointAtIndexGlobalCoordinates(W,h)),Kg.getScene(W)):null,(A={})[0===h?"startBindingElement":"endBindingElement"]=P,wa=A);return ab(ab(ab({},m),wa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(h,m,A,P,W){var wa={didAddPoint:!1,hitElement:null};if(!m.editingLinearElement)return wa;var pa=d.getElement(m.editingLinearElement.elementId);if(!pa)return wa;if(h.altKey)return null==m.editingLinearElement.lastUncommittedPoint&&Gd(pa,
{points:mj(mj([],pa.points),[d.createPointAt(pa,W.x,W.y,m.gridSize)])}),P.resumeRecording(),A({editingLinearElement:ab(ab({},m.editingLinearElement),{},{activePointIndex:pa.points.length-1,lastUncommittedPoint:null,endBindingElement:ph(W,Kg.getScene(pa))})}),wa.didAddPoint=!0,wa;h=d.getPointIndexUnderCursor(pa,m.zoom,W.x,W.y);if(-1<h)wa.hitElement=pa;else{var Ba=m.editingLinearElement;P=Ba.startBindingElement;Ba=Ba.endBindingElement;m.isBindingEnabled&&zf(pa)&&Gf(pa,P,Ba)}Ba=Jf(pa);P=(Ba[0]+Ba[2])/
2;Ba=(Ba[1]+Ba[3])/2;pa=-1<h&&Ue(pa.x+pa.points[h][0],pa.y+pa.points[h][1],P,Ba,pa.angle);return A({editingLinearElement:ab(ab({},m.editingLinearElement),{},{activePointIndex:-1<h?h:null,pointerOffset:pa?{x:W.x-pa[0],y:W.y-pa[1]}:{x:0,y:0}})}),wa},d.handlePointerMove=function(h,m,A,P,W){var wa=P.lastUncommittedPoint,pa=d.getElement(P.elementId);if(!pa)return P;var Ba=pa.points,Ma=Ba[Ba.length-1];if(!h.altKey)return Ma===wa&&d.movePoint(pa,Ba.length-1,"delete"),ab(ab({},P),{},{lastUncommittedPoint:null});
h=d.createPointAt(pa,m-P.pointerOffset.x,A-P.pointerOffset.y,W);return Ma===wa?d.movePoint(pa,pa.points.length-1,h):d.movePoint(pa,"new",h),ab(ab({},P),{},{lastUncommittedPoint:pa.points[pa.points.length-1]})},d.getPointsGlobalCoordinates=function(h){var m=Jf(h),A=(m[0]+m[2])/2,P=(m[1]+m[3])/2;return h.points.map(function(W){var wa;return[(wa=Ue(h.x+W[0],h.y+W[1],A,P,h.angle))[0],wa[1]]})},d.getPointAtIndexGlobalCoordinates=function(h,m){var A=0>m?h.points.length+m:m;m=Jf(h);A=h.points[A];return Ue(h.x+
A[0],h.y+A[1],(m[0]+m[2])/2,(m[1]+m[3])/2,h.angle)},d.pointFromAbsoluteCoords=function(h,m){var A=Jf(h);m=Ue(m[0],m[1],(A[0]+A[2])/2,(A[1]+A[3])/2,-h.angle);return[m[0]-h.x,m[1]-h.y]},d.getPointIndexUnderCursor=function(h,m,A,P){h=this.getPointsGlobalCoordinates(h);for(var W=h.length;-1<--W;){var wa=h[W];if(Math.hypot(wa[0]-A,wa[1]-P)*m.value<this.POINT_HANDLE_SIZE/2+1)return W}return-1},d.createPointAt=function(h,m,A,P){m=ch(m,A,P);A=Jf(h);m=Ue(m[0],m[1],(A[0]+A[2])/2,(A[1]+A[3])/2,-h.angle);return[m[0]-
h.x,m[1]-h.y]},d.normalizePoints=function(h){var m=h.points,A=m[0][0],P=m[0][1];Gd(h,{points:m.map(function(W,wa){return[W[0]-A,W[1]-P]}),x:h.x+A,y:h.y+P})},d.movePointByOffset=function(h,m,A){var P=h.points[m];d.movePoint(h,m,[P[0]+A.x,P[1]+A.y])},d.movePoint=function(h,m,A,P){var W=h.points,wa=0,pa=0;if("delete"===A){if("new"===m)throw Error("invalid args in movePoint");(A=W.slice()).splice(m,1);0===m&&(wa=A[0][0],pa=A[0][1],A=A.map(function(hb,jb){return 0===jb?[0,0]:[hb[0]-wa,hb[1]-pa]}))}else if("new"===
m)A=mj(mj([],W),[A]);else{var Ba=A[0]-W[m][0],Ma=A[1]-W[m][1];A=W.map(function(hb,jb){return jb===m?0===jb?(wa=Ba,pa=Ma,hb):(wa=0,pa=0,[hb[0]+Ba,hb[1]+Ma]):wa||pa?[hb[0]-wa,hb[1]-pa]:hb})}var Ga=Sd(h,A,h.strokeSharpness||"round");W=Sd(h,W,h.strokeSharpness||"round");W=Ue(wa,pa,(W[0]+W[2])/2-(Ga[0]+Ga[2])/2,(W[1]+W[3])/2-(Ga[1]+Ga[3])/2,h.angle);Gd(h,ab(ab({},P),{},{points:A,x:h.x+W[0],y:h.y+W[1]}))},d}();ag.POINT_HANDLE_SIZE=20;var qm=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=
h[m];return d},Gf=function(d,h,m){var A=new Set,P=new Set;jg(d,h,m,"start",A,P);jg(d,m,h,"end",A,P);h=Array.from(P).filter(function(W){return!A.has(W)});Kg.getScene(d).getNonDeletedElements(h).forEach(function(W){var wa;Gd(W,{boundElementIds:null===(wa=W.boundElementIds)||void 0===wa?void 0:wa.filter(function(pa){return pa!==d.id})})})},jg=function(d,h,m,A,P,W){if("keep"!==h)if(null!=h)null!=m&&("keep"===m?rf(d,h,A):"start"!==A&&m.id===h.id)||(lk(d,h,A),P.add(h.id));else{var wa;h="start"===A?"startBinding":
"endBinding";m=d[h];d=null==m?null:(Gd(d,((wa={})[h]=null,wa)),m.elementId);null!=d&&W.add(d)}},kg=function(d){d.forEach(function(h){zf(h)?Gf(h,Dg(h,"start"),Dg(h,"end")):Pi(h)&&gl(h)})},gl=function(d){Hh(d).forEach(function(h){var m=h[1];return Gf(h[0],"end"===m?"keep":d,"start"===m?"keep":d)})},Hj=function(d,h,m,A){null!=h.startBoundElement&&lk(d,h.startBoundElement,"start");h=ph(A,m);null==h||rf(d,h,"end")||lk(d,h,"end")},lk=function(d,h,m){var A,P;Gd(d,((A={})["start"===m?"startBinding":"endBinding"]=
function(W){for(var wa=1;wa<arguments.length;wa++){var pa=null!=arguments[wa]?arguments[wa]:{};wa%2?Eb(Object(pa),!0).forEach(function(Ba){ve()(W,Ba,pa[Ba])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(pa)):Eb(Object(pa)).forEach(function(Ba){Object.defineProperty(W,Ba,Object.getOwnPropertyDescriptor(pa,Ba))})}return W}({elementId:h.id},Fe(d,h,m)),A));Gd(h,{boundElementIds:Array.from(new Set(qm(qm([],null!==(P=h.boundElementIds)&&void 0!==P?P:[]),[d.id])))})},
rf=function(d,h,m){m=d["start"===m?"endBinding":"startBinding"];return(null==m?void 0:m.elementId)===h.id&&3>d.points.length},xh=function(d){d.forEach(function(h){zf(h)&&Gf(h,null,null)})},ph=function(d,h){return yi(h.getElements(),function(m){return Pi(m)&&om(m,d)})},Fe=function(d,h,m){var A="start"===m?-1:1;m=-1===A?0:d.points.length-1;A=m-A;m=ag.getPointAtIndexGlobalCoordinates(d,m);A=ag.getPointAtIndexGlobalCoordinates(d,A);a:{d=zg(h);A=ui(d,dk(A));d=ui(d,dk(m));var P=Qi(ek(d,A));d=h.height/h.width;
A=h.width/2;var W=h.height/2,wa=P[2],pa=P[3];P=P[1];var Ba=Math.abs(pa),Ma=Math.abs(wa);switch(h.type){case "rectangle":case "text":d=P/(A*(Ma+d*Ba));break a;case "diamond":d=Ba<Ma?P/(Ma*A):P/(Ba*W);break a;case "ellipse":d=P/(A*Math.sqrt(Math.pow(wa,2)+Math.pow(d,2)*Math.pow(pa,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,Hm(h,m))}},Vh=function(d,h){var m,A=null!==(m=d.boundElementIds)&&void 0!==m?m:[];if(0!==A.length){h=null!=h?h:{};var P=h.newSize,W=Ei(h.simultaneouslyUpdated);Kg.getScene(d).getNonDeletedElements(A).forEach(function(wa){var pa,
Ba;if((null===(pa=wa.startBinding)||void 0===pa?void 0:pa.elementId)===d.id||(null===(Ba=wa.endBinding)||void 0===Ba?void 0:Ba.elementId)===d.id)pa=qf(d,wa.startBinding,P),Ba=qf(d,wa.endBinding,P),W.has(wa.id)?Gd(wa,{startBinding:pa,endBinding:Ba}):(xm(wa,"start",pa,d),xm(wa,"end",Ba,d))})}},Ei=function(d){return new Set((d||[]).map(function(h){return h.id}))},xm=function(d,h,m,A){var P;if(!(null==m||m.elementId!==A.id&&2<d.points.length)){var W=Kg.getScene(d).getElement(m.elementId);if(null!=W){var wa=
"start"===h?-1:1;A=-1===wa?0:d.points.length-1;var pa=ag.getPointAtIndexGlobalCoordinates(d,A-wa);wa=function(Ba,Ma,Ga){if(0===Ma){var hb=Jf(Ba);hb=Gj(hb);return Eh(hb)}hb=zg(Ba);Ga=ui(hb,dk(Ga));hb=gi(hb);switch(Ba.type){case "rectangle":case "text":case "diamond":var jb=Gm(Ba,Ma,Ga);break;case "ellipse":var kb=Math.abs(Ma);jb=Ba.width*kb/2;Ba=Ba.height*kb/2;Ma=Math.sign(Ma);kb=Eh(Ga);Ga=kb[0];kb=kb[1];kb=0===kb?1E-4:kb;var Kb=Math.pow(Ga,2)*Math.pow(Ba,2)+Math.pow(kb,2)*Math.pow(jb,2);Ma=(-Ga*Math.pow(Ba,
2)+Ma*kb*Math.sqrt(Math.max(0,Kb-Math.pow(jb,2)*Math.pow(Ba,2))))/Kb;Ga=(-Ma*Ga-1)/kb;jb=-Math.pow(jb,2)*Ma/(Math.pow(Ga,2)*Math.pow(Ba,2)+Math.pow(Ma,2)*Math.pow(jb,2));jb=ti(jb,(-Ma*jb-1)/Ga)}return Eh(ui(hb,jb))}(W,m.focus,pa);0===m.gap?W=wa:(W=function(Ba,Ma,Ga,hb){void 0===hb&&(hb=0);var jb=zg(Ba);Ma=ui(jb,dk(Ma));Ga=ui(jb,dk(Ga));Ga=Qi(ek(Ga,Ma));var kb=gi(jb);return Sg(Ba,Ga,Ma,hb).map(function(Kb){return Eh(ui(kb,Kb))})}(W,pa,wa,m.gap),W=0===W.length?wa:W[0]);ag.movePoint(d,A,ag.pointFromAbsoluteCoords(d,
W),((P={})["start"===h?"startBinding":"endBinding"]=m,P))}}},qf=function(d,h,m){if(null==h||null==m)return h;var A=h.gap,P=h.focus,W=m.width;m=m.height;var wa=d.width,pa=d.height;return{elementId:h.elementId,gap:Math.max(1,Math.min(Dj(d,W,m),A*(W<m?W/wa:m/pa))),focus:P}},$m=function(d){return[Dg(d,"start"),Dg(d,"end")].filter(function(h){return null!=h})},Dg=function(d,h){return ph(fj(ag.getPointAtIndexGlobalCoordinates(d,"start"===h?0:-1)),Kg.getScene(d))},Hh=function(d){return Kg.getScene(d).getElements().map(function(h){if(!zf(h))return null;
var m=Nf(h,"start",d),A=Nf(h,"end",d);return m||A?[h,m&&A?"both":m?"start":"end",d]:null}).filter(function(h){return null!=h})},Nf=function(d,h,m){return null==d["start"===h?"startBinding":"endBinding"]&&!rf(d,m,h)&&om(m,fj(ag.getPointAtIndexGlobalCoordinates(d,"start"===h?0:-1)))},cl=function(d,h,m,A){var P=new Set,W=new Set,wa="duplicatesServeAsOld"===A;h.forEach(function(pa){var Ba=pa.boundElementIds;if(null!=Ba&&0<Ba.length&&(Ba.forEach(function(Ma){wa&&!m.has(Ma)&&P.add(Ma)}),W.add(m.get(pa.id))),
zf(pa))null!=pa.startBinding&&(Ba=pa.startBinding.elementId,wa&&!m.has(Ba)&&W.add(Ba)),null!=pa.endBinding&&(Ba=pa.endBinding.elementId,wa&&!m.has(Ba)&&W.add(Ba)),null==pa.startBinding&&null==pa.endBinding||P.add(m.get(pa.id))});d.filter(function(pa){return P.has(pa.id)}).forEach(function(pa){var Ba=pa.endBinding;Gd(pa,{startBinding:Zg(pa.startBinding,m),endBinding:Zg(Ba,m)})});d.filter(function(pa){return W.has(pa.id)}).forEach(function(pa){var Ba=pa.boundElementIds;null!=Ba&&0<Ba.length&&Gd(pa,
{boundElementIds:Ba.map(function(Ma){var Ga;return null!==(Ga=m.get(Ma))&&void 0!==Ga?Ga:Ma})})})},Zg=function(d,h){var m;if(null==d)return null;var A=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(m=h.get(A))&&void 0!==m?m:A}},li=function(d,h){var m=new Set(h.map(function(P){return P.id})),A=new Set;h.forEach(function(P){var W;Pi(P)&&(null===(W=P.boundElementIds)||void 0===W||W.forEach(function(wa){m.has(wa)||A.add(wa)}))});d.filter(function(P){return A.has(P.id)}).forEach(function(P){var W=
P.endBinding;Gd(P,{startBinding:Il(P.startBinding,m),endBinding:Il(W,m)})})},Il=function(d,h){return null==d||h.has(d.elementId)?null:d},qj=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},mf=function(d){return d>=2*Math.PI?d-2*Math.PI:d},$e=function(d,h,m){return pg(d)?{points:oi(0,h,oi(1,m,d.points))}:{}},$g=function(d,h,m){h=h/d.width*d.fontSize;if(1>h)return null;d=Ig(d.text,Ch({fontSize:h,fontFamily:d.fontFamily}));return{size:h,baseline:d.baseline+(m-d.height)}},
rl=function(d,h,m,A){var P=Yf(d),W=P[0],wa=P[1],pa=P[2],Ba=P[3];switch(h){case "se":var Ma=Math.max((m-W)/(pa-W),(A-wa)/(Ba-wa));var Ga=function(jb,kb,Kb){var Ib=kb[0];kb=kb[1];return{x:jb.x+(Ib-W)*(Ma-1)+Ib-Kb[0],y:jb.y+(kb-wa)*(Ma-1)+kb-Kb[1]}};break;case "nw":Ma=Math.max((pa-m)/(pa-W),(Ba-A)/(Ba-wa));Ga=function(jb,kb,Kb){var Ib=kb[2];kb=kb[3];return{x:jb.x-(pa-Ib)*(Ma-1)+Ib-Kb[2],y:jb.y-(Ba-kb)*(Ma-1)+kb-Kb[3]}};break;case "ne":Ma=Math.max((m-W)/(pa-W),(Ba-A)/(Ba-wa));Ga=function(jb,kb,Kb){var Ib=
kb[0];kb=kb[3];return{x:jb.x+(Ib-W)*(Ma-1)+Ib-Kb[0],y:jb.y-(Ba-kb)*(Ma-1)+kb-Kb[3]}};break;case "sw":Ma=Math.max((pa-m)/(pa-W),(A-wa)/(Ba-wa)),Ga=function(jb,kb,Kb){var Ib=kb[1];kb=kb[2];return{x:jb.x-(pa-kb)*(Ma-1)+kb-Kb[2],y:jb.y+(Ib-wa)*(Ma-1)+Ib-Kb[1]}}}if(0<Ma){var hb=d.reduce(function(jb,kb){if(!jb)return jb;var Kb=kb.width*Ma,Ib=kb.height*Ma,nc={};if("text"===kb.type){nc=$g(kb,Kb,Ib);if(null===nc)return null;nc={fontSize:nc.size,baseline:nc.baseline}}var Sc=Jf(kb),Yc=$e(kb,Kb,Ib);Vh(kb,{newSize:{width:Kb,
height:Ib},simultaneouslyUpdated:d});var jd=fh(Xb(Xb({},kb),Yc),Kb,Ib);Sc=Ga(kb,Sc,jd);kb=Sc.x;Sc=Sc.y;return qj(qj([],jb),[Xb(Xb({width:Kb,height:Ib,x:kb,y:Sc},Yc),nc)])},[]);hb&&d.forEach(function(jb,kb){Gd(jb,hb[kb])})}},jk=function(d,h,m,A,P,W,wa){var pa=5*Math.PI/2+Math.atan2(A-wa,m-W);P&&(pa+=Pa.ay/2,pa-=pa%Pa.ay);h.forEach(function(Ba,Ma){var Ga,hb,jb=Jf(Ba);Ma=(jb[0]+jb[2])/2;jb=(jb[1]+jb[3])/2;var kb=null!==(Ga=null===(hb=d.originalElements.get(Ba.id))||void 0===hb?void 0:hb.angle)&&void 0!==
Ga?Ga:Ba.angle;Ga=Ue(Ma,jb,W,wa,pa+kb-Ba.angle);Gd(Ba,{x:Ba.x+(Ga[0]-Ma),y:Ba.y+(Ga[1]-jb),angle:mf(pa+kb)})})},Lh=function(d,h,m,A,P,W,wa,pa,Ba,Ma){var Ga;Ba&&(wa=(Ga=Lg(h,wa,W<A?-pa:pa)).width,0>(pa=Ga.height)&&(pa=-pa));h=P<m?m-wa:m;W=W<A?A-pa:A;Ma&&(h=m-(wa+=wa)/2,W=A-(pa+=pa)/2);0!==wa&&0!==pa&&Gd(d,{x:h,y:W,width:wa,height:pa})},kk=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},Xk=function(d){var h=Ig(d.text,Ch(d));Gd(d,{width:h.width,height:h.height,baseline:h.baseline})},
Ef=function(d,h){return!(d.viewModeEnabled||!d.editingElement&&!cf(h,d).length&&"selection"===d.elementType)},Fh=function(d){return d.filter(function(h){return h.isDeleted||!Sh(h)})},Gh=function(d){return d.reduce(function(h,m){return h[m.id]=m,h},{})},yl=function(d){return d.reduce(function(h,m){return h+m.version},0)},Rd=function(d){return d.filter(function(h){return!h.isDeleted})},wg=function(d){return Rd(d).map(function(h){return $h(h.type)?Cc(Cc({},h),{},{lastCommittedPoint:null}):h})},ql=function(d,
h,m){var A=[d.horizontal,d.vertical].map(function(P){return null!=P&&P.x<=h&&h<=P.x+P.width&&P.y<=m&&m<=P.y+P.height});d=A[0];A=A[1];return{isOverEither:d||A,isOverHorizontal:d,isOverVertical:A}},Eg=function(d,h){return d.some(function(m){return h.selectedElementIds[m.id]})},cf=function(d,h){return d.filter(function(m){return h.selectedElementIds[m.id]})},nj=function(d,h){return h.editingElement?[h.editingElement]:cf(d,h)},Bi=function(d){var h=d.scenePoint,m=d.viewportDimensions;d=d.zoom;return{scrollX:m.width/
2*(1/d.value)-h.x-1/d.value*d.translation.x,scrollY:m.height/2*(1/d.value)-h.y-1/d.value*d.translation.y}},mi=function(d,h,m){var A;if(!d.length)return{scrollX:0,scrollY:0};var P=Yf(d);m=P[0];var W=P[1],wa=P[2];P=P[3];return function(pa,Ba,Ma){Ba=Ma[2];var Ga=Ma[3],hb=rg({sceneX:Ma[0],sceneY:Ma[1]},pa);Ma=hb.x;hb=hb.y;Ba=rg({sceneX:Ba,sceneY:Ga},pa);Ga=Ba.y;return Ba.x-Ma>pa.width||Ga-hb>pa.height}(h,0,[m,W,wa,P])&&(m=(A=function(pa,Ba){if(!pa.length)return[0,0,0,0];var Ma=1/0,Ga=pa[0];return pa.forEach(function(hb){var jb=
yj(hb);jb=Math.hypot(Ba.x-(jb[0]+jb[2])/2,Ba.y-(jb[1]+jb[3])/2);jb<Ma&&(Ma=jb,Ga=hb)}),yj(Ga)}(d,Zf({clientX:h.scrollX,clientY:h.scrollY},h)))[0],W=A[1],wa=A[2],P=A[3]),Bi({scenePoint:{x:(m+wa)/2,y:(W+P)/2},viewportDimensions:{width:h.width,height:h.height},zoom:h.zoom})},Ij=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Bf=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},rj=function(d){return"rectangle"===
d||"arrow"===d||"draw"===d||"line"===d},yi=function(d,h){for(var m=null,A=d.length-1;0<=A;--A){var P=d[A];if(!P.isDeleted&&h(P)){m=P;break}}return m},qh=function(d,h,m,A){return void 0===A&&(A={x:0,y:0}),{value:d,translation:{x:A.x-m.left-d/h.value*(A.x-m.left-h.translation.x),y:A.y-m.top-d/h.value*(A.y-m.top-h.translation.y)}}},Nj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},Qe=(g(9478),R().forwardRef(function(d,h){var m=R().useRef(null);R().useImperativeHandle(h,function(){return m.current});
h="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?R().createElement("button",{className:Bc("ToolIcon_type_button",h,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:m},R().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&R().createElement("span",
{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&R().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):R().createElement("label",{className:Bc("ToolIcon",d.className),title:d.title},R().createElement("input",{className:"ToolIcon_type_radio ".concat(h),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:m}),R().createElement("div",
{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&R().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));Qe.defaultProps={visible:!0,className:""};var Fg=function(d){return"light"===d?Vd.$y[4]:Vd.$y[9]},de=function(d){return"light"===d?Vd.Sn:Vd.MA[4]},Wg=function(d){return"light"===d?Vd.ix:"#1e1e1e"},ae=function(d,h){void 0===h&&(h=512);h="number"==typeof h?{width:h}:h;var m=h.width;m=void 0===m?512:m;var A=h.height;A=void 0===A?m:A;var P=h.mirror;h=h.style;return R().createElement("svg",
{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(m," ").concat(A),className:Bc({"rtl-mirror":P}),style:h},"string"==typeof d?R().createElement("path",{fill:"currentColor",d}):d)},Yk=ae("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),he=ae("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Oj=ae("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),Gk=ae("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),$i=ae("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Fi=ae("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Pj=ae("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
Ki=ae("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Zi=ae("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),fd=ae("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Id=ae("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),hd=ae("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
kd=ae("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),ih=ae("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),Qf=ae("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),Jl=(ae("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),ae("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),ae(R().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),Rg=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,
null,R().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:de(d),stroke:de(d),strokeWidth:"2"}),R().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Yh=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,
null,R().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"}),R().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:de(d),stroke:de(d),strokeWidth:"2"})),{width:24,mirror:!0})}),sl=R().memo(function(d){d=d.appearance;
return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:de(d),stroke:de(d),strokeWidth:"2"}),R().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Rc=R().memo(function(d){d=d.appearance;
return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Fg(d),stroke:Fg(d),strokeLinejoin:"round",strokeWidth:"2"}),R().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:de(d),stroke:de(d),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),
vd=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 2,5 H 22",fill:de(d),stroke:de(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:Fg(d),
stroke:Fg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Mh=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 2,19 H 22",fill:de(d),stroke:de(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Vc=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 5,2 V 22",fill:de(d),stroke:de(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24})}),hl=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 19,2 V 22",fill:de(d),stroke:de(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24})}),Uf=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M5 5V19Z",fill:"black"}),R().createElement("path",{d:"M19 5V19M5 5V19",stroke:de(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24})}),Nh=R().memo(function(d){d=
d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M5 5L19 5M5 19H19",fill:de(d),stroke:de(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Fg(d),stroke:Fg(d),strokeWidth:"2"})),{width:24})}),rh=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"}),R().createElement("path",{d:"M 2,12 H 22",fill:de(d),stroke:de(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),aj=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:Fg(d),stroke:Fg(d),strokeWidth:"2"}),R().createElement("path",{d:"M 12,2 V 22",fill:de(d),stroke:de(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),oe=ae("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),sj=(ae("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ae("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ae("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),Qj=ae("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),xg=ae("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Ed=ae("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),If=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M25 26H111V111H25",
fill:de(d)}),R().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:de(d),strokeWidth:"2"}),R().createElement("path",{d:"M100 100H160V160H100",fill:de(d)}),R().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:de(d),strokeWidth:"2"}),R().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"}),R().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),
vi=R().memo(function(d){d=d.appearance;return ae(R().createElement(R().Fragment,null,R().createElement("path",{d:"M25 26H111V111H25",fill:de(d)}),R().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:de(d),strokeWidth:"2"}),R().createElement("path",{d:"M100 100H160V160H100",fill:de(d)}),R().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:de(d),strokeWidth:"2"}),
R().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"}),R().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"}),R().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",
fill:Wg(d),stroke:de(d),strokeWidth:"6"}),R().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Wg(d),stroke:de(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),tj=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:de(d)}),{width:40,height:20})}),Od=R().memo(function(d){d=d.appearance;return ae(R().createElement("g",{fill:de(d),fillRule:"evenodd",clipRule:"evenodd"},R().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),R().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),tl=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",{d:"M2 2H38V18H2V2Z",fill:de(d)}),{width:40,height:20})}),bg=R().memo(function(d){var h=d.appearance;d=d.strokeWidth;return ae(R().createElement("path",{d:"M6 10H34",stroke:de(h),strokeWidth:d,fill:"none"}),{width:40,height:20})}),Ih=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",{d:"M6 10H34",stroke:de(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Sl=R().memo(function(d){d=
d.appearance;return ae(R().createElement("path",{d:"M6 10H34",stroke:de(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),Ui=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",{d:"M6 10H34",stroke:de(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Ph=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:de(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),zl=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:de(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),mk=R().memo(function(d){d=
d.appearance;return ae(R().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:de(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),hh=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",
{d:"M10 17L10 5L35 5",stroke:de(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Zk=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:de(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Ck=R().memo(function(d){d=d.appearance;return ae(R().createElement("path",{d:"M6 10H34",stroke:de(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),mg=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&
d;return ae(R().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:de(h),strokeWidth:2,fill:"none"},R().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),R().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),jn=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&d;return ae(R().createElement("g",{stroke:de(h),fill:de(h),transform:d?"translate(40, 0) scale(-1, 1)":""},R().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),R().createElement("circle",
{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),$k=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&d;return ae(R().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},R().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:de(h),strokeWidth:2,fill:"none"})),{width:40,height:20})}),gg=[],Xd=function(d){return gg=gg.concat(d),d},vh=function(d,h){var m;return d.editingGroupId&&(h=Ie(Rd(h),d.editingGroupId),h.length)?Uc(Uc({},d),{},
{selectedElementIds:(m={},m[h[0].id]=!0,m)}):d},Al=Xd({name:"deleteSelectedElements",perform:function(d,h){if(h.editingLinearElement){var m=h.editingLinearElement,A=m.activePointIndex,P=m.startBindingElement,W=m.endBindingElement,wa=ag.getElement(m.elementId);if(!wa)return!1;if(null==A||-1===A||2>wa.points.length)return d=d.filter(function(pa){return pa.id!==wa.id}),{elements:d,appState:Uc(Uc({},vh(h,d)),{},{editingLinearElement:null}),commitToHistory:!1};m={startBindingElement:0===A?null:P,endBindingElement:A===
wa.points.length-1?null:W};return ag.movePoint(wa,A,"delete"),{elements:d,appState:Uc(Uc({},h),{},{editingLinearElement:Uc(Uc(Uc({},h.editingLinearElement),m),{},{activePointIndex:0<A?A-1:0})}),commitToHistory:!0}}m=function(pa,Ba){return{elements:pa.map(function(Ma){return Ba.selectedElementIds[Ma.id]?wf(Ma,{isDeleted:!0}):Ma}),appState:Uc(Uc({},Ba),{},{selectedElementIds:{}})}}(d,h);A=m.elements;m=m.appState;return li(A,d.filter(function(pa){return h.selectedElementIds[pa.id]})),{elements:A,appState:Uc(Uc({},
m=vh(m,A)),{},{elementType:"selection",multiElement:null}),commitToHistory:Eg(Rd(d),h)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{type:"button",icon:Fi,title:Jb("labels.delete"),"aria-label":Jb("labels.delete"),onClick:function(){return A(null)},visible:Eg(Rd(h),m)})}}),ze=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];
return d},Dk=function(d,h){for(var m=[],A=[],P=null,W=-1;++W<d.length;)h.selectedElementIds[d[W].id]?(A.length&&(m=m.concat(A),A=[]),m.push(W),P=W+1):d[W].isDeleted&&P===W?(P=W+1,A.push(W)):A=[];return m},yh=function(d,h,m,A){var P=h[m],W=function(wa){return!wa.isDeleted&&(!d.editingGroupId||wa.groupIds.includes(d.editingGroupId))};m="left"===A?function(wa,pa,Ba){void 0===Ba&&(Ba=wa.length-1);0>Ba&&(Ba=wa.length+Ba);for(Ba=Math.min(wa.length-1,Math.max(Ba,0))+1;-1<--Ba;)if(pa(wa[Ba],Ba,wa))return Ba;
return-1}(h,W,Math.max(0,m-1)):function(wa,pa,Ba){void 0===Ba&&(Ba=0);0>Ba&&(Ba=wa.length+Ba);for(Ba=Math.min(wa.length,Math.max(Ba,0))-1;++Ba<wa.length;)if(pa(wa[Ba],Ba,wa))return Ba;return-1}(h,W,m+1);W=h[m];if(!W)return-1;if(d.editingGroupId){if((null==P?void 0:P.groupIds.join(""))===(null==W?void 0:W.groupIds.join("")))return m;if(null==W||!W.groupIds.includes(d.editingGroupId))return-1}if(!W.groupIds.length)return m;P=d.editingGroupId?W.groupIds[W.groupIds.indexOf(d.editingGroupId)-1]:W.groupIds[W.groupIds.length-
1];P=Ie(h,P);return P.length?"left"===A?h.indexOf(P[0]):h.indexOf(P[P.length-1]):m},Of=function(d,h,m){var A,P=Dk(h,d),W=(A=0,P.reduce(function(wa,pa,Ba){return 0<Ba&&P[Ba-1]!==pa-1&&(A=++A),(wa[A]||(wa[A]=[])).push(pa),wa},[]));return"right"===m&&(W=W.reverse()),W.forEach(function(wa,pa){pa=wa[0];wa=wa[wa.length-1];var Ba="left"===m?pa:wa,Ma=yh(d,h,Ba,m);if(-1!==Ma&&Ba!==Ma){Ba="left"===m?h.slice(0,Ma):h.slice(0,pa);var Ga=h.slice(pa,wa+1);pa="left"===m?h.slice(Ma,pa):h.slice(wa+1,Ma+1);wa="left"===
m?h.slice(wa+1):h.slice(Ma+1);h=ze("left"===m?ze(ze(ze([],Ba),Ga),pa):ze(ze(ze([],Ba),pa),Ga),wa)}}),h},Gg=function(d,h,m){var A=Dk(d,h),P=[],W=[];if("left"===m){if(h.editingGroupId){if(!(h=Ie(d,h.editingGroupId)).length)return d;var wa=d.indexOf(h[0])}else wa=0;h=A[A.length-1]}else{if(h.editingGroupId){if(!(h=Ie(d,h.editingGroupId)).length)return d;h=d.indexOf(h[h.length-1])}else h=d.length-1;wa=A[0]}for(var pa=wa;pa<h+1;pa++)A.includes(pa)?P.push(d[pa]):W.push(d[pa]);A=d.slice(0,wa);d=d.slice(h+
1);return ze("left"===m?ze(ze(ze([],A),P),W):ze(ze(ze([],A),W),P),d)},Co=Xd({name:"sendBackward",perform:function(d,h){return{elements:Of(h,d.slice(),"left"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[we]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return h(null)},title:"".concat(Jb("labels.sendBackward"),
" — ").concat(sd("CtrlOrCmd+["))},R().createElement(Yh,{appearance:d.appearance}))}}),ni=Xd({name:"bringForward",perform:function(d,h){return{elements:Of(h,d.slice(),"right"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[we]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return h(null)},
title:"".concat(Jb("labels.bringForward")," — ").concat(sd("CtrlOrCmd+]"))},R().createElement(Rg,{appearance:d.appearance}))}}),f=Xd({name:"sendToBack",perform:function(d,h){return{elements:Gg(d,h,"left"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return yg?d[we]&&d.altKey&&"BracketLeft"===d.code:d[we]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return h(null)},title:"".concat(Jb("labels.sendToBack")," — ").concat(sd(yg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},R().createElement(Rc,{appearance:d.appearance}))}}),y=Xd({name:"bringToFront",perform:function(d,h){return{elements:Gg(d,h,"right"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return yg?d[we]&&d.altKey&&"BracketRight"===d.code:d[we]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var h=d.updateData;d=
d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(m){return h(null)},title:"".concat(Jb("labels.bringToFront")," — ").concat(sd(yg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},R().createElement(sl,{appearance:d.appearance}))}}),V=Xd({name:"selectAll",perform:function(d,h){return!h.editingLinearElement&&{appState:Zj(ad(ad({},h),{},{editingGroupId:null,selectedElementIds:d.reduce(function(m,A){return A.isDeleted||(m[A.id]=!0),m},{})}),Rd(d)),commitToHistory:!0}},
contextItemLabel:"labels.selectAll",keyTest:function(d){return d[we]&&"a"===d.key}}),U=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},ba=Xd({name:"duplicateSelection",perform:function(d,h){if(h.editingLinearElement){var m=h.editingLinearElement,A=m.activePointIndex;m=ag.getElement(m.elementId);if(!m||null===A)return!1;var P=m.points,W=P[A],wa=P[A+1];return Gd(m,{points:U(U(U([],P.slice(0,A+1)),[wa?[(W[0]+wa[0])/2,(W[1]+wa[1])/2]:[W[0]+30,W[1]+30]]),P.slice(A+1))}),
{appState:ue(ue({},h),{},{editingLinearElement:ue(ue({},h.editingLinearElement),{},{activePointIndex:A+1})}),elements:d,commitToHistory:!0}}return ue(ue({},Aa(d,h)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[we]&&"d"===d.key},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{type:"button",icon:xg,title:"".concat(Jb("labels.duplicateSelection")," — ").concat(sd("CtrlOrCmd+D")),"aria-label":Jb("labels.duplicateSelection"),
onClick:function(){return A(null)},visible:Eg(Rd(h),m)})}}),Aa=function(d,h){for(var m=new Map,A=[],P=[],W=new Map,wa=function(hb){var jb=Ii(h.editingGroupId,m,hb,{x:hb.x+Pa.k/2,y:hb.y+Pa.k/2});return W.set(hb.id,jb.id),P.push(hb),A.push(jb),jb},pa=[],Ba=0;Ba<d.length;){var Ma=d[Ba];if(h.selectedElementIds[Ma.id]){if(Ma.groupIds.length){var Ga=Di(h,Ma);if(Ga){Ma=Ie(d,Ga);pa.push.apply(pa,U(U([],Ma),Ma.map(function(hb){return wa(hb)})));Ba+=Ma.length;continue}}pa.push(Ma,wa(Ma))}else pa.push(Ma);Ba++}return cl(pa,
P,W),{elements:pa,appState:Zj(ue(ue({},h),{},{selectedGroupIds:{},selectedElementIds:A.reduce(function(hb,jb){return hb[jb.id]=!0,hb},{})}),Rd(pa))}},Ka=function(d){var h=d.options,m=d.value,A=d.onChange,P=d.group;return R().createElement("div",{className:"buttonList buttonListIcon"},h.map(function(W){return R().createElement("label",{key:W.text,className:Bc({active:m===W.value}),title:W.text},R().createElement("input",{type:"radio",name:P,onChange:function(){return A(W.value)},checked:m===W.value}),
W.icon)}))},La=function(d){var h=d.options,m=d.value,A=d.onChange,P=d.group;return R().createElement("div",{className:"buttonList"},h.map(function(W){return R().createElement("label",{key:W.text,className:Bc({active:m===W.value})},R().createElement("input",{type:"radio",name:P,onChange:function(){return A(W.value)},checked:m===W.value}),W.text)}))},eb=(g(2816),function(d){var h=d.children,m=d.left,A=d.top,P=d.onCloseRequest;d=d.fitInViewport;var W=void 0!==d&&d,wa=(0,Z.useRef)(null);return(0,Z.useLayoutEffect)(function(){if(W&&
wa.current){var pa=wa.current,Ba=pa.getBoundingClientRect(),Ma=Ba.y,Ga=Ba.width,hb=Ba.height,jb=window.innerWidth;Ba.x+Ga>jb&&(pa.style.left="".concat(jb-Ga,"px"));Ba=window.innerHeight;Ma+hb>Ba&&(pa.style.top="".concat(Ba-hb,"px"))}},[W]),(0,Z.useEffect)(function(){if(P){var pa=function(Ba){var Ma;null!==(Ma=wa.current)&&void 0!==Ma&&Ma.contains(Ba.target)||(0,Ug.unstable_batchedUpdates)(function(){return P(Ba)})};return document.addEventListener("pointerdown",pa,!1),function(){return document.removeEventListener("pointerdown",
pa,!1)}}},[P]),R().createElement("div",{className:"popover",style:{top:A,left:m},ref:wa},h)}),ub=(g(5574),function(d){var h=(new Option).style;return h.color=d,!!h.color}),wb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),cc=function(d){var h=d.colors,m=d.color,A=d.onChange,P=d.onClose,W=d.label,wa=d.showInput,pa=void 0===wa||wa;d=d.type;var Ba=R().useRef(),Ma=R().useRef(),Ga=R().useRef(),hb=R().useRef();R().useEffect(function(){Ma.current?Ma.current.focus():hb.current?
hb.current.focus():Ga.current&&Ga.current.focus()},[]);return R().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":Jb("labels.colorPicker"),onKeyDown:function(jb){if("Tab"===jb.key){var kb,Kb=document.activeElement;if(jb.shiftKey)Kb===Ba.current&&(null===(kb=hb.current)||void 0===kb||kb.focus(),jb.preventDefault());else if(Kb===hb.current){var Ib;null===(Ib=Ba.current)||void 0===Ib||Ib.focus();jb.preventDefault()}}else ci(jb.key)?
(Kb=document.activeElement,kb=Xe.rtl,-1!==(Ib=Array.prototype.indexOf.call(Ga.current.children,Kb))&&(Kb=Ga.current.children.length-(pa?1:0),Ga.current.children[jb.key===(kb?"ArrowLeft":"ArrowRight")?(Ib+1)%Kb:jb.key===(kb?"ArrowRight":"ArrowLeft")?(Kb+Ib-1)%Kb:"ArrowDown"===jb.key?(Ib+5)%Kb:"ArrowUp"===jb.key?(Kb+Ib-5)%Kb:Ib].focus()),jb.preventDefault()):wb.includes(jb.key.toLowerCase())&&!Bh(jb.target)?(Ib=wb.indexOf(jb.key.toLowerCase()),Ga.current.children[Ib].focus(),jb.preventDefault()):"Escape"!==
jb.key&&"Enter"!==jb.key||(jb.preventDefault(),P());jb.nativeEvent.stopImmediatePropagation()}},R().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),R().createElement("div",{className:"color-picker-triangle"}),R().createElement("div",{className:"color-picker-content",ref:function(jb){jb&&(Ga.current=jb)},tabIndex:0},h.map(function(jb,kb){return R().createElement("button",{className:"color-picker-swatch",onClick:function(Kb){Kb.currentTarget.focus();A(jb)},title:"".concat(jb,
" — ").concat(wb[kb].toUpperCase()),"aria-label":jb,"aria-keyshortcuts":wb[kb],style:{color:jb},key:jb,ref:function(Kb){Kb&&0===kb&&(Ba.current=Kb);Kb&&jb===m&&(Ma.current=Kb)},onFocus:function(){A(jb)}},"transparent"===jb?R().createElement("div",{className:"color-picker-transparent"}):void 0,R().createElement("span",{className:"color-picker-keybinding"},wb[kb]))}),pa&&R().createElement(ic,{color:m,label:W,onChange:function(jb){A(jb)},ref:hb})))},ic=R().forwardRef(function(d,h){var m=d.color,A=d.onChange;
d=d.label;var P=R().useState(m),W=P[0],wa=P[1],pa=R().useRef(null);R().useEffect(function(){wa(m)},[m]);R().useImperativeHandle(h,function(){return pa.current});var Ba=R().useCallback(function(Ma){Ma=Ma.toLowerCase();var Ga;(Ga="transparent"===Ma||ub(Ma)?Ma:ub("#".concat(Ma))?"#".concat(Ma):null)&&A(Ga);wa(Ma)},[A]);return R().createElement("label",{className:"color-input-container"},R().createElement("div",{className:"color-picker-hash"},"#"),R().createElement("input",{spellCheck:!1,className:"color-picker-input",
"aria-label":d,onChange:function(Ma){return Ba(Ma.target.value)},value:(W||"").replace(/^#/,""),onBlur:function(){return wa(m)},ref:pa}))}),jc=function(d){var h=d.type,m=d.color,A=d.onChange;d=d.label;var P=R().useState(!1),W=P[0],wa=P[1],pa=R().useRef(null);return R().createElement("div",null,R().createElement("div",{className:"color-picker-control-container"},R().createElement("button",{className:"color-picker-label-swatch","aria-label":d,style:m?{"--swatch-color":m}:void 0,onClick:function(){return wa(!W)},
ref:pa}),R().createElement(ic,{color:m,label:d,onChange:function(Ba){A(Ba)}})),R().createElement(R().Suspense,{fallback:""},W?R().createElement(eb,{onCloseRequest:function(Ba){return Ba.target!==pa.current&&wa(!1)}},R().createElement(cc,{colors:qg[h],color:m||null,onChange:function(Ba){A(Ba)},onClose:function(){var Ba;wa(!1);null===(Ba=pa.current)||void 0===Ba||Ba.focus()},label:d,showInput:!1,type:h})):null))},Mc=g(6950),Ad=g.n(Mc);g(7143);var Zd=function(d,h,m){return d.map(function(A){var P;return h.selectedElementIds[A.id]||
A.id===(null===(P=h.editingElement)||void 0===P?void 0:P.id)?m(A):A})},Tf=function(d,h,m,A){var P,W,wa=h.editingElement;d=Rd(d);return null!==(P=null!==(W=wa&&m(wa))&&void 0!==W?W:Eg(d,h)?function(pa,Ba,Ma){pa=Array.from(new Set(cf(pa,Ba).map(function(Ga){return Ma(Ga)})));return 1===pa.length?pa[0]:null}(d,h,m):A)&&void 0!==P?P:null},ie=(Xd({name:"changeStrokeColor",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return wf(A,{strokeColor:m})}),appState:ce(ce({},h),{},{currentItemStrokeColor:m}),
commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState;d=d.updateData;return R().createElement(R().Fragment,null,R().createElement("h3",{"aria-hidden":"true"},Jb("labels.stroke")),R().createElement(jc,{type:"elementStroke",label:Jb("labels.stroke"),color:Tf(h,m,function(A){return A.strokeColor},m.currentItemStrokeColor),onChange:d}))}}),Xd({name:"changeBackgroundColor",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return wf(A,{backgroundColor:m})}),appState:ce(ce({},
h),{},{currentItemBackgroundColor:m}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState;d=d.updateData;return R().createElement(R().Fragment,null,R().createElement("h3",{"aria-hidden":"true"},Jb("labels.background")),R().createElement(jc,{type:"elementBackground",label:Jb("labels.background"),color:Tf(h,m,function(A){return A.backgroundColor},m.currentItemBackgroundColor),onChange:d}))}}),Xd({name:"changeFillStyle",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return wf(A,
{fillStyle:m})}),appState:ce(ce({},h),{},{currentItemFillStyle:m}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.fill")),R().createElement(Ka,{options:[{value:"hachure",text:Jb("labels.hachure"),icon:R().createElement(tj,{appearance:m.appearance})},{value:"cross-hatch",text:Jb("labels.crossHatch"),icon:R().createElement(Od,{appearance:m.appearance})},{value:"solid",text:Jb("labels.solid"),
icon:R().createElement(tl,{appearance:m.appearance})}],group:"fill",value:Tf(h,m,function(P){return P.fillStyle},m.currentItemFillStyle),onChange:function(P){A(P)}}))}}),Xd({name:"changeStrokeWidth",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return wf(A,{strokeWidth:m})}),appState:ce(ce({},h),{},{currentItemStrokeWidth:m}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",
null,Jb("labels.strokeWidth")),R().createElement(Ka,{group:"stroke-width",options:[{value:1,text:Jb("labels.thin"),icon:R().createElement(bg,{appearance:m.appearance,strokeWidth:2})},{value:2,text:Jb("labels.bold"),icon:R().createElement(bg,{appearance:m.appearance,strokeWidth:6})},{value:4,text:Jb("labels.extraBold"),icon:R().createElement(bg,{appearance:m.appearance,strokeWidth:10})}],value:Tf(h,m,function(P){return P.strokeWidth},m.currentItemStrokeWidth),onChange:function(P){return A(P)}}))}}),
Xd({name:"changeSloppiness",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return wf(A,{seed:pf(),roughness:m})}),appState:ce(ce({},h),{},{currentItemRoughness:m}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.sloppiness")),R().createElement(Ka,{group:"sloppiness",options:[{value:0,text:Jb("labels.architect"),icon:R().createElement(Ph,{appearance:m.appearance})},
{value:1,text:Jb("labels.artist"),icon:R().createElement(zl,{appearance:m.appearance})},{value:2,text:Jb("labels.cartoonist"),icon:R().createElement(mk,{appearance:m.appearance})}],value:Tf(h,m,function(P){return P.roughness},m.currentItemRoughness),onChange:function(P){return A(P)}}))}}),Xd({name:"changeStrokeStyle",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return wf(A,{strokeStyle:m})}),appState:ce(ce({},h),{},{currentItemStrokeStyle:m}),commitToHistory:!0}},PanelComponent:function(d){var h=
d.elements,m=d.appState,A=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.strokeStyle")),R().createElement(Ka,{group:"strokeStyle",options:[{value:"solid",text:Jb("labels.strokeStyle_solid"),icon:R().createElement(Ih,{appearance:m.appearance})},{value:"dashed",text:Jb("labels.strokeStyle_dashed"),icon:R().createElement(Sl,{appearance:m.appearance})},{value:"dotted",text:Jb("labels.strokeStyle_dotted"),icon:R().createElement(Ui,{appearance:m.appearance})}],
value:Tf(h,m,function(P){return P.strokeStyle},m.currentItemStrokeStyle),onChange:function(P){return A(P)}}))}}),Xd({name:"changeOpacity",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return wf(A,{opacity:m})}),appState:ce(ce({},h),{},{currentItemOpacity:m}),commitToHistory:!0}},PanelComponent:function(d){var h,m=d.elements,A=d.appState,P=d.updateData;return R().createElement("label",{className:"control-label"},Jb("labels.opacity"),R().createElement("input",{type:"range",min:"0",max:"100",
step:"10",onChange:function(W){return P(+W.target.value)},onWheel:function(W){W.stopPropagation();var wa=+W.target.value;0>W.deltaY&&100>wa?P(wa+10):0<W.deltaY&&0<wa&&P(wa-10)},value:null!==(h=Tf(m,A,function(W){return W.opacity},A.currentItemOpacity))&&void 0!==h?h:void 0}))}}),Xd({name:"changeFontSize",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return og(A)?(A=wf(A,{fontSize:m}),Xk(A),A):A}),appState:ce(ce({},h),{},{currentItemFontSize:m}),commitToHistory:!0}},PanelComponent:function(d){var h=
d.elements,m=d.appState,A=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.fontSize")),R().createElement(La,{group:"font-size",options:[{value:16,text:Jb("labels.small")},{value:20,text:Jb("labels.medium")},{value:28,text:Jb("labels.large")},{value:36,text:Jb("labels.veryLarge")}],value:Tf(h,m,function(P){return og(P)&&P.fontSize},m.currentItemFontSize||Pa.n5),onChange:function(P){return A(P)}}))}}),Xd({name:"changeFontFamily",perform:function(d,h,m){return{elements:Zd(d,
h,function(A){return og(A)?(A=wf(A,{fontFamily:m}),Xk(A),A):A}),appState:ce(ce({},h),{},{currentItemFontFamily:m}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;d=[{value:1,text:Jb("labels.handDrawn")},{value:2,text:Jb("labels.normal")},{value:3,text:Jb("labels.code")}];return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.fontFamily")),R().createElement(La,{group:"font-family",options:d,value:Tf(h,m,function(P){return og(P)&&
P.fontFamily},m.currentItemFontFamily||Pa.rk),onChange:function(P){return A(P)}}))}}),Xd({name:"changeTextAlign",perform:function(d,h,m){return{elements:Zd(d,h,function(A){return og(A)?(A=wf(A,{textAlign:m}),Xk(A),A):A}),appState:ce(ce({},h),{},{currentItemTextAlign:m}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.textAlign")),R().createElement(La,{group:"text-align",
options:[{value:"left",text:Jb("labels.left")},{value:"center",text:Jb("labels.center")},{value:"right",text:Jb("labels.right")}],value:Tf(h,m,function(P){return og(P)&&P.textAlign},m.currentItemTextAlign),onChange:function(P){return A(P)}}))}}),Xd({name:"changeSharpness",perform:function(d,h,m){var A=nj(Rd(d),h),P=A.length?A.every(function(W){return!pg(W)}):!$h(h.elementType);A=A.length?A.every(pg):$h(h.elementType);return{elements:Zd(d,h,function(W){return wf(W,{strokeSharpness:m})}),appState:ce(ce({},
h),{},{currentItemStrokeSharpness:P?m:h.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:A?m:h.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.edges")),R().createElement(Ka,{group:"edges",options:[{value:"sharp",text:Jb("labels.sharp"),icon:R().createElement(hh,{appearance:m.appearance})},{value:"round",text:Jb("labels.round"),
icon:R().createElement(Zk,{appearance:m.appearance})}],value:Tf(h,m,function(P){return P.strokeSharpness},rj(m.elementType)&&($h(m.elementType)?m.currentItemLinearStrokeSharpness:m.currentItemStrokeSharpness)||null),onChange:function(P){return A(P)}}))}}),Xd({name:"changeArrowhead",perform:function(d,h,m){var A;return{elements:Zd(d,h,function(P){if(pg(P)){var W=m.position,wa=m.type;if("start"===W)return wf(P,{startArrowhead:wa});if("end"===W)return wf(P,{endArrowhead:wa})}return P}),appState:ce(ce({},
h),{},(A={},A["start"===m.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=m.type,A)),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;d=Xe.rtl;return R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.arrowheads")),R().createElement("div",{className:"iconSelectList"},R().createElement(dd,{label:"arrowhead_start",options:[{value:null,text:Jb("labels.arrowhead_none"),icon:R().createElement(Ck,{appearance:m.appearance}),
keyBinding:"q"},{value:"arrow",text:Jb("labels.arrowhead_arrow"),icon:R().createElement(mg,{appearance:m.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:Jb("labels.arrowhead_bar"),icon:R().createElement($k,{appearance:m.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:Jb("labels.arrowhead_dot"),icon:R().createElement(jn,{appearance:m.appearance,flip:!d}),keyBinding:"r"}],value:Tf(h,m,function(P){return pg(P)&&"arrow"===P.type?P.startArrowhead:m.currentItemStartArrowhead},m.currentItemStartArrowhead),
onChange:function(P){return A({position:"start",type:P})}}),R().createElement(dd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Jb("labels.arrowhead_none"),keyBinding:"q",icon:R().createElement(Ck,{appearance:m.appearance})},{value:"arrow",text:Jb("labels.arrowhead_arrow"),keyBinding:"w",icon:R().createElement(mg,{appearance:m.appearance,flip:d})},{value:"bar",text:Jb("labels.arrowhead_bar"),keyBinding:"e",icon:R().createElement($k,{appearance:m.appearance,flip:d})},{value:"dot",
text:Jb("labels.arrowhead_dot"),keyBinding:"r",icon:R().createElement(jn,{appearance:m.appearance,flip:d})}],value:Tf(h,m,function(P){return pg(P)&&"arrow"===P.type?P.endArrowhead:m.currentItemEndArrowhead},m.currentItemEndArrowhead),onChange:function(P){return A({position:"end",type:P})}})))}}),g(2189)),gf=g.n(ie),Me=R().createContext(!1),eg=function(){return window.matchMedia?window.matchMedia(gf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},Vf=function(d){d=
d.children;var h=(0,Z.useRef)();h.current||(h.current=eg());var m=(0,Z.useState)(h.current.matches),A=m[0],P=m[1];return(0,Z.useEffect)(function(){var W=function(){return P(h.current.matches)};return h.current.addListener(W),function(){return h.current.removeListener(W)}},[]),R().createElement(Me.Provider,{value:A},d)};Xd({name:"changeViewBackgroundColor",perform:function(d,h,m){return{appState:ye(ye({},h),{},{viewBackgroundColor:m}),commitToHistory:!0}},PanelComponent:function(d){var h=d.appState,
m=d.updateData;return R().createElement("div",{style:{position:"relative"}},R().createElement(jc,{label:Jb("labels.canvasBackground"),type:"canvasBackground",color:h.viewBackgroundColor,onChange:function(A){return m(A)}}))}});Xd({name:"clearCanvas",perform:function(d,h){return{elements:d.map(function(m){return wf(m,{isDeleted:!0})}),appState:ye(ye({},uh()),{},{appearance:h.appearance,elementLocked:h.elementLocked,exportBackground:h.exportBackground,exportEmbedScene:h.exportEmbedScene,gridSize:h.gridSize,
shouldAddWatermark:h.shouldAddWatermark,showStats:h.showStats,pasteDialog:h.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:Fi,title:Jb("buttons.clearReset"),"aria-label":Jb("buttons.clearReset"),showAriaLabel:Ce(),onClick:function(){window.confirm(Jb("alerts.clearReset"))&&h(null)}})}});Xd({name:"zoomIn",perform:function(d,h){d=qh(Nj(h.zoom.value+Pa.V4),h.zoom,{left:h.offsetLeft,top:h.offsetTop},{x:h.width/2,y:h.height/
2});return{appState:ye(ye({},h),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:Zi,title:"".concat(Jb("buttons.zoomIn")," — ").concat(sd("CtrlOrCmd++")),"aria-label":Jb("buttons.zoomIn"),onClick:function(){h(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[we]||d.shiftKey)}});Xd({name:"zoomOut",perform:function(d,h){d=qh(Nj(h.zoom.value-Pa.V4),h.zoom,{left:h.offsetLeft,top:h.offsetTop},
{x:h.width/2,y:h.height/2});return{appState:ye(ye({},h),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:fd,title:"".concat(Jb("buttons.zoomOut")," — ").concat(sd("CtrlOrCmd+-")),"aria-label":Jb("buttons.zoomOut"),onClick:function(){h(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===d.code)&&(d[we]||d.shiftKey)}});Xd({name:"resetZoom",perform:function(d,h){return{appState:ye(ye({},h),{},{zoom:qh(1,
h.zoom,{left:h.offsetLeft,top:h.offsetTop},{x:h.width/2,y:h.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:Jl,title:Jb("buttons.resetZoom"),"aria-label":Jb("buttons.resetZoom"),onClick:function(){h(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[we]||d.shiftKey)}});var He=function(d,h,m){d=Rd(d);var A=cf(d,h);A=m&&0<A.length?Yf(A):Yf(d);m=qh(Math.min(Math.max(Math.floor(Math.min(h.width/
(A[2]-A[0]),h.height/(A[3]-A[1]))/Pa.V4)*Pa.V4,Pa.V4),1),h.zoom,{left:h.offsetLeft,top:h.offsetTop});d=(A[0]+A[2])/2;A=(A[1]+A[3])/2;return{appState:ye(ye(ye({},h),Bi({scenePoint:{x:d,y:A},viewportDimensions:{width:h.width,height:h.height},zoom:m})),{},{zoom:m}),commitToHistory:!1}};Xd({name:"zoomToSelection",perform:function(d,h){return He(d,h,!0)},keyTest:function(d){return"Digit2"===d.code&&d.shiftKey&&!d.altKey&&!d[we]}});Xd({name:"zoomToFit",perform:function(d,h){return He(d,h,!1)},keyTest:function(d){return"Digit1"===
d.code&&d.shiftKey&&!d.altKey&&!d[we]}});var of,Re,Pf=Xd({name:"finalize",perform:function(d,h,m,A){var P,W;m=A.canvas;if(h.editingLinearElement){A=h.editingLinearElement;var wa=A.startBindingElement,pa=A.endBindingElement,Ba=ag.getElement(A.elementId);if(Ba)return zf(Ba)&&Gf(Ba,wa,pa),{elements:2>Ba.points.length||Sh(Ba)?d.filter(function(hb){return hb.id!==Ba.id}):void 0,appState:Cf(Cf({},h),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&
window.document.activeElement.blur();if(A=h.multiElement?h.multiElement:"draw"===(null===(W=h.editingElement)||void 0===W?void 0:W.type)?h.editingElement:null){"draw"!==A.type&&"touch"!==h.lastPointerDownWith&&(W=A.points,(wa=A.lastCommittedPoint)&&W[W.length-1]===wa||Gd(A,{points:A.points.slice(0,-1)}));Sh(A)&&(d=d.slice(0,-1));W=bj(A.points,h.zoom.value);if(("line"===A.type||"draw"===A.type)&&W){var Ma=A.points,Ga=Ma[0];Gd(A,{points:Ma.map(function(hb,jb){return jb===Ma.length-1?[Ga[0],Ga[1]]:hb})})}zf(A)&&
!W&&1<A.points.length&&(wa=ag.getPointAtIndexGlobalCoordinates(A,-1),W=wa[0],wa=wa[1],Hj(A,h,Kg.getScene(A),{x:W,y:wa}));h.elementLocked||"draw"===h.elementType||(h.selectedElementIds[A.id]=!0)}return(h.elementLocked||"draw"===h.elementType)&&A||Rh(m),{elements:d,appState:Cf(Cf({},h),{},{elementType:(h.elementLocked||"draw"===h.elementType)&&A?h.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:A&&!h.elementLocked&&
"draw"!==h.elementType?Cf(Cf({},h.selectedElementIds),{},(P={},P[A.id]=!0,P)):h.selectedElementIds}),commitToHistory:"draw"===h.elementType}},keyTest:function(d,h){return"Escape"===d.key&&(null!==h.editingLinearElement||!h.draggingElement&&null===h.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==h.multiElement},PanelComponent:function(d){var h=d.appState;d=d.updateData;return R().createElement(Qe,{type:"button",icon:Id,title:Jb("buttons.done"),"aria-label":Jb("buttons.done"),onClick:d,
visible:null!=h.multiElement})}}),dh="undefined"!=typeof v&&null!==(of=v.env)&&void 0!==of&&of.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,h,m,A){window.gtag("event",h,{event_category:d,event_label:m,value:A})}:("undefined"!=typeof v&&null!==(Re=v.env)&&void 0!==Re&&Re.JEST_WORKER_ID,function(d,h,m,A){}),Dh=(g(8518),function(){var d=function(h,m){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,P){A.__proto__=P}||function(A,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,
W)&&(A[W]=P[W])})(h,m)};return function(h,m){function A(){this.constructor=h}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(h,m);h.prototype=null===m?Object.create(m):(A.prototype=m.prototype,new A)}}()),Oh=function(d){function h(){for(var m=[],A=0;A<arguments.length;A++)m[A]=arguments[A];var P,W;A=this;return A=d.apply(this,m)||this,P=W=A,A.handleFocus=function(wa){wa=wa.currentTarget;var pa=window.getSelection();if(pa){var Ba=
document.createRange();Ba.selectNodeContents(wa);pa.removeAllRanges();pa.addRange(Ba)}},A.handleBlur=function(wa){wa=wa.currentTarget.innerText.trim();wa!==W.props.value&&W.props.onChange(wa);(wa=window.getSelection())&&wa.removeAllRanges()},A.handleKeyDown=function(wa){"Enter"!==wa.key||(wa.preventDefault(),wa.nativeEvent.isComposing||229===wa.keyCode)||wa.currentTarget.blur()},A.makeEditable=function(wa){if(wa)try{wa.contentEditable="plaintext-only"}catch(pa){wa.contentEditable="true"}},P}return Dh(h,
d),h.prototype.render=function(){return R().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},h}(Z.Component),Rj=(g(2680),function(d){var h=d.children,m=d.label,A=d.position;A=void 0===A?"below":A;d=d.long;d=void 0!==d&&d;return R().createElement("div",{className:"Tooltip"},R().createElement("span",
{className:"above"===A?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},m),h)}),Ak=function(d){var h=d.title?d.title:"dark"===d.value?Jb("buttons.lightMode"):Jb("buttons.darkMode");return R().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:h},R().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(m){return d.onChange(m.target.checked?
"dark":"light")},checked:"dark"===d.value,"aria-label":h}),R().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?Ql.MOON:Ql.SUN))},Ql={SUN:R().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:R().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const km="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",mm=km?"chooseFileSystemEntries"===km?g.e(736).then(g.bind(g,9012)):g.e(736).then(g.bind(g,499)):g.e(736).then(g.bind(g,5034));km?"chooseFileSystemEntries"===km?g.e(736).then(g.bind(g,6980)):g.e(736).then(g.bind(g,868)):g.e(736).then(g.bind(g,3110));const Ze=km?"chooseFileSystemEntries"===km?g.e(736).then(g.bind(g,1170)):g.e(736).then(g.bind(g,7814)):g.e(736).then(g.bind(g,4001));var Ok,Gi=function(d,h){if(null!=h&&h.collaborators&&
(h=h.collaborators.get(d),null!=h&&h.color))return h.color;d=d.split("").reduce(function(A,P){return A+P.charCodeAt(0)},0);h=qg.elementBackground.slice(1);var m=qg.elementStroke.slice(1);return{background:h[d%h.length],stroke:m[d%m.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(Ok||(Ok={}));var ym=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),al=function(d,h,m,A,P,W,wa,pa,Ba){void 0===Ba&&(Ba=!1);d.translate(W,wa);d.rotate(pa);Ba&&d.fillRect(h-W,m-wa,A,P);d.strokeRect(h-W,m-wa,A,P);d.rotate(-pa);d.translate(-W,-wa)},zm=function(d,h,m,A){d.beginPath();d.arc(h,m,A,0,2*Math.PI);d.fill();d.stroke()},an=function(d,h,m,A,P,W,wa,pa){var Ba=void 0===pa?{}:pa;pa=Ba.renderScrollbars;pa=void 0===pa||pa;var Ma=Ba.renderSelection,Ga=void 0===Ma||Ma;Ma=Ba.renderOptimizations;var hb=void 0!==Ma&&Ma;Ba=Ba.renderGrid;var jb=void 0===
Ba||Ba;if(!W)return{atLeastOneVisibleElement:!1};var kb=W.getContext("2d");kb.scale(A,A);var Kb=W.width/A,Ib=W.height/A;(wa.exportWithDarkMode&&(kb.filter=Pa.Gi),"string"==typeof wa.viewBackgroundColor)?(("transparent"===wa.viewBackgroundColor||5===wa.viewBackgroundColor.length||9===wa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(wa.viewBackgroundColor))&&kb.clearRect(0,0,Kb,Ib),Ba=kb.fillStyle,kb.fillStyle=wa.viewBackgroundColor,kb.fillRect(0,0,Kb,Ib),kb.fillStyle=Ba):kb.clearRect(0,0,Kb,Ib);
Ba=wa.zoom.translation.x;Ma=wa.zoom.translation.y;kb.translate(Ba,Ma);kb.scale(wa.zoom.value,wa.zoom.value);jb&&h.gridSize&&function(md,Hd,Wd,Ae,wh,Wh){var oj=md.strokeStyle;md.strokeStyle="rgba(0,0,0,0.1)";md.beginPath();for(var Ji=Wd;Ji<Wd+wh+2*Hd;Ji+=Hd)md.moveTo(Ji,Ae-Hd),md.lineTo(Ji,Ae+Wh+2*Hd);for(Ji=Ae;Ji<Ae+Wh+2*Hd;Ji+=Hd)md.moveTo(Wd-Hd,Ji),md.lineTo(Wd+wh+2*Hd,Ji);md.stroke();md.strokeStyle=oj}(kb,h.gridSize,-Math.ceil(Ba/wa.zoom.value/h.gridSize)*h.gridSize+wa.scrollX%h.gridSize,-Math.ceil(Ma/
wa.zoom.value/h.gridSize)*h.gridSize+wa.scrollY%h.gridSize,Kb/wa.zoom.value,Ib/wa.zoom.value);W=d.filter(function(md){var Hd={zoom:wa.zoom,offsetLeft:h.offsetLeft,offsetTop:h.offsetTop,scrollX:wa.scrollX,scrollY:wa.scrollY},Wd=yj(md);md=Wd[0];var Ae=Wd[1],wh=Wd[2];Wd=Wd[3];var Wh=Zf({clientX:Hd.offsetLeft,clientY:Hd.offsetTop},Hd);Hd=Zf({clientX:Hd.offsetLeft+Kb,clientY:Hd.offsetTop+Ib},Hd);return Wh.x<=wh&&Wh.y<=Wd&&Hd.x>=md&&Hd.y>=Ae});(W.forEach(function(md){Fm(md,P,kb,hb,wa)}),h.editingLinearElement)&&
(jb=ag.getElement(h.editingLinearElement.elementId))&&function(md,Hd,Wd,Ae){md.translate(Wd.scrollX,Wd.scrollY);var wh=md.strokeStyle,Wh=md.lineWidth;md.lineWidth=1/Wd.zoom.value;ag.getPointsGlobalCoordinates(Ae).forEach(function(oj,Ji){var Cl;md.strokeStyle="red";md.setLineDash([]);md.fillStyle=(null===(Cl=Hd.editingLinearElement)||void 0===Cl?void 0:Cl.activePointIndex)===Ji?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";zm(md,oj[0],oj[1],ag.POINT_HANDLE_SIZE/2/Wd.zoom.value)});md.setLineDash([]);
md.lineWidth=Wh;md.translate(-Wd.scrollX,-Wd.scrollY);md.strokeStyle=wh}(kb,h,wa,jb);if(m&&Fm(m,P,kb,hb,wa),h.isBindingEnabled&&h.suggestedBindings.filter(function(md){return null!=md}).forEach(function(md){var Hd=kb.strokeStyle,Wd=kb.lineWidth,Ae=Array.isArray(md)?Li:Kl;kb.translate(wa.scrollX,wa.scrollY);Ae(kb,md);kb.strokeStyle=Hd;kb.lineWidth=Wd;kb.translate(-wa.scrollX,-wa.scrollY)}),Ga&&!h.multiElement&&!h.editingLinearElement){var nc=d.reduce(function(md,Hd){var Wd=[];if(h.selectedElementIds[Hd.id]&&
null==Di(h,Hd)&&Wd.push(Vd.Sn),wa.remoteSelectedElementIds[Hd.id]&&Wd.push.apply(Wd,wa.remoteSelectedElementIds[Hd.id].map(function(wh){return Gi(wh,h).background})),Wd.length){var Ae=Jf(Hd);md.push({angle:Hd.angle,elementX1:Ae[0],elementY1:Ae[1],elementX2:Ae[2],elementY2:Ae[3],selectionColors:Wd})}return md},[]);m=function(md){md=Ie(d,md);md=Yf(md);nc.push({angle:0,elementX1:md[0],elementX2:md[2],elementY1:md[1],elementY2:md[3],selectionColors:[Vd.Sn]})};Ga=0;for(jb=Si(h);Ga<jb.length;Ga++)m(jb[Ga]);
h.editingGroupId&&m(h.editingGroupId);nc.forEach(function(md){var Hd=md.angle,Wd=md.elementX1,Ae=md.elementY1,wh=md.selectionColors,Wh=md.elementX2-Wd;md=md.elementY2-Ae;var oj=kb.getLineDash(),Ji=kb.lineWidth,Cl=kb.lineDashOffset,kn=kb.strokeStyle,Tl=4/wa.zoom.value,ln=8/wa.zoom.value,Nm=4/wa.zoom.value;kb.lineWidth=1/wa.zoom.value;kb.translate(wa.scrollX,wa.scrollY);for(var Yn=wh.length,Mm=0;Mm<Yn;++Mm)kb.strokeStyle=wh[Mm],kb.setLineDash([ln,Nm+(ln+Nm)*(Yn-1)]),kb.lineDashOffset=(ln+Nm)*Mm,al(kb,
Wd-Tl,Ae-Tl,Wh+2*Tl,md+2*Tl,Wd+Wh/2,Ae+md/2,Hd);kb.lineDashOffset=Cl;kb.strokeStyle=kn;kb.lineWidth=Ji;kb.setLineDash(oj);kb.translate(-wa.scrollX,-wa.scrollY)});Ga=cf(d,h);if(kb.translate(wa.scrollX,wa.scrollY),1===Ga.length)kb.fillStyle=Vd.ix,m=gj(Ga[0],wa.zoom,"mouse"),h.viewModeEnabled||nk(kb,wa,m,Ga[0].angle);else if(1<Ga.length&&!h.isRotating){m=4/wa.zoom.value;kb.fillStyle=Vd.ix;var Sc=Yf(Ga);Ga=Sc[0];jb=Sc[1];var Yc=Sc[2];Sc=Sc[3];var jd=kb.getLineDash();kb.setLineDash([2/wa.zoom.value]);
var le=kb.lineWidth;kb.lineWidth=1/wa.zoom.value;al(kb,Ga-m,jb-m,Yc-Ga+2*m,Sc-jb+2*m,(Ga+Yc)/2,(jb+Sc)/2,0);kb.lineWidth=le;kb.setLineDash(jd);m=tk([Ga,jb,Yc,Sc],0,wa.zoom,"mouse",xl);nk(kb,wa,m,0)}kb.translate(-wa.scrollX,-wa.scrollY)}for(var je in kb.scale(1/wa.zoom.value,1/wa.zoom.value),kb.translate(-Ba,-Ma),wa.remotePointerViewportCoords){Ba=wa.remotePointerViewportCoords[je];Yc=Ba.x;Sc=Ba.y;Yc-=h.offsetLeft;Sc-=h.offsetTop;jd=0>Yc||Yc>Kb-9||0>Sc||Sc>Ib-14;Yc=Math.max(Yc,0);Yc=Math.min(Yc,Kb-
9);Sc=Math.max(Sc,0);Sc=Math.min(Sc,Ib-14);Ba=Gi(je,h);Ma=Ba.background;m=Ba.stroke;Ga=kb.strokeStyle;jb=(Ba=kb.fillStyle,kb.globalAlpha);kb.strokeStyle=m;kb.fillStyle=Ma;le=wa.remotePointerUserStates[je];(jd||le===Ok.AWAY)&&(kb.globalAlpha=.48);wa.remotePointerButton&&"down"===wa.remotePointerButton[je]&&(kb.beginPath(),kb.arc(Yc,Sc,15,0,2*Math.PI,!1),kb.lineWidth=3,kb.strokeStyle="#ffffff88",kb.stroke(),kb.closePath(),kb.beginPath(),kb.arc(Yc,Sc,15,0,2*Math.PI,!1),kb.lineWidth=1,kb.strokeStyle=
m,kb.stroke(),kb.closePath());kb.beginPath();kb.moveTo(Yc,Sc);kb.lineTo(Yc+1,Sc+14);kb.lineTo(Yc+4,Sc+9);kb.lineTo(Yc+9,Sc+10);kb.lineTo(Yc,Sc);kb.fill();kb.stroke();var xe=wa.remotePointerUsernames[je],pe="";le===Ok.AWAY?pe=ym?"⚫️":" (".concat(Ok.AWAY,")"):le===Ok.IDLE?pe=ym?"\ud83d\udca4":" (".concat(Ok.IDLE,")"):le===Ok.ACTIVE&&(pe=ym?"\ud83d\udfe2":"");le="".concat(xe?"".concat(xe," "):"").concat(pe);!jd&&le&&(Yc+=9,Sc+=14,jd=kb.measureText(le),xe=jd.actualBoundingBoxDescent+jd.actualBoundingBoxAscent,
kb.fillStyle=m,kb.fillRect(Yc-1,Sc-1,jd.width+8+2,xe+8+2),kb.fillStyle=Ma,kb.fillRect(Yc,Sc,jd.width+8,xe+8),kb.fillStyle=Vd.ix,kb.fillText(le,Yc+4,Sc+4+jd.actualBoundingBoxAscent));kb.strokeStyle=Ga;kb.fillStyle=Ba;kb.globalAlpha=jb;kb.closePath()}if(pa){var Oe=function(md,Hd,Wd,Ae){var wh=Ae.scrollX,Wh=Ae.scrollY,oj=Ae.zoom;if(0===md.length)return{horizontal:null,vertical:null};Ae=Yf(md);var Ji=Ae[0],Cl=Ae[1];md=Ae[2];Ae=Ae[3];var kn=Hd/oj.value,Tl=Wd/oj.value,ln=Hd-kn,Nm=Wd-Tl;oj=parseInt(ej("sat"));
var Yn=parseInt(ej("sab")),Mm=parseInt(ej("sal")),Ur=parseInt(ej("sar")),Mt=Xe.rtl;wh=ln/2-wh+Mm;Wh=Nm/2-Wh+oj;kn=wh+kn-Ur;Tl=Wh+Tl-Yn;Ji=Math.min(Ji,wh);Cl=Math.min(Cl,Wh);md=Math.max(md,kn);Ae=Math.max(Ae,Tl);return{horizontal:wh===Ji&&kn===md?null:{x:Math.max(Mm,4)+(wh-Ji)/(md-Ji)*Hd,y:Wd-6-Math.max(4,Yn),width:(kn-wh)/(md-Ji)*Hd-Math.max(8,Mm+Ur),height:6},vertical:Wh===Cl&&Tl===Ae?null:{x:Mt?Math.max(Mm,4):Hd-6-Math.max(Ur,4),y:(Wh-Cl)/(Ae-Cl)*Wd+Math.max(oj,4),width:6,height:(Tl-Wh)/(Ae-Cl)*
Wd-Math.max(8,oj+Yn)}}}(d,Kb,Ib,wa);Ba=kb.fillStyle;Ga=kb.strokeStyle;kb.fillStyle="rgba(0,0,0,0.3)";kb.strokeStyle="rgba(255,255,255,0.8)";[Oe.horizontal,Oe.vertical].forEach(function(md){if(md){var Hd=md.x,Wd=md.y,Ae=md.width;md=md.height;kb.beginPath();kb.moveTo(Hd+3,Wd);kb.lineTo(Hd+Ae-3,Wd);kb.quadraticCurveTo(Hd+Ae,Wd,Hd+Ae,Wd+3);kb.lineTo(Hd+Ae,Wd+md-3);kb.quadraticCurveTo(Hd+Ae,Wd+md,Hd+Ae-3,Wd+md);kb.lineTo(Hd+3,Wd+md);kb.quadraticCurveTo(Hd,Wd+md,Hd,Wd+md-3);kb.lineTo(Hd,Wd+3);kb.quadraticCurveTo(Hd,
Wd,Hd+3,Wd);kb.closePath();kb.fill();kb.stroke()}});kb.fillStyle=Ba;kb.strokeStyle=Ga}return kb.scale(1/A,1/A),{atLeastOneVisibleElement:0<W.length,scrollBars:Oe}},nk=function(d,h,m,A){Object.keys(m).forEach(function(P){var W=m[P];if(void 0!==W){var wa=d.lineWidth;d.lineWidth=1/h.zoom.value;"rotation"===P?zm(d,W[0]+W[2]/2,W[1]+W[3]/2,W[2]/2):al(d,W[0],W[1],W[2],W[3],W[0]+W[2]/2,W[1]+W[3]/2,A,!0);d.lineWidth=wa}})},Kl=function(d,h){var m=Jf(h),A=m[0],P=m[1],W=m[2]-A;m=m[3]-P;var wa=Dj(h,W,m);d.strokeStyle=
"rgba(0,0,0,.05)";d.lineWidth=wa-4;wa=2+wa/2;switch(h.type){case "rectangle":case "text":al(d,A-wa,P-wa,W+2*wa,m+2*wa,A+W/2,P+m/2,h.angle);break;case "diamond":var pa=Math.hypot(W,m);!function(Ba,Ma,Ga,hb,jb,kb){Ba.translate(hb,jb);Ba.rotate(kb);Ba.beginPath();Ba.moveTo(0,Ga/2);Ba.lineTo(Ma/2,0);Ba.lineTo(0,-Ga/2);Ba.lineTo(-Ma/2,0);Ba.closePath();Ba.stroke();Ba.rotate(-kb);Ba.translate(-hb,-jb)}(d,W+wa*pa/m*2,m+wa*pa/W*2,A+W/2,P+m/2,h.angle);break;case "ellipse":!function(Ba,Ma,Ga,hb,jb,kb){Ba.beginPath();
Ba.ellipse(hb,jb,Ma/2,Ga/2,kb,0,2*Math.PI);Ba.stroke()}(d,W+2*wa,m+2*wa,A+W/2,P+m/2,h.angle)}},Li=function(d,h){var m=h[0],A=h[1];h=h[2];var P=Dj(h,h.width,h.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===A?[0,-1]:"start"===A?[0]:[-1]).forEach(function(W){W=ag.getPointAtIndexGlobalCoordinates(m,W);zm(d,W[0],W[1],P)})},uj=function(d,h,m,A){A=void 0===A?{}:A;var P=A.offsetX,W=void 0===P?0:P;A=A.offsetY;var wa=void 0===A?0:A;m&&d.forEach(function(pa){pa.isDeleted||function(Ba,
Ma,Ga,hb,jb){var kb=Jf(Ba),Kb=kb[0],Ib=kb[1],nc=(kb[2]-Kb)/2-(Ba.x-Kb),Sc=(kb[3]-Ib)/2-(Ba.y-Ib),Yc=180*Ba.angle/Math.PI;kb=Ma.generator;switch(Ba.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Ai(Ba,kb);kb=Ma.draw(qi.get(Ba));1!=(je=Ba.opacity/100)&&(kb.setAttribute("stroke-opacity","".concat(je)),kb.setAttribute("fill-opacity","".concat(je)));kb.setAttribute("transform","translate(".concat(hb||0," ").concat(jb||0,
") rotate(").concat(Yc," ").concat(nc," ").concat(Sc,")"));Ga.appendChild(kb);break;case "line":case "draw":case "arrow":Ai(Ba,kb);var jd=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),le=Ba.opacity/100;qi.get(Ba).forEach(function(Wd){Wd=Ma.draw(Wd);1!==le&&(Wd.setAttribute("stroke-opacity","".concat(le)),Wd.setAttribute("fill-opacity","".concat(le)));Wd.setAttribute("transform","translate(".concat(hb||0," ").concat(jb||0,") rotate(").concat(Yc," ").concat(nc," ").concat(Sc,")"));
"line"!==Ba.type&&"draw"!==Ba.type||!bj(Ba.points)||"transparent"===Ba.backgroundColor||Wd.setAttribute("fill-rule","evenodd");jd.appendChild(Wd)});Ga.appendChild(jd);break;default:if(!og(Ba))throw Error("Unimplemented type ".concat(Ba.type));var je=Ba.opacity/100;kb=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==je&&(kb.setAttribute("stroke-opacity","".concat(je)),kb.setAttribute("fill-opacity","".concat(je)));kb.setAttribute("transform","translate(".concat(hb||0," ").concat(jb||
0,") rotate(").concat(Yc," ").concat(nc," ").concat(Sc,")"));je=Ba.text.replace(/\r\n?/g,"\n").split("\n");Kb=Ba.height/je.length;Ib=Ba.height-Ba.baseline;for(var xe="center"===Ba.textAlign?Ba.width/2:"right"===Ba.textAlign?Ba.width:0,pe=sg.test(Ba.text)?"rtl":"ltr",Oe="center"===Ba.textAlign?"middle":"right"===Ba.textAlign||"rtl"===pe?"end":"start",md=0;md<je.length;md++){var Hd=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Hd.textContent=je[md];Hd.setAttribute("x","".concat(xe));
Hd.setAttribute("y","".concat((md+1)*Kb-Ib));Hd.setAttribute("font-family","".concat(Pa.ut[Ba.fontFamily],", ").concat(Pa._D));Hd.setAttribute("font-size","".concat(Ba.fontSize,"px"));Hd.setAttribute("fill",Ba.strokeColor);Hd.setAttribute("text-anchor",Oe);Hd.setAttribute("style","white-space: pre;");Hd.setAttribute("direction",pe);kb.appendChild(Hd)}Ga.appendChild(kb)}}(pa,h,m,pa.x+W,pa.y+wa)})},bl=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},Pl=function(d,h,m,
A){var P=m.exportBackground,W=m.exportPadding;W=void 0===W?10:W;var wa=m.viewBackgroundColor,pa=m.scale,Ba=void 0===pa?1:pa;m=m.shouldAddWatermark;void 0===A&&(A=function(Ga,hb){var jb=document.createElement("canvas");return jb.width=Ga*Ba,jb.height=hb*Ba,{canvas:jb,scale:Ba}});d=Ni(d,m);var Ma=bn(d,W,m);m=Ma[0];pa=Ma[1];Ma=A(Ma[2],Ma[3]);A=Ma.canvas;Ma=Ma.scale;return an(d,h,null,void 0===Ma?Ba:Ma,Xf.canvas(A),A,{viewBackgroundColor:P?wa:null,exportWithDarkMode:h.exportWithDarkMode,scrollX:-m+W,
scrollY:-pa+W,zoom:uh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),A},wl=function(d,h){var m=h.exportBackground,A=h.exportPadding;A=void 0===A?10:A;var P=h.viewBackgroundColor,W=h.exportWithDarkMode,wa=h.scale;wa=void 0===wa?1:wa;var pa=h.shouldAddWatermark;h=h.metadata;h=void 0===h?"":h;d=Ni(d,pa);var Ba=bn(d,A,pa);pa=Ba[0];
var Ma=Ba[1],Ga=Ba[2],hb=Ba[3];Ba=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ba.setAttribute("version","1.1"),Ba.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ba.setAttribute("viewBox","0 0 ".concat(Ga," ").concat(hb)),Ba.setAttribute("width","".concat(Ga*wa)),Ba.setAttribute("height","".concat(hb*wa)),W&&Ba.setAttribute("filter",Pa.Gi),Ba.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(h,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
m&&P)m=Ba.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),m.setAttribute("x","0"),m.setAttribute("y","0"),m.setAttribute("width","".concat(Ga)),m.setAttribute("height","".concat(hb)),m.setAttribute("fill",P),Ba.appendChild(m);m=Xf.svg(Ba);return uj(d,m,Ba,{offsetX:-pa+A,offsetY:-Ma+A}),Ba},Ni=function(d,h){var m=bl([],d);h&&(h=Yf(d),d=h[2],h=h[3],m=bl([],m),d=bk({text:Jb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Pa.rk,textAlign:"right",verticalAlign:Pa.hs,x:d,y:h+16,strokeColor:Vd.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),m=bl(m,[d]));return m},bn=function(d,h,m){d=Yf(d);var A=d[0],P=d[1];return[A,P,Math.abs(A-d[2])+2*h,Math.abs(P-d[3])+h+(m?0:h)]},Sj=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},Kk=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},Bn=function(d,h){return d.slice(1).every(function(m){return null!==
Kk(m[h])})},rm=function(d){var h=d[0].length;if(2<h)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===h){if(!Bn(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};h=null===Kk(d[0][0]);var m=(h?d.slice(1):d).map(function(W){return Kk(W[0])});return 2>m.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:h?d[0][0]:null,labels:null,values:m}}}var A=Bn(d,0)?0:1;if(!Bn(d,A))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var P=(A+1)%2;m=(h=null===Kk(d[0][A]))?d.slice(1):d;return 2>m.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:h?d[0][A]:null,labels:m.map(function(W){return W[P]}),values:m.map(function(W){return Kk(W[A])})}}},vn=qg.elementBackground.slice(2,qg.elementBackground.length),Mi={fillStyle:"hachure",fontFamily:Pa.rk,fontSize:Pa.n5,opacity:100,roughness:1,strokeColor:qg.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},
Pn=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Qn=function(d,h,m,A,P,W){var wa=Pn(d),pa=wa.chartWidth,Ba=wa.chartHeight;wa=d.title?bk(De(De({backgroundColor:P,groupIds:[A]},Mi),{},{text:d.title,x:h+pa/2,y:m-256-24-Pa.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;W=W?Ol(De(De({backgroundColor:P,groupIds:[A]},Mi),{},{type:"rectangle",x:h,y:m-Ba,width:pa,height:Ba,strokeColor:qg.elementStroke[0],fillStyle:"solid",opacity:6})):null;return Sj(Sj(Sj(Sj(Sj([],
W?[W]:[]),wa?[wa]:[]),function(Ma,Ga,hb,jb,kb){var Kb;return(null===(Kb=Ma.labels)||void 0===Kb?void 0:Kb.map(function(Ib,nc){return bk(De(De({groupIds:[jb],backgroundColor:kb},Mi),{},{text:8<Ib.length?"".concat(Ib.slice(0,5),"..."):Ib,x:Ga+44*nc+24,y:hb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,h,m,A,P)),function(Ma,Ga,hb,jb,kb){var Kb=bk(De(De({groupIds:[jb],backgroundColor:kb},Mi),{},{x:Ga-12,y:hb-12,text:"0",textAlign:"right"}));return[Kb,bk(De(De({groupIds:[jb],
backgroundColor:kb},Mi),{},{x:Ga-12,y:hb-256-Kb.height/2,text:Math.max.apply(Math,Ma.values).toLocaleString(),textAlign:"right"}))]}(d,h,m,A,P)),function(Ma,Ga,hb,jb,kb){var Kb=Pn(Ma);Ma=Kb.chartWidth;Kb=Kb.chartHeight;return[Hi(De(De({backgroundColor:kb,groupIds:[jb]},Mi),{},{type:"line",x:Ga,y:hb,startArrowhead:null,endArrowhead:null,width:Ma,points:[[0,0],[Ma,0]]})),Hi(De(De({backgroundColor:kb,groupIds:[jb]},Mi),{},{type:"line",x:Ga,y:hb,startArrowhead:null,endArrowhead:null,height:Kb,points:[[0,
0],[0,-Kb]]})),Hi(De(De({backgroundColor:kb,groupIds:[jb]},Mi),{},{type:"line",x:Ga,y:hb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Ma,opacity:50,points:[[0,0],[Ma,0]]}))]}(d,h,m,A,P))},Hk=function(d,h,m,A){return"line"===d?function(P,W,wa){for(var pa=Math.max.apply(Math,P.values),Ba=Xj(),Ma=vn[Math.floor(Math.random()*vn.length)],Ga=0,hb=[],jb=0,kb=P.values;jb<kb.length;jb++)hb.push([44*Ga,-kb[jb]/pa*256]),Ga++;Ga=Math.max.apply(Math,hb.map(function(Ib){return Ib[0]}));
jb=Math.max.apply(Math,hb.map(function(Ib){return Ib[1]}));kb=Math.min.apply(Math,hb.map(function(Ib){return Ib[0]}));var Kb=Math.min.apply(Math,hb.map(function(Ib){return Ib[1]}));hb=Hi(De(De({backgroundColor:Ma,groupIds:[Ba]},Mi),{},{type:"line",x:W+12+16,y:wa-12,startArrowhead:null,endArrowhead:null,height:jb-Kb,width:Ga-kb,strokeWidth:2,points:hb}));Ga=P.values.map(function(Ib,nc){nc=44*nc+6;Ib=-Ib/pa*256+6;return Ol(De(De({backgroundColor:Ma,groupIds:[Ba]},Mi),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:W+nc+16,y:wa+Ib-24,width:12,height:12}))});jb=P.values.map(function(Ib,nc){nc=44*nc+6;Ib=Ib/pa*256+18;return Hi(De(De({backgroundColor:Ma,groupIds:[Ba]},Mi),{},{type:"line",x:W+nc+16+6,y:wa-Ib,startArrowhead:null,endArrowhead:null,height:Ib,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Ib]]}))});return Sj(Sj(Sj(Sj([],Qn(P,W,wa,Ba,Ma,"production"===Pa.Vi.DEVELOPMENT)),[hb]),jb),Ga)}(h,m,A):function(P,W,wa){var pa=Math.max.apply(Math,P.values),Ba=Xj(),Ma=vn[Math.floor(Math.random()*
vn.length)],Ga=P.values.map(function(hb,jb){hb=hb/pa*256;return Ol(De(De({backgroundColor:Ma,groupIds:[Ba]},Mi),{},{type:"rectangle",x:W+44*jb+12,y:wa-hb-12,width:32,height:hb}))});return Sj(Sj([],Ga),Qn(P,W,wa,Ba,Ma,"production"===Pa.Vi.DEVELOPMENT))}(h,m,A)},Rn=function(){var d=function(h,m){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,P){A.__proto__=P}||function(A,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,W)&&(A[W]=P[W])})(h,m)};return function(h,m){function A(){this.constructor=
h}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(h,m);h.prototype=null===m?Object.create(m):(A.prototype=m.prototype,new A)}}(),fn=function(d){function h(m,A){void 0===m&&(m="Couldn't export canvas.");void 0===A&&(A="CANVAS_ERROR");var P=d.call(this)||this;return P.name=A,P.message=m,P}return Rn(h,d),h}(Error),Wn=function(d,h){var m,A,P,W,wa,pa,Ba,Ma;d={type:d.type,version:d.version||1,versionNonce:null!==(m=d.versionNonce)&&
void 0!==m?m:0,isDeleted:null!==(A=d.isDeleted)&&void 0!==A&&A,id:d.id||Xj(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(P=d.strokeStyle)&&void 0!==P?P:"solid",roughness:null!==(W=d.roughness)&&void 0!==W?W:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(wa=d.seed)&&void 0!==wa?wa:1,groupIds:null!==(pa=d.groupIds)&&void 0!==pa?
pa:[],strokeSharpness:null!==(Ba=d.strokeSharpness)&&void 0!==Ba?Ba:$h(d.type)?"round":"sharp",boundElementIds:null!==(Ma=d.boundElementIds)&&void 0!==Ma?Ma:[]};return Ve(Ve(Ve({},d),hj(d)),h)},vj=function(d){return(d||[]).reduce(function(h,m){if("selection"!==m.type&&!Sh(m)){a:{var A;switch(m.type){case "text":var P=m.fontSize,W=m.fontFamily;if("font"in m){P=m.font.split(" ");W=P[1];P=parseInt(P[0],10);b:{for(var wa=0,pa=Object.entries(Pa.ut);wa<pa.length;wa++){var Ba=pa[wa],Ma=Ba[0];if(Ba[1].includes(W)){W=
parseInt(Ma);break b}}W=Pa.rk}}m=Wn(m,{fontSize:P,fontFamily:W,text:null!==(A=m.text)&&void 0!==A?A:"",baseline:m.baseline,textAlign:m.textAlign||Pa.Hg,verticalAlign:m.verticalAlign||Pa.hs});break a;case "draw":case "line":case "arrow":A=m.startArrowhead;A=void 0===A?null:A;P=m.endArrowhead;P=void 0===P?"arrow"===m.type?"arrow":null:P;m=Wn(m,{startBinding:m.startBinding,endBinding:m.endBinding,points:!Array.isArray(m.points)||2>m.points.length?[[0,0],[m.width,m.height]]:m.points,lastCommittedPoint:null,
startArrowhead:A,endArrowhead:P});break a;case "ellipse":case "rectangle":case "diamond":m=Wn(m,{});break a}m=void 0}m&&h.push(m)}return h},[])},wn=function(d,h){d=d||{};for(var m=uh(),A={},P=0,W=Object.entries(m);P<W.length;P++){var wa=W[P],pa=wa[0];wa=wa[1];var Ba=d[pa],Ma=h?h[pa]:void 0;A[pa]=void 0!==Ba?Ba:void 0!==Ma?Ma:wa}return Ve(Ve({},A),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:m.zoom.translation}:d.zoom||m.zoom})},cn=
function(d,h){return{elements:vj(null==d?void 0:d.elements),appState:wn(null==d?void 0:d.appState,h||null)}},Do=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;
P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}
var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Ri=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},gh=function(){function d(){}return d.importLibrary=function(h){return tb()(function(){var m,A,P,W;return Do(this,function(wa){switch(wa.label){case 0:return[4,np(h)];case 1:return(m=wa.sent())&&m.library?(A=
function(pa,Ba){return!pa.find(function(Ma){return Ma.length===Ba.length&&Ma.every(function(Ga,hb){return Ga.id===Ba[hb].id&&Ga.versionNonce===Ba[hb].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return P=wa.sent(),W=m.library.reduce(function(pa,Ba){Ba=Rd(vj(Ba));return A(P,Ba)&&pa.push(Ba),pa},[]),d.saveLibrary(Ri(Ri([],P),W)),[2]}})})()},d}();gh.libraryCache=null;gh.resetLibrary=function(){gh.libraryCache=null;localStorage.removeItem(Pa.I.LOCAL_STORAGE_LIBRARY)};gh.loadLibrary=function(){return new Promise(function(){var d=
tb()(function(h){var m,A;return Do(this,function(P){if(gh.libraryCache)return[2,h(JSON.parse(JSON.stringify(gh.libraryCache)))];try{if(!(m=localStorage.getItem(Pa.I.LOCAL_STORAGE_LIBRARY)))return[2,h([])];A=JSON.parse(m).map(function(W){return vj(W)});gh.libraryCache=JSON.parse(JSON.stringify(A));h(A)}catch(W){console.error(W),h([])}return[2]})});return function(h){return d.apply(this,arguments)}}())};gh.saveLibrary=function(d){var h=gh.libraryCache;try{var m=JSON.stringify(d);gh.libraryCache=JSON.parse(m);
localStorage.setItem(Pa.I.LOCAL_STORAGE_LIBRARY,m)}catch(A){gh.libraryCache=h,console.error(A)}};var am=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];
Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,
P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},bm=function(d,h){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:wg(d),appState:el(h,"export")},null,2)},Ll=function(){var d=tb()(function(h,m){var A;return am(this,function(P){switch(P.label){case 0:return A=bm(h,m),[4,Hf(new Blob([A],{type:"application/json"}),
{fileName:m.name,description:"Excalidraw file",extensions:[".excalidraw"]},m.fileHandle)];case 1:return[2,{fileHandle:P.sent()}]}})});return function(h,m){return d.apply(this,arguments)}}(),dn=function(){var d=tb()(function(h){var m;return am(this,function(A){switch(A.label){case 0:return[4,jh({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return m=A.sent(),[2,Em(m,h)]}})});return function(h){return d.apply(this,
arguments)}}(),cm=function(){var d=tb()(function(){var h,m;return am(this,function(A){switch(A.label){case 0:return[4,gh.loadLibrary()];case 1:return h=A.sent(),m=JSON.stringify({type:"excalidrawlib",version:1,library:h},null,2),"library.excalidrawlib",[4,Hf(new Blob([m],{type:Pa.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return A.sent(),[2]}})});return function(){return d.apply(this,arguments)}}(),mp=function(){var d=
tb()(function(){var h;return am(this,function(m){switch(m.label){case 0:return[4,jh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return h=m.sent(),gh.importLibrary(h),[2]}})});return function(){return d.apply(this,arguments)}}(),Am=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&
W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],
pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},xn=function(){var d=tb()(function(h){var m;return Am(this,function(A){switch(A.label){case 0:if("image/png"!==
h.type)return[3,6];A.label=1;case 1:return A.trys.push([1,4,,5]),[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))];case 2:return[4,A.sent().decodePngMetadata(h)];case 3:return[2,A.sent()];case 4:throw"INVALID"===A.sent().message?Error(Jb("alerts.imageDoesNotContainScene")):Error(Jb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,h.text()]:[3,8];case 7:return m=A.sent(),[3,10];case 8:return[4,new Promise(function(P){var W=new FileReader;W.readAsText(h,"utf8");
W.onloadend=function(){W.readyState===FileReader.DONE&&P(W.result)}})];case 9:m=A.sent(),A.label=10;case 10:if("image/svg+xml"!==h.type)return[3,15];A.label=11;case 11:return A.trys.push([11,14,,15]),[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))];case 12:return[4,A.sent().decodeSvgMetadata({svg:m})];case 13:return[2,A.sent()];case 14:throw"INVALID"===A.sent().message?Error(Jb("alerts.imageDoesNotContainScene")):Error(Jb("alerts.cannotRestoreFromImage"));case 15:return[2,m]}})});return function(h){return d.apply(this,
arguments)}}(),Em=function(){var d=tb()(function(h,m){var A,P;return Am(this,function(W){switch(W.label){case 0:return[4,xn(h)];case 1:A=W.sent();try{var wa=P=JSON.parse(A);if("excalidraw"!==(null==wa?void 0:wa.type)||wa.elements&&(!Array.isArray(wa.elements)||wa.appState&&"object"!=typeof wa.appState))throw Error(Jb("alerts.couldNotLoadInvalidFile"));var pa=wg(P.elements||[]),Ba=null==m?void 0:m.appearance,Ma;if(Ma=h.handle){var Ga=["application/json",Pa.LO.excalidraw],hb=Ga.includes;a:{if("string"==
typeof h)var jb=h;else{if(h.type){var kb=h.type;break a}jb=h.name||""}kb=/\.(excalidraw|json)$/.test(jb)?"application/json":/\.png$/.test(jb)?"image/png":/\.jpe?g$/.test(jb)?"image/jpeg":/\.svg$/.test(jb)?"image/svg+xml":""}Ma=hb.call(Ga,kb)}return[2,cn({elements:pa,appState:rb(rb({appearance:Ba,fileHandle:Ma?h.handle:null},el(P.appState||{},"export")),m?mi(P.elements||[],m):{})},m)]}catch(Kb){throw console.error(Kb.message),Error(Jb("alerts.couldNotLoadInvalidFile"));}}})});return function(h,m){return d.apply(this,
arguments)}}(),np=function(){var d=tb()(function(h){var m,A;return Am(this,function(P){switch(P.label){case 0:return[4,xn(h)];case 1:if(m=P.sent(),"excalidrawlib"!==(A=JSON.parse(m)).type)throw Error(Jb("alerts.couldNotLoadInvalidFile"));return[2,A]}})});return function(h){return d.apply(this,arguments)}}(),Bm=function(){var d=tb()(function(h){return Am(this,function(m){return[2,new Promise(function(A,P){try{h.toBlob(function(W){if(!W)return P(new fn(Jb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));
A(W)})}catch(W){P(W)}})]})});return function(h){return d.apply(this,arguments)}}(),Tj=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;
case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,
sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Dm="",Cm=!1,Th="clipboard"in navigator&&"readText"in navigator.clipboard,Uj="clipboard"in navigator&&"writeText"in navigator.clipboard,sk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,rk=function(){var d=tb()(function(h,m){var A,P,W;return Tj(this,
function(wa){switch(wa.label){case 0:A={type:"excalidraw/elements",created:Date.now(),elements:cf(h,m)},Dm=P=JSON.stringify(A),wa.label=1;case 1:return wa.trys.push([1,3,,4]),Cm=!1,[4,yb(P)];case 2:return wa.sent(),[3,4];case 3:return W=wa.sent(),Cm=!0,console.error(W),[3,4];case 4:return[2]}})});return function(h,m){return d.apply(this,arguments)}}(),I=function(){if(!Dm)return{};try{return JSON.parse(Dm)}catch(d){return console.error(d),{}}},Y=function(d){d=function(h){var m=h.trim().split("\n").map(function(P){return P.trim().split("\t")});
if(m.length&&2!==m[0].length&&(m=h.trim().split("\n").map(function(P){return P.trim().split(",")})),0===m.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var A=m[0].length;if(!m.every(function(P){return P.length===A}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};h=rm(m);return"VALID_SPREADSHEET"!==h.type&&(m=rm(function(P){for(var W=[],wa=0;wa<P[0].length;wa++){for(var pa=[],Ba=0;Ba<P.length;Ba++)pa.push(P[Ba][wa]);W.push(pa)}return W}(m)),"VALID_SPREADSHEET"===
m.type)?m:h}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},za=function(){var d=tb()(function(h){var m,A,P;return Tj(this,function(W){switch(W.label){case 0:return W.trys.push([0,5,,6]),h?(A=null===(m=h.clipboardData)||void 0===m?void 0:m.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(P=Th)?[4,navigator.clipboard.readText()]:[3,3];case 2:P=W.sent(),W.label=3;case 3:A=P,W.label=4;case 4:return[2,A||""];case 5:return W.sent(),[2,""];case 6:return[2]}})});return function(h){return d.apply(this,
arguments)}}(),$a=function(){var d=tb()(function(h){var m,A,P,W;return Tj(this,function(wa){switch(wa.label){case 0:return[4,za(h)];case 1:if(!(m=wa.sent())||m.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,I()];if(A=Y(m))return[2,A];P=I();try{return W=JSON.parse(m),"excalidraw/elements"===(null==(pa=W)?void 0:pa.type)&&(null==P||!P.created||P.created<W.created)?[2,{elements:W.elements}]:[2,P]}catch(Ba){return[2,Cm&&P.elements?P:{text:m}]}}var pa})});return function(h){return d.apply(this,
arguments)}}(),pb=function(){var d=tb()(function(h){var m;return Tj(this,function(A){switch(A.label){case 0:return[4,Bm(h)];case 1:return m=A.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":m})])];case 2:return A.sent(),[2]}})});return function(h){return d.apply(this,arguments)}}(),yb=function(){var d=tb()(function(h){var m,A;return Tj(this,function(P){switch(P.label){case 0:if(m=!1,!Uj)return[3,4];P.label=1;case 1:return P.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(h||
"")];case 2:return P.sent(),m=!0,[3,4];case 3:return A=P.sent(),console.error(A),[3,4];case 4:if(P=!m){var W=h||" ",wa="rtl"===document.documentElement.getAttribute("dir");P=document.createElement("textarea");P.style.border="0";P.style.padding="0";P.style.margin="0";P.style.position="absolute";P.style[wa?"right":"left"]="-9999px";P.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");P.style.fontSize="12pt";P.setAttribute("readonly","");P.value=W;document.body.appendChild(P);
W=!1;try{P.select(),P.setSelectionRange(0,P.value.length),W=document.execCommand("copy")}catch(pa){console.error(pa)}P=!(P.remove(),W)}if(P)throw Error("couldn't copy");return[2]}})});return function(h){return d.apply(this,arguments)}}(),Wb=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=
0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=
h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},lc=function(){var d=tb()(function(h,m,A,P,W){var wa,pa,Ba,Ma,Ga,hb,jb,kb,Kb,Ib=W.exportBackground,nc=W.exportPadding,Sc=void 0===nc?10:nc,Yc=W.viewBackgroundColor,
jd=W.name;nc=W.scale;var le=void 0===nc?1:nc,je=W.shouldAddWatermark;return Wb(this,function(xe){switch(xe.label){case 0:if(0===m.length)throw Error(Jb("alerts.cannotExportEmptyCanvas"));return"svg"!==h&&"clipboard-svg"!==h?[3,7]:(pa=wl,Ba=[m],Ma={exportBackground:Ib,exportWithDarkMode:A.exportWithDarkMode,viewBackgroundColor:Yc,exportPadding:Sc,scale:le,shouldAddWatermark:je},A.exportEmbedScene&&"svg"===h?[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))]:[3,3]);case 1:return[4,xe.sent().encodeSvgMetadata({text:bm(m,
A)})];case 2:return Ga=xe.sent(),[3,4];case 3:Ga=void 0,xe.label=4;case 4:return wa=pa.apply(void 0,Ba.concat([(Ma.metadata=Ga,Ma)])),"svg"!==h?[3,6]:[4,Hf(new Blob([wa.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(jd,".svg"),extensions:[".svg"]})];case 5:return xe.sent(),[2];case 6:if("clipboard-svg"===h)return yb(wa.outerHTML),[2];xe.label=7;case 7:return(hb=Pl(m,A,{exportBackground:Ib,viewBackgroundColor:Yc,exportPadding:Sc,scale:le,shouldAddWatermark:je})).style.display="none",document.body.appendChild(hb),
"png"!==h?[3,13]:(jb="".concat(jd,".png"),[4,Bm(hb)]);case 8:return kb=xe.sent(),A.exportEmbedScene?[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))]:[3,11];case 9:return[4,xe.sent().encodePngMetadata({blob:kb,metadata:bm(m,A)})];case 10:kb=xe.sent(),xe.label=11;case 11:return[4,Hf(kb,{fileName:jb,extensions:[".png"]})];case 12:return xe.sent(),[3,17];case 13:if("clipboard"!==h)return[3,17];xe.label=14;case 14:return xe.trys.push([14,16,,17]),[4,pb(hb)];case 15:return xe.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===
(Kb=xe.sent()).name)throw Kb;throw Error(Jb("alerts.couldNotCopyToClipboard"));case 17:return hb!==P&&hb.remove(),[2]}})});return function(h,m,A,P,W){return d.apply(this,arguments)}}(),yc=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=
Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&
Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Kc,ed,Dd;Xd({name:"changeProjectName",perform:function(d,h,m){return dh("change","title"),{appState:Ua(Ua({},h),{},{name:m}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,m=d.updateData;return R().createElement(Oh,
{label:Jb("labels.fileTitle"),value:h.name||"Unnamed",onChange:function(A){return m(A)}})}});Xd({name:"changeExportBackground",perform:function(d,h,m){return{appState:Ua(Ua({},h),{},{exportBackground:m}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,m=d.updateData;return R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:h.exportBackground,onChange:function(A){return m(A.target.checked)}})," ",Jb("labels.withBackground"))}});Xd({name:"changeExportEmbedScene",
perform:function(d,h,m){return{appState:Ua(Ua({},h),{},{exportEmbedScene:m}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,m=d.updateData;return R().createElement("label",{style:{display:"flex"}},R().createElement("input",{type:"checkbox",checked:h.exportEmbedScene,onChange:function(A){return m(A.target.checked)}})," ",Jb("labels.exportEmbedScene"),R().createElement(Rj,{label:Jb("labels.exportEmbedScene_details"),position:"above",long:!0},R().createElement("div",{className:"TooltipIcon"},
Qf)))}});Xd({name:"changeShouldAddWatermark",perform:function(d,h,m){return{appState:Ua(Ua({},h),{},{shouldAddWatermark:m}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,m=d.updateData;return R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:h.shouldAddWatermark,onChange:function(A){return m(A.target.checked)}})," ",Jb("labels.addWatermark"))}});Xd({name:"saveScene",perform:(Kc=tb()(function(d,h,m){var A,P,W;return yc(this,function(wa){switch(wa.label){case 0:A=
!!h.fileHandle,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,Ll(d,h)];case 2:return P=wa.sent().fileHandle,[2,{commitToHistory:!1,appState:Ua(Ua({},h),{},{fileHandle:P,toastMessage:A?P.name?Jb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(P.name,'"')):Jb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(W=wa.sent())?void 0:W.name)&&console.error(W),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,h,m){return Kc.apply(this,arguments)}),keyTest:function(d){return"s"===
d.key&&d[we]&&!d.shiftKey},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:he,title:Jb("buttons.save"),"aria-label":Jb("buttons.save"),showAriaLabel:Ce(),onClick:function(){return h(null)}})}});Xd({name:"saveAsScene",perform:(ed=tb()(function(d,h,m){var A,P;return yc(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,,3]),[4,Ll(d,Ua(Ua({},h),{},{fileHandle:null}))];case 1:return A=W.sent().fileHandle,[2,{commitToHistory:!1,appState:Ua(Ua({},
h),{},{fileHandle:A})}];case 2:return"AbortError"!==(null==(P=W.sent())?void 0:P.name)&&console.error(P),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,h,m){return ed.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[we]},PanelComponent:function(d){var h=d.updateData;return R().createElement(Qe,{type:"button",icon:Oj,title:Jb("buttons.saveAs"),"aria-label":Jb("buttons.saveAs"),showAriaLabel:Ce(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in
window),onClick:function(){return h(null)}})}});Xd({name:"loadScene",perform:(Dd=tb()(function(d,h){var m,A,P,W;return yc(this,function(wa){switch(wa.label){case 0:return wa.trys.push([0,2,,3]),[4,dn(h)];case 1:return m=wa.sent(),A=m.elements,P=m.appState,[2,{elements:A,appState:P,commitToHistory:!0}];case 2:return"AbortError"===(null==(W=wa.sent())?void 0:W.name)?[2,!1]:[2,{elements:d,appState:Ua(Ua({},h),{},{errorMessage:W.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,h){return Dd.apply(this,
arguments)}),keyTest:function(d){return d[we]&&"o"===d.key},PanelComponent:function(d){var h=d.updateData;d.appState;return R().createElement(Qe,{type:"button",icon:Gk,title:Jb("buttons.load"),"aria-label":Jb("buttons.load"),showAriaLabel:Ce(),onClick:h})}});Xd({name:"exportWithDarkMode",perform:function(d,h,m){return{appState:Ua(Ua({},h),{},{exportWithDarkMode:m}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,m=d.updateData;return R().createElement("div",{style:{display:"flex",
justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},R().createElement(Ak,{value:h.exportWithDarkMode?"dark":"light",onChange:function(A){m("dark"===A)},title:Jb("labels.toggleExportColorScheme")}))}});var Qd="{}",Ye=Xd({name:"copyStyles",perform:function(d,h){d=d.find(function(m){return h.selectedElementIds[m.id]});return d&&(Qd=JSON.stringify(d)),{appState:mb(mb({},h),{},{toastMessage:Jb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[we]&&
d.altKey&&"KeyC"===d.code}}),Se=Xd({name:"pasteStyles",perform:function(d,h){var m=JSON.parse(Qd);return"text"!==(null==m?void 0:m.type)&&"diamond"!==(null==m?void 0:m.type)&&"rectangle"!==(null==m?void 0:m.type)&&"ellipse"!==(null==m?void 0:m.type)&&"arrow"!==(null==m?void 0:m.type)&&"draw"!==(null==m?void 0:m.type)&&"line"!==(null==m?void 0:m.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(A){return h.selectedElementIds[A.id]?(A=wf(A,{backgroundColor:null==m?void 0:m.backgroundColor,
strokeWidth:null==m?void 0:m.strokeWidth,strokeColor:null==m?void 0:m.strokeColor,strokeStyle:null==m?void 0:m.strokeStyle,fillStyle:null==m?void 0:m.fillStyle,opacity:null==m?void 0:m.opacity,roughness:null==m?void 0:m.roughness}),og(A)&&(Gd(A,{fontSize:(null==m?void 0:m.fontSize)||Pa.n5,fontFamily:(null==m?void 0:m.fontFamily)||Pa.rk,textAlign:(null==m?void 0:m.textAlign)||Pa.Hg}),Xk(A)),A):A}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[we]&&d.altKey&&
"KeyV"===d.code}}),ei=function(d){return R().createElement("label",{title:"".concat(d.title," — ?"),className:"help-icon"},R().createElement("div",{onClick:d.onClick},Qf))};Xd({name:"toggleCanvasMenu",perform:function(d,h){return{appState:Zb(Zb({},h),{},{openMenu:"canvas"===h.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState;d=d.updateData;return R().createElement(Qe,{type:"button",icon:hd,"aria-label":Jb("buttons.menu"),onClick:d,selected:"canvas"===h.openMenu})}});
Xd({name:"toggleEditMenu",perform:function(d,h){return{appState:Zb(Zb({},h),{},{openMenu:"shape"===h.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var h=d.elements,m=d.appState;d=d.updateData;return R().createElement(Qe,{visible:Ef(m,Rd(h)),type:"button",icon:Pj,"aria-label":Jb("buttons.edit"),onClick:d,selected:"shape"===m.openMenu})}});Xd({name:"toggleFullScreen",perform:function(){return lh()||document.documentElement.requestFullscreen(),lh()&&document.exitFullscreen(),
{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[we]}});Xd({name:"toggleShortcuts",perform:function(d,h){return{appState:Zb(Zb({},h),{},{showHelpDialog:!h.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;return R().createElement(ei,{title:Jb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Jk=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},Yj=function(d,h){d=cf(Rd(d),h);return 2<=d.length&&
!function(m){if(2<=m.length)for(var A=function(pa){if(m.reduce(function(Ba,Ma){return Ba&&Ma.groupIds.includes(pa)},!0))return{value:!0}},P=0,W=m[0].groupIds;P<W.length;P++){var wa=A(W[P]);if("object"==typeof wa)return wa.value}return!1}(d)},Mf=Xd({name:"group",perform:function(d,h){var m=cf(Rd(d),h);if(2>m.length)return{appState:h,elements:d,commitToHistory:!1};var A=Si(h);if(1===A.length&&(A=new Set(Ie(d,A[0]).map(function(wa){return wa.id})),m=new Set(m.map(function(wa){return wa.id})),(new Set(Jk(Jk([],
Array.from(A)),Array.from(m)))).size===A.size))return{appState:h,elements:d,commitToHistory:!1};var P=Xj();A=d.map(function(wa){if(h.selectedElementIds[wa.id]){var pa=h.editingGroupId;var Ba=fl([],wa.groupIds);pa=pa?Ba.indexOf(pa):-1;Ba=(Ba.splice(-1<pa?pa:Ba.length,0,P),Ba);wa=wf(wa,{groupIds:Ba})}return wa});d=Ie(A,P);var W=A.lastIndexOf(d[d.length-1]);m=A.slice(W+1);A=A.slice(0,W).filter(function(wa){return!wa.groupIds.includes(P)});d=Jk(Jk(Jk([],A),d),m);return{appState:Bj(P,kc(kc({},h),{},{selectedGroupIds:{}}),
Rd(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,h){return Yj(d,h)},keyTest:function(d){return!d.shiftKey&&d[we]&&"KeyG"===d.code},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!Yj(h,m),type:"button",icon:R().createElement(If,{appearance:m.appearance}),onClick:function(){return A(null)},title:"".concat(Jb("labels.group")," — ").concat(sd("CtrlOrCmd+G")),"aria-label":Jb("labels.group"),
visible:Eg(Rd(h),m)})}}),ri=Xd({name:"ungroup",perform:function(d,h){if(0===Si(h).length)return{appState:h,elements:d,commitToHistory:!1};d=d.map(function(m){var A=function(P,W){return P.filter(function(wa){return!W[wa]})}(m.groupIds,h.selectedGroupIds);return A.length===m.groupIds.length?m:wf(m,{groupIds:A})});return{appState:Zj(kc(kc({},h),{},{selectedGroupIds:{}}),Rd(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[we]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",
contextItemPredicate:function(d,h){return 0<Si(h).length},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{type:"button",hidden:0===Si(m).length,icon:R().createElement(vi,{appearance:m.appearance}),onClick:function(){return A(null)},title:"".concat(Jb("labels.ungroup")," — ").concat(sd("CtrlOrCmd+Shift+G")),"aria-label":Jb("labels.ungroup"),visible:Eg(Rd(h),m)})}}),zk=(g(1395),function(d){var h=d.children,m=d.color,A=d.border;d=d.onClick;return R().createElement("div",
{className:"Avatar",style:{background:m,border:"1px solid ".concat(A)},onClick:d},h)});Xd({name:"goToCollaborator",perform:function(d,h,m){return m?{appState:Pb(Pb(Pb({},h),Bi({scenePoint:m,viewportDimensions:{width:h.width,height:h.height},zoom:h.zoom})),{},{openMenu:"canvas"===h.openMenu?null:h.openMenu}),commitToHistory:!1}:{appState:h,commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,m=d.updateData;d=d.id;if(!d)return null;var A=h.collaborators.get(d);if(!A)return null;d=Gi(d,h);
h=d.background;d=d.stroke;var P=function(W){if(!W)return"?";W=W.trim().split(" ");return 2>W.length?W[0].substring(0,2).toUpperCase():(W[0][0]+W[W.length-1][0]).toUpperCase()}(A.username);return R().createElement(zk,{color:h,border:d,onClick:function(){return m(A.pointer)}},P)}});var Jm=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},Ao=Xd({name:"addToLibrary",perform:function(d,h){var m=cf(Rd(d),h);return gh.loadLibrary().then(function(A){gh.saveLibrary(Jm(Jm([],A),
[m.map(fi)]))}),!1},contextItemLabel:"labels.addToLibrary"}),An=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},Un=function(d){var h=new Map;return d.forEach(function(m){var A=0===m.groupIds.length?m.id:m.groupIds[m.groupIds.length-1],P=h.get(A)||[];h.set(A,An(An([],P),[m]))}),Array.from(h.values())},kf=function(d,h,m){var A,P,W,wa=m.axis;m=m.position;d=Wj(d);var pa="x"===wa?["minX","maxX"]:["minY","maxY"],Ba=pa[0];pa=pa[1];return Jd(Jd({},{x:0,y:0}),{},"start"===m?
((A={})[wa]=h[Ba]-d[Ba],A):"end"===m?((P={})[wa]=h[pa]-d[pa],P):((W={})[wa]=(h[Ba]+h[pa])/2-(d[Ba]+d[pa])/2,W))},Wj=function(d){d=Yf(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Uh=function(d,h){return 1<cf(Rd(d),h).length},Ci=function(d,h,m){h=function(P,W){var wa=Un(P),pa=Wj(P);return wa.flatMap(function(Ba){var Ma=kf(Ba,pa,W);return Ba.map(function(Ga){return wf(Ga,{x:Ga.x+Ma.x,y:Ga.y+Ma.y})})})}(cf(Rd(d),h),m);var A=Gh(h);return d.map(function(P){return A[P.id]||P})},gn=(Xd({name:"alignTop",
perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[we]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,m),type:"button",icon:R().createElement(vd,{appearance:m.appearance}),onClick:function(){return A(null)},title:"".concat(Jb("labels.alignTop")," — ").concat(sd("CtrlOrCmd+Shift+Up")),"aria-label":Jb("labels.alignTop"),
visible:Eg(Rd(h),m)})}}),Xd({name:"alignBottom",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[we]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,m),type:"button",icon:R().createElement(Mh,{appearance:m.appearance}),onClick:function(){return A(null)},title:"".concat(Jb("labels.alignBottom")," — ").concat(sd("CtrlOrCmd+Shift+Down")),
"aria-label":Jb("labels.alignBottom"),visible:Eg(Rd(h),m)})}}),Xd({name:"alignLeft",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[we]&&d.shiftKey&&"ArrowLeft"===d.key},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,m),type:"button",icon:R().createElement(Vc,{appearance:m.appearance}),onClick:function(){return A(null)},title:"".concat(Jb("labels.alignLeft"),
" — ").concat(sd("CtrlOrCmd+Shift+Left")),"aria-label":Jb("labels.alignLeft"),visible:Eg(Rd(h),m)})}}),Xd({name:"alignRight",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[we]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,m),type:"button",icon:R().createElement(hl,{appearance:m.appearance}),onClick:function(){return A(null)},
title:"".concat(Jb("labels.alignRight")," — ").concat(sd("CtrlOrCmd+Shift+Right")),"aria-label":Jb("labels.alignRight"),visible:Eg(Rd(h),m)})}}),Xd({name:"alignVerticallyCentered",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,m),type:"button",icon:R().createElement(rh,{appearance:m.appearance}),onClick:function(){return A(null)},
title:Jb("labels.centerVertically"),"aria-label":Jb("labels.centerVertically"),visible:Eg(Rd(h),m)})}}),Xd({name:"alignHorizontallyCentered",perform:function(d,h){return{appState:h,elements:Ci(d,h,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!Uh(h,m),type:"button",icon:R().createElement(aj,{appearance:m.appearance}),onClick:function(){return A(null)},title:Jb("labels.centerHorizontally"),
"aria-label":Jb("labels.centerHorizontally"),visible:Eg(Rd(h),m)})}}),function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d}),Zp=function(d){var h=new Map;return d.forEach(function(m){var A=0===m.groupIds.length?m.id:m.groupIds[m.groupIds.length-1],P=h.get(A)||[];h.set(A,gn(gn([],P),[m]))}),Array.from(h.values())},ij=function(d){var h=Yf(d);d=h[0];var m=h[1],A=h[2];h=h[3];return{minX:d,minY:m,maxX:A,maxY:h,width:A-d,height:h-m,midX:(d+A)/2,midY:(m+h)/2}},zo=function(d,h){return 1<
cf(Rd(d),h).length},yn=function(d,h,m){h=function(P,W){var wa="x"===W.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],pa=wa[0],Ba=wa[1],Ma=wa[2],Ga=wa[3],hb=ij(P);P=Zp(P).map(function(jd){return[jd,ij(jd)]}).sort(function(jd,le){return jd[1][Ba]-le[1][Ba]});for(var jb=wa=0;jb<P.length;jb++)wa+=P[jb][1][Ga];var kb=(hb[Ga]-wa)/(P.length-1);if(0>kb){var Kb=P.findIndex(function(jd){return jd[1][pa]===hb[pa]}),Ib=P.findIndex(function(jd){return jd[1][Ma]===hb[Ma]}),nc=(P[Ib][1][Ba]-
P[Kb][1][Ba])/(P.length-1),Sc=P[Kb][1][Ba];return P.flatMap(function(jd,le){var je=jd[0];jd=jd[1];var xe={x:0,y:0};return le!==Kb&&le!==Ib&&(Sc+=nc,xe[W.axis]=Sc-jd[Ba]),je.map(function(pe){return wf(pe,{x:pe.x+xe.x,y:pe.y+xe.y})})})}var Yc=hb[pa];return P.flatMap(function(jd){var le=jd[0];jd=jd[1];var je={x:0,y:0};return je[W.axis]=Yc-jd[pa],Yc+=kb,Yc+=jd[Ga],le.map(function(xe){return wf(xe,{x:xe.x+je.x,y:xe.y+je.y})})})}(cf(Rd(d),h),m);var A=Gh(h);return d.map(function(P){return A[P.id]||P})},
Sn=(Xd({name:"distributeHorizontally",perform:function(d,h){return{appState:h,elements:yn(d,h,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!zo(h,m),type:"button",icon:R().createElement(Uf,{appearance:m.appearance}),onClick:function(){return A(null)},title:"".concat(Jb("labels.distributeHorizontally")," — ").concat(sd("Alt+H")),"aria-label":Jb("labels.distributeHorizontally"),
visible:Eg(Rd(h),m)})}}),Xd({name:"distributeVertically",perform:function(d,h){return{appState:h,elements:yn(d,h,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyV"===d.code},PanelComponent:function(d){var h=d.elements,m=d.appState,A=d.updateData;return R().createElement(Qe,{hidden:!zo(h,m),type:"button",icon:R().createElement(Nh,{appearance:m.appearance}),onClick:function(){return A(null)},title:"".concat(Jb("labels.distributeVertically")," — ").concat(sd("Alt+V")),
"aria-label":Jb("labels.distributeVertically"),visible:Eg(Rd(h),m)})}}),function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();
pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&
W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),en=Xd({name:"copy",perform:function(d,h){return rk(Rd(d),h),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),Yp=Xd({name:"cut",perform:function(d,h,m,A){return en.perform(d,h,m,A),Al.perform(d,h,m,A)},contextItemLabel:"labels.cut",keyTest:function(d){return d[we]&&"KeyX"===d.code}}),rp=Xd({name:"copyAsSvg",perform:function(){var d=
tb()(function(h,m,A,P){var W,wa;return Sn(this,function(pa){switch(pa.label){case 0:if(!P.canvas)return[2,{commitToHistory:!1}];W=cf(Rd(h),m);pa.label=1;case 1:return pa.trys.push([1,3,,4]),[4,lc("clipboard-svg",W.length?W:Rd(h),m,P.canvas,m)];case 2:return pa.sent(),[2,{commitToHistory:!1}];case 3:return wa=pa.sent(),console.error(wa),[2,{appState:nd(nd({},m),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(h,m,A,P){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),
qp=Xd({name:"copyAsPng",perform:function(){var d=tb()(function(h,m,A,P){var W,wa;return Sn(this,function(pa){switch(pa.label){case 0:if(!P.canvas)return[2,{commitToHistory:!1}];W=cf(Rd(h),m);pa.label=1;case 1:return pa.trys.push([1,3,,4]),[4,lc("clipboard",W.length?W:Rd(h),m,P.canvas,m)];case 2:return pa.sent(),[2,{appState:nd(nd({},m),{},{toastMessage:Jb("toast.copyToClipboardAsPng",{exportSelection:W.length?Jb("toast.selection"):Jb("toast.canvas"),exportColorScheme:m.exportWithDarkMode?Jb("buttons.darkMode"):
Jb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return wa=pa.sent(),console.error(wa),[2,{appState:nd(nd({},m),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(h,m,A,P){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),op=Xd({name:"gridMode",perform:function(d,h){return dh("view","mode","grid"),{appState:xc(xc({},h),{},{gridSize:this.checked(h)?null:Pa.k}),commitToHistory:!1}},
checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[we]&&"Quote"===d.code}}),Yd=Xd({name:"zenMode",perform:function(d,h){return dh("view","mode","zen"),{appState:Na(Na({},h),{},{zenModeEnabled:!this.checked(h)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[we]&&d.altKey&&"KeyZ"===d.code}}),Tn=Xd({name:"stats",perform:function(d,h){return{appState:tc(tc({},
h),{},{showStats:!this.checked(h)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),pp=function(d,h,m){if(!(h.multiElement||h.resizingElement||h.editingElement||h.draggingElement)){m=m();if(null===m)return{commitToHistory:!1};var A=Gh(d),P=m.elements,W=Gh(P);d=d.filter(function(wa){return!W.hasOwnProperty(wa.id)});P=P.map(function(wa){return wf(A[wa.id]||wa,wa)}).concat(d.map(function(wa){return wf(wa,{isDeleted:!0})}));return li(P,d),{elements:P,appState:$c($c({},
h),m.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},hm=function(){function d(h,m,A,P){var W=this;this.actions={};this.renderAction=function(wa,pa){if(W.actions[wa]&&"PanelComponent"in W.actions[wa]){var Ba=W.actions[wa];wa=Ba.PanelComponent;return R().createElement(wa,{elements:W.getElementsIncludingDeleted(),appState:W.getAppState(),updateData:function(Ma){W.updater(Ba.perform(W.getElementsIncludingDeleted(),W.getAppState(),Ma,W.app))},id:pa})}return null};this.updater=
function(wa){if(!(wa&&"then"in wa))return h(wa);wa.then(function(pa){return h(pa)})};this.getAppState=m;this.getElementsIncludingDeleted=A;this.app=P}return d.prototype.registerAction=function(h){this.actions[h.name]=h},d.prototype.registerAll=function(h){var m=this;h.forEach(function(A){return m.registerAction(A)})},d.prototype.handleKeyDown=function(h){var m=this,A=Object.values(this.actions).sort(function(P,W){return(W.keyPriority||0)-(P.keyPriority||0)}).filter(function(P){return P.keyTest&&P.keyTest(h,
m.getAppState(),m.getElementsIncludingDeleted())});return 0!==A.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Pa.EH).includes(A[0].name))&&(h.preventDefault(),this.updater(A[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(h){this.updater(h.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Lm=function(d){d=Array.from(d.values());return{x:Xn(d,function(h){return h.x})/d.length,y:Xn(d,
function(h){return h.y})/d.length}},Vn=function(d){var h=d[0];d=d[1];return Math.hypot(h.x-d.x,h.y-d.y)},Xn=function(d,h){return d.reduce(function(m,A){return m+h(A)},0)},Bo,$p=function(){function d(){var h=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(m,A){return h.dehydrateHistoryEntry({appState:{selectedElementIds:m.selectedElementIds,viewBackgroundColor:m.viewBackgroundColor,editingLinearElement:m.editingLinearElement,
editingGroupId:m.editingGroupId,name:m.name},elements:A.reduce(function(P,W){if(pg(W)&&m.multiElement&&m.multiElement.id===W.id){if(m.multiElement&&m.multiElement.id===W.id&&2>W.points.length)return P;P.push(qe(qe({},W),{},{points:W.lastCommittedPoint!==W.points[W.points.length-1]?W.points.slice(0,-1):W.points}))}else P.push(W);return P},[])})}}return d.prototype.hydrateHistoryEntry=function(h){var m=h.elements,A=this;return{appState:JSON.parse(h.appState),elements:m.map(function(P){var W,wa=null===
(W=A.elementCache.get(P.id))||void 0===W?void 0:W.get(P.versionNonce);if(!wa)throw Error("Element not found: ".concat(P.id,":").concat(P.versionNonce));return wa})}},d.prototype.dehydrateHistoryEntry=function(h){var m=h.elements,A=this;return{appState:JSON.stringify(h.appState),elements:m.map(function(P){A.elementCache.has(P.id)||A.elementCache.set(P.id,new Map);var W=A.elementCache.get(P.id);return W.has(P.versionNonce)||W.set(P.versionNonce,fi(P)),{id:P.id,versionNonce:P.versionNonce}})}},d.prototype.getSnapshotForTest=
function(){var h=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(m){return h.hydrateHistoryEntry(m)}),redoStack:this.redoStack.map(function(m){return h.hydrateHistoryEntry(m)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(h){var m,A=this.lastEntry;if(!A||h.elements.length!==A.elements.length)return!0;for(var P=h.elements.length-1;-1<P;P--){var W=
h.elements[P],wa=A.elements[P];if(!W||!wa||W.id!==wa.id||W.versionNonce!==wa.versionNonce)return!0}for(m in h.appState){var pa,Ba;if(("editingLinearElement"!==m||(null===(pa=h.appState[m])||void 0===pa?void 0:pa.elementId)!==(null===(Ba=A.appState[m])||void 0===Ba?void 0:Ba.elementId))&&"selectedElementIds"!==m&&h.appState[m]!==A.appState[m])return!0}return!1},d.prototype.pushEntry=function(h,m){h=this.generateEntry(h,m);(m=this.hydrateHistoryEntry(h))&&this.shouldCreateEntry(m)&&(this.stateHistory.push(h),
this.lastEntry=m,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var h=this.redoStack.pop();return void 0!==h?(this.stateHistory.push(h),this.hydrateHistoryEntry(h)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var h=this.stateHistory.pop(),m=this.stateHistory[this.stateHistory.length-1];return void 0!==h?(this.redoStack.push(h),
this.hydrateHistoryEntry(m)):null},d.prototype.setCurrentState=function(h,m){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(h,m))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(h,m){this.recording&&(this.pushEntry(h,m),this.recording=!1)},d}(),jm=[{icon:R().createElement("svg",{viewBox:"0 0 320 512",className:""},R().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:R().createElement("svg",{viewBox:"0 0 448 512"},R().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:R().createElement("svg",{viewBox:"0 0 223.646 223.646"},R().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:R().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},R().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:R().createElement("svg",{viewBox:"0 0 6 6"},
R().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:R().createElement("svg",{viewBox:"0 0 448 512"},R().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],yo=(g(4518),{cut:[sd("CtrlOrCmd+X")],copy:[sd("CtrlOrCmd+C")],
paste:[sd("CtrlOrCmd+V")],copyStyles:[sd("CtrlOrCmd+Alt+C")],pasteStyles:[sd("CtrlOrCmd+Alt+V")],selectAll:[sd("CtrlOrCmd+A")],deleteSelectedElements:[sd("Del")],duplicateSelection:[sd("CtrlOrCmd+D"),sd("Alt+".concat(Jb("helpDialog.drag")))],sendBackward:[sd("CtrlOrCmd+[")],bringForward:[sd("CtrlOrCmd+]")],sendToBack:[sd(yg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[sd(yg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[sd("Shift+Alt+C")],copyAsSvg:[],group:[sd("CtrlOrCmd+G")],ungroup:[sd("CtrlOrCmd+Shift+G")],
gridMode:[sd("CtrlOrCmd+'")],zenMode:[sd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[sd("Alt+R")]}),Xp=function(d){var h,m=d.options,A=d.onCloseRequest,P=d.top,W=d.left,wa=d.actionManager,pa=d.appState;d=!(null===(h=document.querySelector(".excalidraw"))||void 0===h||!h.classList.contains("Appearance_dark"));return R().createElement("div",{className:Bc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},R().createElement(eb,{onCloseRequest:A,top:P,left:W,fitInViewport:!0},R().createElement("ul",
{className:"context-menu",onContextMenu:function(Ba){return Ba.preventDefault()}},m.map(function(Ba,Ma){var Ga;if("separator"===Ba)return R().createElement("hr",{key:Ma,className:"context-menu-option-separator"});var hb,jb=Ba.name,kb=Ba.contextItemLabel?Jb(Ba.contextItemLabel):"";return R().createElement("li",{key:Ma,"data-testid":jb,onClick:A},R().createElement("button",{className:Bc("context-menu-option",{dangerous:"deleteSelectedElements"===jb,checkmark:null===(Ga=Ba.checked)||void 0===Ga?void 0:
Ga.call(Ba,pa)}),onClick:function(){return wa.executeAction(Ba)}},R().createElement("div",{className:"context-menu-option__label"},kb),R().createElement("kbd",{className:"context-menu-option__shortcut"},jb?(hb=yo[jb])&&0<hb.length?hb[0]:"":"")))}))))},xo=function(){if(Bo)return Bo;var d=document.createElement("div");return document.body.appendChild(d),Bo=d},Km=function(){(0,Ug.unmountComponentAtNode)(xo())};const zn=function(d){var h=[];d.options.forEach(function(m){m&&h.push(m)});h.length&&(0,Ug.render)(R().createElement(Xp,
{top:d.top,left:d.left,options:h,onCloseRequest:Km,actionManager:d.actionManager,appState:d.appState}),xo())};g(1575);const Mk=function(d){var h=d.children,m=d.gap,A=d.align,P=d.justifyContent,W=d.className;d=d.style;return R().createElement("div",{className:Bc("Stack Stack_horizontal",W),style:Xc({"--gap":m,alignItems:A,justifyContent:P},d)},h)},Nk=function(d){var h=d.children,m=d.gap,A=d.align,P=d.justifyContent;d=d.className;return R().createElement("div",{className:Bc("Stack Stack_vertical",d),
style:{"--gap":m,justifyItems:A,justifyContent:P}},h)};var $q=function(d){var h=d.appState,m=d.renderAction,A=d.elementType;d=nj(Rd(d.elements),h);h=!!h.editingElement;var P=Ce(),W="rtl"===document.documentElement.getAttribute("dir"),wa=Ij(A)||d.some(function(Ba){return Ij(Ba.type)&&(Ma=Ba.backgroundColor,Ga=5===Ma.length&&"0"===Ma.substr(4,1),hb=9===Ma.length&&"00"===Ma.substr(7,2),!(Ga||hb||Ma===qg.elementBackground[0]));var Ma,Ga,hb}),pa=Ij(A)||d.some(function(Ba){return Ij(Ba.type)});return R().createElement("div",
{className:"panelColumn"},m("changeStrokeColor"),pa&&m("changeBackgroundColor"),wa&&m("changeFillStyle"),(Bf(A)||d.some(function(Ba){return Bf(Ba.type)}))&&R().createElement(R().Fragment,null,m("changeStrokeWidth"),m("changeStrokeStyle"),m("changeSloppiness")),(rj(A)||d.some(function(Ba){return rj(Ba.type)}))&&R().createElement(R().Fragment,null,m("changeSharpness")),("text"===A||d.some(function(Ba){return"text"===Ba.type}))&&R().createElement(R().Fragment,null,m("changeFontSize"),m("changeFontFamily"),
m("changeTextAlign")),("arrow"===A||d.some(function(Ba){return"arrow"===Ba.type}))&&R().createElement(R().Fragment,null,m("changeArrowhead")),m("changeOpacity"),R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.layers")),R().createElement("div",{className:"buttonList"},m("sendToBack"),m("sendBackward"),m("bringToFront"),m("bringForward"))),1<d.length&&R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.align")),R().createElement("div",{className:"buttonList"},
W?R().createElement(R().Fragment,null,m("alignRight"),m("alignHorizontallyCentered"),m("alignLeft")):R().createElement(R().Fragment,null,m("alignLeft"),m("alignHorizontallyCentered"),m("alignRight")),2<d.length&&m("distributeHorizontally"),R().createElement("div",{className:"iconRow"},m("alignTop"),m("alignVerticallyCentered"),m("alignBottom"),2<d.length&&m("distributeVertically")))),!P&&!h&&0<d.length&&R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.actions")),R().createElement("div",
{className:"buttonList"},m("duplicateSelection"),m("deleteSelectedElements"),m("group"),m("ungroup"))))},Sr=R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
Wp=function(d){var h=d.canvas,m=d.elementType,A=d.setAppState,P=d.isLibraryOpen;return R().createElement(R().Fragment,null,jm.map(function(W,wa){var pa=W.value,Ba=W.icon,Ma=W.key;W=Jb("toolBar.".concat(pa));Ma="".concat(Vj("string"==typeof Ma?Ma:Ma[0])," ").concat(Jb("helpDialog.or")," ").concat(wa+1);return R().createElement(Qe,{className:"Shape",key:pa,type:"radio",icon:Ba,checked:m===pa,name:"editor-current-shape",title:"".concat(Vj(W)," — ").concat(Ma),keyBindingLabel:"".concat(wa+1),"aria-label":Vj(W),
"aria-keyshortcuts":Ma,"data-testid":pa,onChange:function(){A({elementType:pa,multiElement:null,selectedElementIds:{}});Kf(h,pa);A({})}})}),R().createElement(Qe,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Sr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(Vj(Jb("toolBar.library"))," — 9"),"aria-label":Vj(Jb("toolBar.library")),onClick:function(){A({isLibraryOpen:!P})}}))},Rr=function(d){var h=d.renderAction;d=d.zoom;return R().createElement(Nk,
{gap:1},R().createElement(Mk,{gap:1,align:"center"},h("zoomIn"),h("zoomOut"),h("resetZoom"),R().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Zq=function(d){var h=d.appState,m=d.setAppState;d=d.actionManager;return R().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),R().createElement("div",{style:{marginInlineStart:"0.25rem"}},R().createElement(Ak,{value:h.appearance,onChange:function(A){m({appearance:A})}})))};g(3211);
const ar=function(d){var h=d.isCollaborating,m=d.collaboratorCount;d=d.onClick;return R().createElement(R().Fragment,null,R().createElement(Qe,{className:Bc("CollabButton",{"is-collaborating":h}),onClick:d,icon:oe,type:"button",title:Jb("labels.liveCollaboration"),"aria-label":Jb("labels.liveCollaboration"),showAriaLabel:Ce()},0<m&&R().createElement("div",{className:"CollabButton-collaborators"},m)))};g(3040);g(7428);var Pk=R().forwardRef(function(d,h){var m=d.children,A=d.padding,P=d.className;d=
d.style;return R().createElement("div",{className:Bc("Island",P),style:lb({"--padding":A},d),ref:h},m)}),Tr=(g(205),function(d){var h=sp();return h?(0,Ug.createPortal)(R().createElement("div",{className:Bc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(m){"Escape"===m.key&&(m.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},R().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),R().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),h):null}),sp=function(){var d=(0,Z.useState)(null),h=d[0],m=d[1];return(0,Z.useLayoutEffect)(function(){var A,P=!(null===(A=document.querySelector(".excalidraw"))||void 0===A||!A.classList.contains("Appearance_dark")),W=document.createElement("div");return W.classList.add("excalidraw","excalidraw-modal-container"),P&&(W.classList.add("Appearance_dark"),W.classList.add("Appearance_dark-background-none")),document.body.appendChild(W),
m(W),function(){document.body.removeChild(W)}},[]),h},x=function(d){var h=function(){var P=(0,Z.useState)(null),W=P[1];return[P[0],(0,Z.useCallback)(function(wa){return W(wa)},[])]}(),m=h[0];h=h[1];(0,Z.useEffect)(function(){if(m){var P=A(m);0<P.length&&!1!==d.autofocus&&(P[1]||P[0]).focus();var W=function(wa){if("Tab"===wa.key){var pa=A(m),Ba=document.activeElement,Ma=pa.findIndex(function(Ga){return Ga===Ba});0===Ma&&wa.shiftKey?(pa[pa.length-1].focus(),wa.preventDefault()):Ma!==pa.length-1||wa.shiftKey||
(pa[0].focus(),wa.preventDefault())}};return m.addEventListener("keydown",W),function(){return m.removeEventListener("keydown",W)}}},[m,d.autofocus]);var A=function(P){return(P=P.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(P):[]};return R().createElement(Tr,{className:Bc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},R().createElement(Pk,{ref:h},R().createElement("h2",{id:"dialog-title",className:"Dialog__title"},
R().createElement("span",{className:"Dialog__titleContent"},d.title),R().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":Jb("buttons.close")},Ce()?Qj:sj)),R().createElement("div",{className:"Dialog__content"},d.children)))},L=function(d){var h=d.message,m=d.onClose,A=(0,Z.useState)(!!h);d=A[0];var P=A[1];A=R().useCallback(function(){P(!1);m&&m()},[m]);return R().createElement(R().Fragment,null,d&&R().createElement(x,{small:!0,onCloseRequest:A,title:Jb("errorDialog.title")},
R().createElement("div",null,h.split("\n").map(function(W){return R().createElement(R().Fragment,null,W,R().createElement("br",null))}))))},aa=(g(8623),[1,2,3]),Fa=aa.includes(devicePixelRatio)?devicePixelRatio:1,Xa="filter"in document.createElement("canvas").getContext("2d"),nb=function(){return R().createElement("div",null,R().createElement("h3",null,Jb("canvasError.cannotShowPreview")),R().createElement("p",null,R().createElement("span",null,Jb("canvasError.canvasTooBig"))),R().createElement("em",
null,"(",Jb("canvasError.canvasTooBigTip"),")"))},xb=function(d,h){(0,Ug.unmountComponentAtNode)(h);h.innerHTML="";d instanceof HTMLCanvasElement?h.appendChild(d):(0,Ug.render)(R().createElement(nb,null),h)},Mb=function(d){var h=d.elements,m=d.appState,A=d.exportPadding,P=void 0===A?10:A;A=d.actionManager;var W=d.onExportToPng,wa=d.onExportToSvg,pa=d.onExportToClipboard,Ba=d.onExportToBackend,Ma=Eg(h,m);d=(0,Z.useState)(Fa);var Ga=d[0],hb=d[1];d=(0,Z.useState)(Ma);var jb=d[0],kb=d[1],Kb=(0,Z.useRef)(null),
Ib=m.exportBackground,nc=m.viewBackgroundColor,Sc=m.shouldAddWatermark,Yc=jb?cf(h,m):h;return(0,Z.useEffect)(function(){kb(Ma)},[Ma]),(0,Z.useEffect)(function(){var jd=Kb.current;if(jd)try{var le=Pl(Yc,m,{exportBackground:Ib,viewBackgroundColor:nc,exportPadding:P,scale:Ga,shouldAddWatermark:Sc});Bm(le).then(function(){xb(le,jd)}).catch(function(je){console.error(je);xb(new fn,jd)})}catch(je){console.error(je),xb(new fn,jd)}},[m,Yc,Ib,P,nc,Ga,Sc]),R().createElement("div",{className:"ExportDialog"},
R().createElement("div",{className:"ExportDialog__preview",ref:Kb}),Xa&&A.renderAction("exportWithDarkMode"),R().createElement(Nk,{gap:2,align:"center"},R().createElement("div",{className:"ExportDialog__actions"},R().createElement(Mk,{gap:2},R().createElement(Qe,{type:"button",label:"PNG",title:Jb("buttons.exportToPng"),"aria-label":Jb("buttons.exportToPng"),onClick:function(){return W(Yc,Ga)}}),R().createElement(Qe,{type:"button",label:"SVG",title:Jb("buttons.exportToSvg"),"aria-label":Jb("buttons.exportToSvg"),
onClick:function(){return wa(Yc,Ga)}}),sk&&R().createElement(Qe,{type:"button",icon:$i,title:Jb("buttons.copyPngToClipboard"),"aria-label":Jb("buttons.copyPngToClipboard"),onClick:function(){return pa(Yc,Ga)}}),Ba&&R().createElement(Qe,{type:"button",icon:Yk,title:Jb("buttons.getShareableLink"),"aria-label":Jb("buttons.getShareableLink"),onClick:function(){return Ba(Yc)}})),R().createElement("div",{className:"ExportDialog__name"},A.renderAction("changeProjectName")),R().createElement(Mk,{gap:2},aa.map(function(jd){var le=
function(xe,pe,Oe,md){xe=Ni(xe,Oe);pe=bn(xe,pe,Oe).map(function(Hd){return Math.trunc(Hd*md)});return[pe[2],pe[3]]}(Yc,P,Sc,jd),je=le[0];le=le[1];je="".concat(Jb("buttons.scale")," ").concat(jd,"x (").concat(je,"x").concat(le,")");return R().createElement(Qe,{key:jd,size:"s",type:"radio",icon:"".concat(jd,"x"),name:"export-canvas-scale",title:je,"aria-label":je,id:"export-canvas-scale",checked:jd===Ga,onChange:function(){return hb(jd)}})}))),A.renderAction("changeExportBackground"),Ma&&R().createElement("div",
null,R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:jb,onChange:function(jd){return kb(jd.currentTarget.checked)}})," ",Jb("labels.onlySelected"))),A.renderAction("changeExportEmbedScene"),A.renderAction("changeShouldAddWatermark")))},mc=function(d){var h=d.elements,m=d.appState,A=d.exportPadding;A=void 0===A?10:A;var P=d.actionManager,W=d.onExportToPng,wa=d.onExportToSvg,pa=d.onExportToClipboard;d=d.onExportToBackend;var Ba=(0,Z.useState)(!1),Ma=Ba[0],Ga=Ba[1],
hb=(0,Z.useRef)(null);Ba=R().useCallback(function(){var jb;Ga(!1);null===(jb=hb.current)||void 0===jb||jb.focus()},[]);return R().createElement(R().Fragment,null,R().createElement(Qe,{onClick:function(){Ga(!0)},icon:Ki,type:"button","aria-label":Jb("buttons.export"),showAriaLabel:Ce(),title:Jb("buttons.export"),ref:hb}),Ma&&R().createElement(x,{onCloseRequest:Ba,title:Jb("buttons.export")},R().createElement(Mb,{elements:h,appState:m,exportPadding:A,actionManager:P,onExportToPng:W,onExportToSvg:wa,
onExportToClipboard:pa,onExportToBackend:d,onCloseRequest:Ba})))},Nc=(g(4193),function(d){var h=d.children,m=d.side;d=d.className;return R().createElement("div",{className:Bc("FixedSideContainer","FixedSideContainer_side_".concat(m),d)},h)}),$d=R().memo(function(d){d=d.appearance;return R().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},R().createElement("a",{href:"https://github.com/excalidraw/excalidraw",
target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},R().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?Vd.MA[6]:Vd.MA[8]}),R().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===d?Vd.ix:Vd.Sn}),R().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===d?Vd.ix:Vd.Sn})))}),hf=(g(9705),function(d){return(d=function(h){var m=h.appState,A=h.elements,P=m.elementType;h=m.isResizing;var W=m.isRotating,wa=m.lastPointerDownWith,pa=null!==m.multiElement;if("arrow"===P||"line"===P)return Jb(pa?"hints.linearElementMulti":"hints.linearElement");if("draw"===P)return Jb("hints.freeDraw");if("text"===P)return Jb("hints.text");A=cf(A,m);return h&&"mouse"===wa&&1===A.length?(m=A[0],pg(m)&&2===m.points.length?Jb("hints.lockAngle"):Jb("hints.resize")):
W&&"mouse"===wa?Jb("hints.rotate"):1===A.length&&pg(A[0])?m.editingLinearElement?m.editingLinearElement.activePointIndex?Jb("hints.lineEditor_pointSelected"):Jb("hints.lineEditor_nothingSelected"):Jb("hints.lineEditor_info"):null}({appState:d.appState,elements:d.elements}))?(d=sd(d),R().createElement("div",{className:"HintViewer"},R().createElement("span",null,d))):null}),qd=(g(8465),g(8680),R().createElement("svg",{viewBox:"0 0 1792 1792"},R().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
se=function(d){var h=d.elements,m=d.pendingElements,A=d.onRemoveFromLibrary;d=d.onClick;var P=(0,Z.useRef)(null);(0,Z.useEffect)(function(){var Ma=h||m;if(Ma){var Ga=wl(Ma,{exportBackground:!1,viewBackgroundColor:Vd.ix,shouldAddWatermark:!1});Ma=0;for(var hb=P.current.children;Ma<hb.length;Ma++){var jb=hb[Ma];"svg"===jb.tagName&&P.current.removeChild(jb)}P.current.appendChild(Ga);var kb=P.current;return function(){kb.removeChild(Ga)}}},[h,m]);var W=(0,Z.useState)(!1),wa=W[0],pa=W[1];W=Ce();var Ba=
(wa||W)&&m&&R().createElement("div",{className:"library-unit__adder"},qd);return R().createElement("div",{className:Bc("library-unit",{"library-unit__active":h||m}),onMouseEnter:function(){return pa(!0)},onMouseLeave:function(){return pa(!1)}},R().createElement("div",{className:Bc("library-unit__dragger",{"library-unit__pulse":!!m}),ref:P,draggable:!!h,onClick:h||m?d:void 0,onDragStart:function(Ma){pa(!1);Ma.dataTransfer.setData(Pa.LO.excalidrawlib,JSON.stringify(h))}}),Ba,h&&(wa||W)&&R().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":Jb("labels.removeFromLibrary"),onClick:A},sj))},jf=R().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},R().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),Te=R().createElement("svg",{width:"1792",height:"1792",
viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},R().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Fc=function(d){return R().createElement("label",{className:Bc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},R().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),R().createElement("div",{className:"ToolIcon__icon"},d.checked?jf:Te))},pc=function(d){var h=d.heading,m=d.children;d=si()(d,["heading","children"]);var A=R().createElement("h2",{className:"visually-hidden",id:"".concat(h,
"-title")},Jb("headings.".concat(h)));return R().createElement("section",Ad()({},d,{"aria-labelledby":"".concat(h,"-title")}),"function"==typeof m?m(A):R().createElement(R().Fragment,null,A,m))},Ac=(g(3142),function(d){var h=d.children,m=d.className;d=d.mobile;return R().createElement("div",{className:Bc("UserList",m,{UserList_mobile:d})},h)}),id=function(d){var h=d.appState,m=d.elements,A=d.libraryMenu,P=d.actionManager,W=d.exportButton,wa=d.setAppState,pa=d.onCollabButtonClick,Ba=d.onLockToggle,
Ma=d.canvas,Ga=d.isCollaborating,hb=d.renderCustomFooter;d=d.viewModeEnabled;return R().createElement(R().Fragment,null,!d&&R().createElement(Nc,{side:"top",className:"App-top-bar"},R().createElement(pc,{heading:"shapes"},function(jb){return R().createElement(Nk,{gap:4,align:"center"},R().createElement(Mk,{gap:1},R().createElement(Pk,{padding:1},jb,R().createElement(Mk,{gap:1},R().createElement(Wp,{canvas:Ma,elementType:h.elementType,setAppState:wa,isLibraryOpen:h.isLibraryOpen}))),R().createElement(Fc,
{checked:h.elementLocked,onChange:Ba,title:Jb("toolBar.lock")})),A)}),R().createElement(hf,{appState:h,elements:m})),R().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},R().createElement(Pk,{padding:0},"canvas"===h.openMenu?R().createElement(pc,{className:"App-mobile-menu",heading:"canvasActions"},R().createElement("div",{className:"panelColumn"},R().createElement(Nk,{gap:4},d?R().createElement(R().Fragment,null,P.renderAction("saveScene"),P.renderAction("saveAsScene"),
W):R().createElement(R().Fragment,null,P.renderAction("loadScene"),P.renderAction("saveScene"),P.renderAction("saveAsScene"),W,P.renderAction("clearCanvas"),pa&&R().createElement(ar,{isCollaborating:Ga,collaboratorCount:h.collaborators.size,onClick:pa}),R().createElement(Zq,{actionManager:P,appState:h,setAppState:wa})),null==hb?void 0:hb(!0),0<h.collaborators.size&&R().createElement("fieldset",null,R().createElement("legend",null,Jb("labels.collaborators")),R().createElement(Ac,{mobile:!0},Array.from(h.collaborators).filter(function(jb){jb[0];
return 0!==Object.keys(jb[1]).length}).map(function(jb){var kb=jb[0];jb[1];return R().createElement(R().Fragment,{key:kb},P.renderAction("goToCollaborator",kb))})))))):"shape"===h.openMenu&&!d&&Ef(h,m)?R().createElement(pc,{className:"App-mobile-menu",heading:"selectedShapeActions"},R().createElement($q,{appState:h,elements:m,renderAction:P.renderAction,elementType:h.elementType})):null,R().createElement("footer",{className:"App-toolbar"},d?R().createElement("div",{className:"App-toolbar-content"},
P.renderAction("toggleCanvasMenu")):R().createElement("div",{className:"App-toolbar-content"},P.renderAction("toggleCanvasMenu"),P.renderAction("toggleEditMenu"),P.renderAction("undo"),P.renderAction("redo"),P.renderAction(h.multiElement?"finalize":"duplicateSelection"),P.renderAction("deleteSelectedElements")),h.scrolledOutside&&!h.openMenu&&R().createElement("button",{className:"scroll-back-to-content",onClick:function(){wa(function(jb){for(var kb=1;kb<arguments.length;kb++){var Kb=null!=arguments[kb]?
arguments[kb]:{};kb%2?fe(Object(Kb),!0).forEach(function(Ib){ve()(jb,Ib,Kb[Ib])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jb,Object.getOwnPropertyDescriptors(Kb)):fe(Object(Kb)).forEach(function(Ib){Object.defineProperty(jb,Ib,Object.getOwnPropertyDescriptor(Kb,Ib))})}return jb}({},mi(m,h)))}},Jb("buttons.scrollBackToContent"))))))},pd=(g(8416),function(d){var h=(0,Z.useRef)(null),m=(0,Z.useState)(null),A=m[0],P=m[1];return(0,Z.useLayoutEffect)(function(){if(d.spreadsheet){var W=
Hk(d.chartType,d.spreadsheet,0,0);P(W);var wa=wl(W,{exportBackground:!1,viewBackgroundColor:Vd.ix,shouldAddWatermark:!1}),pa=h.current;return pa.appendChild(wa),d.selected&&pa.parentNode.focus(),function(){pa.removeChild(wa)}}},[d.spreadsheet,d.chartType,d.selected]),R().createElement("button",{className:"ChartPreview",onClick:function(){A&&d.onClick(d.chartType,A)}},R().createElement("div",{ref:h}))}),tf=function(d){var h=d.setAppState,m=d.appState,A=d.onClose,P=d.onInsertChart;d=R().useCallback(function(){A&&
A()},[A]);var W=function(wa,pa){P(pa);dh("magic","chart",wa);h({currentChartType:wa,pasteDialog:{shown:!1,data:null}})};return R().createElement(x,{small:!0,onCloseRequest:d,title:Jb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},R().createElement("div",{className:"container"},R().createElement(pd,{chartType:"bar",spreadsheet:m.pasteDialog.data,selected:"bar"===m.currentChartType,onClick:W}),R().createElement(pd,{chartType:"line",spreadsheet:m.pasteDialog.data,selected:"line"===
m.currentChartType,onClick:W})))},me=(g(341),function(){return R().createElement("div",{className:"HelpDialog--header"},R().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},Jb("helpDialog.documentation")),R().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},Jb("helpDialog.blog")),R().createElement("a",{className:"HelpDialog--btn",
href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},Jb("helpDialog.github")))}),uf=function(d){return R().createElement(R().Fragment,null,R().createElement("h3",null,d.title),d.children)},Wf=function(d){return R().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},Af=function(d){return R().createElement("div",{style:{width:"49%"}},d.children)},dm=function(d){return R().createElement("div",
{className:"HelpDialog--island"},R().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},af=function(d){return R().createElement("div",{className:"HelpDialog--shortcut"},R().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},R().createElement("div",{style:{lineHeight:1.4}},d.label),R().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(h,
m){return R().createElement(R().Fragment,{key:m},R().createElement(St,null,h),d.isOr&&m!==d.shortcuts.length-1&&Jb("helpDialog.or"))}))))};af.defaultProps={isOr:!0};var St=function(d){return R().createElement("kbd",Ad()({className:"HelpDialog--key"},d))},Tt=function(d){var h=d.onClose;d=R().useCallback(function(){h&&h()},[h]);return R().createElement(R().Fragment,null,R().createElement(x,{onCloseRequest:d,title:Jb("helpDialog.title"),className:"HelpDialog"},R().createElement(me,null),R().createElement(uf,
{title:Jb("helpDialog.shortcuts")},R().createElement(Wf,null,R().createElement(Af,null,R().createElement(dm,{caption:Jb("helpDialog.shapes")},R().createElement(af,{label:Jb("toolBar.selection"),shortcuts:["V","1"]}),R().createElement(af,{label:Jb("toolBar.rectangle"),shortcuts:["R","2"]}),R().createElement(af,{label:Jb("toolBar.diamond"),shortcuts:["D","3"]}),R().createElement(af,{label:Jb("toolBar.ellipse"),shortcuts:["E","4"]}),R().createElement(af,{label:Jb("toolBar.arrow"),shortcuts:["A","5"]}),
R().createElement(af,{label:Jb("toolBar.line"),shortcuts:["P","6"]}),R().createElement(af,{label:Jb("toolBar.draw"),shortcuts:["Shift+P","7"]}),R().createElement(af,{label:Jb("toolBar.text"),shortcuts:["T","8"]}),R().createElement(af,{label:Jb("helpDialog.textNewLine"),shortcuts:[sd("Enter"),sd("Shift+Enter")]}),R().createElement(af,{label:Jb("helpDialog.textFinish"),shortcuts:[sd("Esc"),sd("CtrlOrCmd+Enter")]}),R().createElement(af,{label:Jb("helpDialog.curvedArrow"),shortcuts:["A",Jb("helpDialog.click"),
Jb("helpDialog.click"),Jb("helpDialog.click")],isOr:!1}),R().createElement(af,{label:Jb("helpDialog.curvedLine"),shortcuts:["L",Jb("helpDialog.click"),Jb("helpDialog.click"),Jb("helpDialog.click")],isOr:!1}),R().createElement(af,{label:Jb("toolBar.lock"),shortcuts:["Q"]}),R().createElement(af,{label:Jb("helpDialog.preventBinding"),shortcuts:[sd("CtrlOrCmd")]})),R().createElement(dm,{caption:Jb("helpDialog.view")},R().createElement(af,{label:Jb("buttons.zoomIn"),shortcuts:[sd("CtrlOrCmd++")]}),R().createElement(af,
{label:Jb("buttons.zoomOut"),shortcuts:[sd("CtrlOrCmd+-")]}),R().createElement(af,{label:Jb("buttons.resetZoom"),shortcuts:[sd("CtrlOrCmd+0")]}),R().createElement(af,{label:Jb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),R().createElement(af,{label:Jb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),R().createElement(af,{label:Jb("buttons.fullScreen"),shortcuts:["F"]}),R().createElement(af,{label:Jb("buttons.zenMode"),shortcuts:[sd("Alt+Z")]}),R().createElement(af,{label:Jb("labels.showGrid"),
shortcuts:[sd("CtrlOrCmd+'")]}),R().createElement(af,{label:Jb("labels.viewMode"),shortcuts:[sd("Alt+R")]}))),R().createElement(Af,null,R().createElement(dm,{caption:Jb("helpDialog.editor")},R().createElement(af,{label:Jb("labels.selectAll"),shortcuts:[sd("CtrlOrCmd+A")]}),R().createElement(af,{label:Jb("labels.multiSelect"),shortcuts:[sd("Shift+".concat(Jb("helpDialog.click")))]}),R().createElement(af,{label:Jb("labels.moveCanvas"),shortcuts:[sd("Space+".concat(Jb("helpDialog.drag"))),sd("Wheel+".concat(Jb("helpDialog.drag")))],
isOr:!0}),R().createElement(af,{label:Jb("labels.cut"),shortcuts:[sd("CtrlOrCmd+X")]}),R().createElement(af,{label:Jb("labels.copy"),shortcuts:[sd("CtrlOrCmd+C")]}),R().createElement(af,{label:Jb("labels.paste"),shortcuts:[sd("CtrlOrCmd+V")]}),R().createElement(af,{label:Jb("labels.copyAsPng"),shortcuts:[sd("Shift+Alt+C")]}),R().createElement(af,{label:Jb("labels.copyStyles"),shortcuts:[sd("CtrlOrCmd+Alt+C")]}),R().createElement(af,{label:Jb("labels.pasteStyles"),shortcuts:[sd("CtrlOrCmd+Alt+V")]}),
R().createElement(af,{label:Jb("labels.delete"),shortcuts:[sd("Del")]}),R().createElement(af,{label:Jb("labels.sendToBack"),shortcuts:[sd(yg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),R().createElement(af,{label:Jb("labels.bringToFront"),shortcuts:[sd(yg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),R().createElement(af,{label:Jb("labels.sendBackward"),shortcuts:[sd("CtrlOrCmd+[")]}),R().createElement(af,{label:Jb("labels.bringForward"),shortcuts:[sd("CtrlOrCmd+]")]}),R().createElement(af,{label:Jb("labels.alignTop"),
shortcuts:[sd("CtrlOrCmd+Shift+Up")]}),R().createElement(af,{label:Jb("labels.alignBottom"),shortcuts:[sd("CtrlOrCmd+Shift+Down")]}),R().createElement(af,{label:Jb("labels.alignLeft"),shortcuts:[sd("CtrlOrCmd+Shift+Left")]}),R().createElement(af,{label:Jb("labels.alignRight"),shortcuts:[sd("CtrlOrCmd+Shift+Right")]}),R().createElement(af,{label:Jb("labels.duplicateSelection"),shortcuts:[sd("CtrlOrCmd+D"),sd("Alt+".concat(Jb("helpDialog.drag")))]}),R().createElement(af,{label:Jb("buttons.undo"),shortcuts:[sd("CtrlOrCmd+Z")]}),
R().createElement(af,{label:Jb("buttons.redo"),shortcuts:zj?[sd("CtrlOrCmd+Y"),sd("CtrlOrCmd+Shift+Z")]:[sd("CtrlOrCmd+Shift+Z")]}),R().createElement(af,{label:Jb("labels.group"),shortcuts:[sd("CtrlOrCmd+G")]}),R().createElement(af,{label:Jb("labels.ungroup"),shortcuts:[sd("CtrlOrCmd+Shift+G")]})))))))},Zr=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&
W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],
pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Js=function(d,h){for(var m=0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},Ut=function(d){var h=
d.library,m=d.onRemoveFromLibrary,A=d.onAddToLibrary,P=d.onInsertShape,W=d.pendingElements,wa=d.setAppState,pa=d.setLibraryItems;d=Ce()?4:6;var Ba=Math.max(1,Math.ceil((h.length+(0<W.length?1:0))/d)),Ma=[],Ga=!1;Ma.push(R().createElement("div",{className:"layer-ui__library-header"},R().createElement(Qe,{key:"import",type:"button",title:Jb("buttons.load"),"aria-label":Jb("buttons.load"),icon:Gk,onClick:function(){mp().then(function(){wa({isLibraryOpen:!1})}).catch(uk).catch(function(nc){wa({errorMessage:nc.message})})}}),
R().createElement(Qe,{key:"export",type:"button",title:Jb("buttons.export"),"aria-label":Jb("buttons.export"),icon:Ki,onClick:function(){cm().catch(uk).catch(function(nc){wa({errorMessage:nc.message})})}}),R().createElement(Qe,{key:"reset",type:"button",title:Jb("buttons.resetLibrary"),"aria-label":Jb("buttons.resetLibrary"),icon:Fi,onClick:function(){window.confirm(Jb("alerts.resetLibrary"))&&(gh.resetLibrary(),pa([]))}}),R().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
Jb("labels.libraries"))));for(var hb=0;hb<Ba;hb++){for(var jb=d*hb,kb=[],Kb=0;Kb<d;Kb++){var Ib=0<W.length&&!Ga&&jb+Kb>=h.length;Ga=Ga||Ib;kb.push(R().createElement(Nk,{key:Kb},R().createElement(se,{elements:h[jb+Kb],pendingElements:Ib?W:void 0,onRemoveFromLibrary:m.bind(null,jb+Kb),onClick:Ib?A.bind(null,W):P.bind(null,h[jb+Kb])})))}Ma.push(R().createElement(Mk,{align:"center",gap:1,key:hb},kb))}return R().createElement(Nk,{align:"start",gap:1,className:"layer-ui__library-items"},Ma)},Vt=function(d){var h=
d.onClickOutside,m=d.onInsertShape,A=d.pendingElements,P=d.onAddToLibrary;d=d.setAppState;var W=(0,Z.useRef)(null);!function(kb,Kb){(0,Z.useEffect)(function(){var Ib=function(nc){kb.current&&(nc.target instanceof Element&&(kb.current.contains(nc.target)||!document.body.contains(nc.target))||Kb(nc))};return document.addEventListener("pointerdown",Ib,!1),function(){document.removeEventListener("pointerdown",Ib)}},[kb,Kb])}(W,function(kb){kb.target.closest(".ToolIcon_type_button__library")||h(kb)});
var wa=(0,Z.useState)([]),pa=wa[0],Ba=wa[1],Ma=(0,Z.useState)("preloading");wa=Ma[0];var Ga=Ma[1],hb=(0,Z.useRef)(null);(0,Z.useEffect)(function(){return Promise.race([new Promise(function(kb){hb.current=setTimeout(function(){kb("loading")},100)}),gh.loadLibrary().then(function(kb){Ba(kb);Ga("ready")})]).then(function(kb){"loading"===kb&&Ga("loading")}),function(){clearTimeout(hb.current)}},[]);Ma=(0,Z.useCallback)(function(){var kb=tb()(function(Kb){var Ib,nc;return Zr(this,function(Sc){switch(Sc.label){case 0:return[4,
gh.loadLibrary()];case 1:return Ib=Sc.sent(),nc=Ib.filter(function(Yc,jd){return jd!==Kb}),gh.saveLibrary(nc),Ba(nc),[2]}})});return function(Kb){return kb.apply(this,arguments)}}(),[]);var jb=(0,Z.useCallback)(function(){var kb=tb()(function(Kb){var Ib,nc;return Zr(this,function(Sc){switch(Sc.label){case 0:return[4,gh.loadLibrary()];case 1:return Ib=Sc.sent(),nc=Js(Js([],Ib),[Kb]),P(),gh.saveLibrary(nc),Ba(nc),[2]}})});return function(Kb){return kb.apply(this,arguments)}}(),[P]);return"preloading"===
wa?null:R().createElement(Pk,{padding:1,ref:W,className:"layer-ui__library"},"loading"===wa?R().createElement("div",{className:"layer-ui__library-message"},Jb("labels.libraryLoadingMessage")):R().createElement(Ut,{library:pa,onRemoveFromLibrary:Ma,onAddToLibrary:jb,onInsertShape:m,pendingElements:A,setAppState:d,setLibraryItems:Ba}))};const Wt=R().memo(function(d){var h,m=d.actionManager,A=d.appState,P=d.setAppState,W=d.canvas,wa=d.elements,pa=d.onCollabButtonClick,Ba=d.onLockToggle,Ma=d.onInsertElements,
Ga=d.zenModeEnabled,hb=d.showExitZenModeBtn,jb=d.toggleZenMode,kb=d.isCollaborating,Kb=d.onExportToBackend,Ib=d.renderCustomFooter;d=d.viewModeEnabled;var nc=Ce(),Sc=function(){var je=function(xe){return function(){var pe=tb()(function(Oe,md){return Zr(this,function(Hd){switch(Hd.label){case 0:return W?[4,lc(xe,Oe,A,W,{exportBackground:A.exportBackground,name:A.name,viewBackgroundColor:A.viewBackgroundColor,scale:md,shouldAddWatermark:A.shouldAddWatermark}).catch(uk).catch(function(Wd){console.error(Wd);
P({errorMessage:Wd.message})})]:[3,2];case 1:Hd.sent(),Hd.label=2;case 2:return[2]}})});return function(Oe,md){return pe.apply(this,arguments)}}()};return R().createElement(mc,{elements:wa,appState:A,actionManager:m,onExportToPng:je("png"),onExportToSvg:je("svg"),onExportToClipboard:je("clipboard"),onExportToBackend:Kb?function(xe){Kb&&Kb(xe,A,W)}:void 0})},Yc=(0,Z.useCallback)(function(je){P({isLibraryOpen:!1})},[P]),jd=(0,Z.useCallback)(function(){P({selectedElementIds:{},selectedGroupIds:{}})},
[P]),le=A.isLibraryOpen?R().createElement(Vt,{pendingElements:cf(wa,A),onClickOutside:Yc,onInsertShape:Ma,onAddToLibrary:jd,setAppState:P}):null;Ma=R().createElement(R().Fragment,null,A.isLoading&&R().createElement(Rf,null),A.errorMessage&&R().createElement(L,{message:A.errorMessage,onClose:function(){return P({errorMessage:null})}}),A.showHelpDialog&&R().createElement(Tt,{onClose:function(){return P({showHelpDialog:!1})}}),A.pasteDialog.shown&&R().createElement(tf,{setAppState:P,appState:A,onInsertChart:Ma,
onClose:function(){return P({pasteDialog:{shown:!1,data:null}})}}));return nc?R().createElement(R().Fragment,null,Ma,R().createElement(id,{appState:A,elements:wa,actionManager:m,libraryMenu:le,exportButton:Sc(),setAppState:P,onCollabButtonClick:pa,onLockToggle:Ba,canvas:W,isCollaborating:kb,renderCustomFooter:Ib,viewModeEnabled:d})):R().createElement("div",{className:Bc("layer-ui__wrapper",{"disable-pointerEvents":A.draggingElement||A.resizingElement||A.editingElement&&!og(A.editingElement)})},Ma,
(h=Ef(A,wa),R().createElement(Nc,{side:"top"},R().createElement("div",{className:"App-menu App-menu_top"},R().createElement(Nk,{gap:4,className:Bc({"disable-pointerEvents":Ga})},d?R().createElement(pc,{heading:"canvasActions",className:Bc("zen-mode-transition",{"transition-left":Ga})},R().createElement(Pk,{padding:2,style:{zIndex:1}},R().createElement(Nk,{gap:4},R().createElement(Mk,{gap:1,justifyContent:"space-between"},m.renderAction("saveScene"),m.renderAction("saveAsScene"),Sc())))):R().createElement(pc,
{heading:"canvasActions",className:Bc("zen-mode-transition",{"transition-left":Ga})},R().createElement(Pk,{padding:2,style:{zIndex:1}},R().createElement(Nk,{gap:4},R().createElement(Mk,{gap:1,justifyContent:"space-between"},m.renderAction("loadScene"),m.renderAction("saveScene"),m.renderAction("saveAsScene"),Sc(),m.renderAction("clearCanvas"),pa&&R().createElement(ar,{isCollaborating:kb,collaboratorCount:A.collaborators.size,onClick:pa})),R().createElement(Zq,{actionManager:m,appState:A,setAppState:P})))),
h&&R().createElement(pc,{heading:"selectedShapeActions",className:Bc("zen-mode-transition",{"transition-left":Ga})},R().createElement(Pk,{className:Pa.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(A.height-200,"px")}},R().createElement($q,{appState:A,elements:wa,renderAction:m.renderAction,elementType:A.elementType})))),!d&&R().createElement(pc,{heading:"shapes"},function(je){return R().createElement(Nk,{gap:4,align:"start"},R().createElement(Mk,{gap:1},R().createElement(Pk,{padding:1,
className:Bc({"zen-mode":Ga})},R().createElement(hf,{appState:A,elements:wa}),je,R().createElement(Mk,{gap:1},R().createElement(Wp,{canvas:W,elementType:A.elementType,setAppState:P,isLibraryOpen:A.isLibraryOpen}))),R().createElement(Fc,{zenModeEnabled:Ga,checked:A.elementLocked,onChange:Ba,title:Jb("toolBar.lock")})),le)}),R().createElement(Ac,{className:Bc("zen-mode-transition",{"transition-right":Ga})},0<A.collaborators.size&&Array.from(A.collaborators).filter(function(je){je[0];return 0!==Object.keys(je[1]).length}).map(function(je){var xe=
je[0];je=je[1];return R().createElement(Rj,{label:je.username||"Unknown user",key:xe},m.renderAction("goToCollaborator",xe))}))))),R().createElement("div",{className:Bc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ga})},R().createElement(Nk,{gap:2},R().createElement(pc,{heading:"canvasActions"},R().createElement(Pk,{padding:1},R().createElement(Rr,{renderAction:m.renderAction,zoom:A.zoom})),R().createElement("a",{className:Bc("encrypted-icon tooltip zen-mode-visibility",
{"zen-mode-visibility--hidden":Ga}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},R().createElement(Rj,{label:Jb("encrypted.tooltip"),position:"above",long:!0},Ed))))),R().createElement("aside",{className:Bc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ga})},R().createElement($d,{appearance:A.appearance})),R().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},R().createElement("div",
{className:Bc("zen-mode-transition",{"transition-right disable-pointerEvents":Ga})},null==Ib?void 0:Ib(!1),m.renderAction("toggleShortcuts")),R().createElement("button",{className:Bc("disable-zen-mode",{"disable-zen-mode--visible":hb}),onClick:jb},Jb("buttons.exitZenMode"))),A.scrolledOutside&&R().createElement("button",{className:"scroll-back-to-content",onClick:function(){P(function(je){for(var xe=1;xe<arguments.length;xe++){var pe=null!=arguments[xe]?arguments[xe]:{};xe%2?Le(Object(pe),!0).forEach(function(Oe){ve()(je,
Oe,pe[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(je,Object.getOwnPropertyDescriptors(pe)):Le(Object(pe)).forEach(function(Oe){Object.defineProperty(je,Oe,Object.getOwnPropertyDescriptor(pe,Oe))})}return je}({},mi(wa,A)))}},Jb("buttons.scrollBackToContent")))},function(d,h){var m=function(W){W.suggestedBindings;W.startBoundElement;return si()(W,["suggestedBindings","startBoundElement"])},A=m(d.appState),P=m(h.appState);m=Object.keys(A);return d.renderCustomFooter===h.renderCustomFooter&&
d.langCode===h.langCode&&d.elements===h.elements&&m.every(function(W){return A[W]===P[W]})});var Ks=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(h){return console.error(h),0}},Xt=(g(7287),function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=
0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=
h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),Ls=dj(function(d){var h=Ks();try{var m=localStorage.getItem("excalidraw-state"),A=localStorage.getItem("excalidraw-collab"),P=localStorage.getItem(Pa.I.LOCAL_STORAGE_LIBRARY);
var W=(m?JSON.stringify(m).length:0)+(A?JSON.stringify(A).length:0)+(P?JSON.stringify(P).length:0)+Ks()}catch(wa){W=(console.error(wa),0)}d({scene:h,total:W})},500),Yt=function(d){var h=Ce(),m=(0,Z.useState)({scene:0,total:0}),A=m[0],P=m[1];(0,Z.useEffect)(function(){Ls(function(Ma){P(Ma)})});(0,Z.useEffect)(function(){return function(){return Ls.cancel()}},[]);m=Yf(d.elements);var W=nj(d.elements,d.appState),wa=Yf(W);if(h&&d.appState.openMenu)return null;var pa,Ba;h=vg();return h!==Pa.eQ?(Ba=h.slice(0,
16).replace("T"," "),pa=h.slice(21)):Ba=Jb("stats.versionNotAvailable"),R().createElement("div",{className:"Stats"},R().createElement(Pk,{padding:2},R().createElement("div",{className:"close",onClick:d.onClose},sj),R().createElement("h3",null,Jb("stats.title")),R().createElement("table",null,R().createElement("tbody",null,R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.scene"))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.elements")),R().createElement("td",
null,d.elements.length)),R().createElement("tr",null,R().createElement("td",null,Jb("stats.width")),R().createElement("td",null,Math.round(m[2])-Math.round(m[0]))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.height")),R().createElement("td",null,Math.round(m[3])-Math.round(m[1]))),R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.storage"))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.scene")),R().createElement("td",null,Lf(A.scene,
1))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.total")),R().createElement("td",null,Lf(A.total,1))),1===W.length&&R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.element"))),1<W.length&&R().createElement(R().Fragment,null,R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.selected"))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.elements")),R().createElement("td",null,W.length))),0<W.length&&R().createElement(R().Fragment,
null,R().createElement("tr",null,R().createElement("td",null,"x"),R().createElement("td",null,Math.round(1===W.length?W[0].x:wa[0]))),R().createElement("tr",null,R().createElement("td",null,"y"),R().createElement("td",null,Math.round(1===W.length?W[0].y:wa[1]))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.width")),R().createElement("td",null,Math.round(1===W.length?W[0].width:wa[2]-wa[0]))),R().createElement("tr",null,R().createElement("td",null,Jb("stats.height")),R().createElement("td",
null,Math.round(1===W.length?W[0].height:wa[3]-wa[1])))),1===W.length&&R().createElement("tr",null,R().createElement("td",null,Jb("stats.angle")),R().createElement("td",null,"".concat(Math.round(180*W[0].angle/Math.PI),"°"))),R().createElement("tr",null,R().createElement("th",{colSpan:2},Jb("stats.version"))),R().createElement("tr",null,R().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:tb()(function(){return Xt(this,function(Ma){switch(Ma.label){case 0:return Ma.trys.push([0,
2,,3]),[4,yb(vg())];case 1:return Ma.sent(),d.setAppState({toastMessage:Jb("toast.copyToClipboard")}),[3,3];case 2:return Ma.sent(),[3,3];case 3:return[2]}})}),title:Jb("stats.versionCopy")},Ba,R().createElement("br",null),pa))))))},Zt=(g(5849),function(d){var h=d.message,m=d.clearToast,A=(0,Z.useRef)(0),P=(0,Z.useCallback)(function(){return A.current=window.setTimeout(function(){return m()},Pa.Lg)},[m]);return(0,Z.useEffect)(function(){return P(),function(){return clearTimeout(A.current)}},[P,h]),
R().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==A?void 0:A.current)},onMouseLeave:P},R().createElement("p",{className:"Toast__message"},h))}),Is=Xd({name:"viewMode",perform:function(d,h){return dh("view","mode","view"),{appState:dc(dc({},h),{},{viewModeEnabled:!this.checked(h),selectedElementIds:{}}),commitToHistory:!1}},checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[we]&&d.altKey&&"KeyR"===
d.code}}),Rt=function(){var d=function(h,m){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,P){A.__proto__=P}||function(A,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,W)&&(A[W]=P[W])})(h,m)};return function(h,m){function A(){this.constructor=h}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(h,m);h.prototype=null===m?Object.create(m):(A.prototype=m.prototype,new A)}}(),Eo=function(d,h){function m(Ba){return function(Ma){return function(Ga){if(A)throw new TypeError("Generator is already executing.");
for(;pa;)try{if(A=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return pa.label++,{value:Ga[1],done:!1};case 5:pa.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=pa.ops.pop();pa.trys.pop();continue;default:if(!(W=pa.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){pa=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))pa.label=Ga[1];else if(6===Ga[0]&&
pa.label<W[1])pa.label=W[1],W=Ga;else if(W&&pa.label<W[2])pa.label=W[2],pa.ops.push(Ga);else{W[2]&&pa.ops.pop();pa.trys.pop();continue}}Ga=h.call(d,pa)}catch(hb){Ga=[6,hb],P=0}finally{A=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Ba,Ma])}}var A,P,W,wa,pa={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Yg=function(d,h){for(var m=
0,A=h.length,P=d.length;m<A;m++,P++)d[P]=h[m];return d},fk=new $p,bq=!1,Yr=0,yp=0,vp=0,Fo=!1,aq=!1,Wr=!1,Xr={horizontal:null,vertical:null},go=0,dq=!1,Zn=null,jl=new Map,up=null,cr=null,tp=null,Vr=function(d){function h(m){var A=this;var P=A=d.call(this,m)||this;Pt.call(A);var W,wa,pa,Ba=uh(),Ma=m.width,Ga=void 0===Ma?window.innerWidth:Ma;Ma=m.height;var hb=void 0===Ma?window.innerHeight:Ma,jb=m.offsetLeft,kb=m.offsetTop;Ma=m.excalidrawRef;var Kb=m.viewModeEnabled;Kb=void 0!==Kb&&Kb;var Ib=m.zenModeEnabled;
Ib=void 0!==Ib&&Ib;m=m.gridModeEnabled;m=void 0!==m&&m;if(A.state=Va(Va(Va({},Ba),{},{isLoading:!0,width:Ga,height:hb},A.getCanvasOffsets({offsetLeft:jb,offsetTop:kb})),{},{viewModeEnabled:Kb,zenModeEnabled:Ib,gridSize:m?Pa.k:null}),Ma){var nc;Ba="current"in Ma&&(null===(nc=Ma.current)||void 0===nc?void 0:nc.readyPromise)||((pa=new Promise(function(Sc,Yc){W=Sc;wa=Yc})).resolve=W,pa.reject=wa,pa);pa={ready:!0,readyPromise:Ba,updateScene:A.updateScene,resetScene:A.resetScene,getSceneElementsIncludingDeleted:A.getSceneElementsIncludingDeleted,
history:{clear:A.resetHistory},setScrollToCenter:A.setScrollToCenter,getSceneElements:A.getSceneElements,getAppState:function(){return P.state}};"function"==typeof Ma?Ma(pa):Ma.current=pa;Ba.resolve(pa)}return A.scene=new Kg,A.actionManager=new hm(A.syncActionResult,function(){return P.state},function(){return P.scene.getElementsIncludingDeleted()},A),A.actionManager.registerAll(gg),A.actionManager.registerAction({name:"undo",perform:function(Sc,Yc){return pp(Sc,Yc,function(){return fk.undoOnce()})},
keyTest:function(Sc){return Sc[we]&&"z"===Sc.key.toLowerCase()&&!Sc.shiftKey},PanelComponent:function(Sc){Sc=Sc.updateData;return R().createElement(Qe,{type:"button",icon:kd,"aria-label":Jb("buttons.undo"),onClick:Sc})},commitToHistory:function(){return!1}}),A.actionManager.registerAction(function(Sc){return{name:"redo",perform:function(Yc,jd){return pp(Yc,jd,function(){return Sc.redoOnce()})},keyTest:function(Yc){return Yc[we]&&Yc.shiftKey&&"z"===Yc.key.toLowerCase()||zj&&Yc.ctrlKey&&!Yc.shiftKey&&
"y"===Yc.key},PanelComponent:function(Yc){Yc=Yc.updateData;return R().createElement(Qe,{type:"button",icon:ih,"aria-label":Jb("buttons.redo"),onClick:Yc})},commitToHistory:function(){return!1}}}(fk)),A}return Rt(h,d),h.prototype.renderCanvas=function(){var m=window.devicePixelRatio,A=this.state,P=A.width,W=A.height,wa=P*m;m*=W;return A.viewModeEnabled?R().createElement("canvas",{id:"canvas",style:{width:P,height:W,cursor:"grabbing"},width:wa,height:m,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},Jb("labels.drawingCanvas")):R().createElement("canvas",{id:"canvas",style:{width:P,height:W},width:wa,height:m,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,
onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},Jb("labels.drawingCanvas"))},h.prototype.render=function(){var m,A=this,P=this.state,W=P.zenModeEnabled,wa=P.width,pa=P.height;P=P.viewModeEnabled;var Ba=this.props,Ma=Ba.onCollabButtonClick,Ga=Ba.onExportToBackend;Ba=Ba.renderFooter;var hb=wa/2,jb=pa/2;return R().createElement("div",{className:Bc("excalidraw",{"excalidraw--view-mode":P}),ref:this.excalidrawContainerRef,style:{width:wa,height:pa}},
R().createElement(Wt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Ma,onLockToggle:this.toggleLock,onInsertElements:function(kb){return A.addElementsFromPasteOrLibrary(kb,hb,jb)},zenModeEnabled:W,toggleZenMode:this.toggleZenMode,langCode:Xe.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ga,renderCustomFooter:Ba,viewModeEnabled:P,showExitZenModeBtn:void 0===(null===(m=
this.props)||void 0===m?void 0:m.zenModeEnabled)&&W}),R().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&R().createElement(Yt,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&R().createElement(Zt,{message:this.state.toastMessage,clearToast:this.clearToast}),R().createElement("main",null,this.renderCanvas()))},h.prototype.componentDidMount=function(){var m=this;return tb()(function(){return Eo(this,
function(A){return"production"!==Pa.Vi.TEST&&"production"!==Pa.Vi.DEVELOPMENT||(m.setState.bind(m),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return m.state}},setState:{configurable:!0,value:function(){for(var P=[],W=0;W<arguments.length;W++)P[W]=arguments[W];return m.setState.apply(m,P)}},app:{configurable:!0,value:m}})),m.scene.addCallback(m.onSceneUpdated),m.addEventListeners(),"number"==typeof m.props.offsetLeft&&"number"==typeof m.props.offsetTop?m.initializeScene():
m.setState(m.getCanvasOffsets(m.props),function(){m.initializeScene()}),[2]})})()},h.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},h.prototype.removeEventListeners=function(){document.removeEventListener(Pa.Ks.COPY,this.onCopy);document.removeEventListener(Pa.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(Pa.Ks.CUT,this.onCut);document.removeEventListener(Pa.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Pa.Ks.MOUSE_MOVE,
this.updateCurrentCursorPosition,!1);document.removeEventListener(Pa.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Pa.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Pa.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Pa.Ks.BLUR,this.onBlur,!1);window.removeEventListener(Pa.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(Pa.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Pa.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Pa.Ks.GESTURE_CHANGE,
this.onGestureChange,!1);document.removeEventListener(Pa.Ks.GESTURE_END,this.onGestureEnd,!1)},h.prototype.addEventListeners=function(){var m,A;this.removeEventListeners();document.addEventListener(Pa.Ks.COPY,this.onCopy);document.addEventListener(Pa.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(Pa.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(Pa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(m=document.fonts)||void 0===m||null===(A=m.addEventListener)||void 0===
A||A.call(m,"loadingdone",this.onFontLoaded);document.addEventListener(Pa.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Pa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Pa.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(Pa.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(Pa.Ks.CUT,this.onCut),document.addEventListener(Pa.Ks.SCROLL,this.onScroll),window.addEventListener(Pa.Ks.RESIZE,this.onResize,!1),
window.addEventListener(Pa.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Pa.Ks.BLUR,this.onBlur,!1),window.addEventListener(Pa.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Pa.Ks.DROP,this.disableEvent,!1))},h.prototype.componentDidUpdate=function(m,A){var P,W,wa,pa,Ba=this;(m.langCode!==this.props.langCode&&this.updateLanguage(),m.width!==this.props.width||m.height!==this.props.height||"number"==typeof this.props.offsetLeft&&m.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&
m.offsetTop!==this.props.offsetTop)&&this.setState(Va({width:null!==(wa=this.props.width)&&void 0!==wa?wa:window.innerWidth,height:null!==(pa=this.props.height)&&void 0!==pa?pa:window.innerHeight},this.getCanvasOffsets(this.props)));m.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);A.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();m.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});
m.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Pa.k:null});null===(P=document.querySelector(".excalidraw"))||void 0===P||P.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Ba.actionManager.executeAction(Pf)});m=A.multiElement;A.elementType!==this.state.elementType&&null!=m&&this.state.isBindingEnabled&&
zf(m)&&Hj(m,this.state,this.scene,fj(ag.getPointAtIndexGlobalCoordinates(m,-1)));var Ma={},Ga={},hb={},jb={},kb={};this.state.collaborators.forEach(function(nc,Sc){if(nc.selectedElementIds)for(var Yc=0,jd=Object.keys(nc.selectedElementIds);Yc<jd.length;Yc++){var le=jd[Yc];le in hb||(hb[le]=[]);hb[le].push(Sc)}nc.pointer&&(nc.username&&(jb[Sc]=nc.username),nc.userState&&(kb[Sc]=nc.userState),Ga[Sc]=rg({sceneX:nc.pointer.x,sceneY:nc.pointer.y},Ba.state),Ma[Sc]=nc.button)});A=this.scene.getElements();
P=an(A.filter(function(nc){return!Ba.state.editingElement||"text"!==Ba.state.editingElement.type||nc.id!==Ba.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ga,remotePointerButton:Ma,remoteSelectedElementIds:hb,remotePointerUsernames:jb,remotePointerUserStates:kb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},
{renderOptimizations:!0,renderScrollbars:!eg().matches});m=P.atLeastOneVisibleElement;(P=P.scrollBars)&&(Xr=P);var Kb,Ib;A="text"!==(null===(W=this.state.editingElement)||void 0===W?void 0:W.type)&&!m&&0<A.length;(this.state.scrolledOutside!==A&&this.setState({scrolledOutside:A}),fk.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(Kb=(Ib=this.props).onChange)||void 0===Kb||Kb.call(Ib,this.scene.getElementsIncludingDeleted(),this.state)},h.resetTapTwice=function(){bq=
!1},h.prototype.addTextFromPaste=function(m){var A,P=Zf({clientX:yp,clientY:vp},this.state);m=bk({x:P.x,y:P.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:m,fontSize:this.state.currentItemFontSize,
fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Pa.hs});this.scene.replaceAllElements(Yg(Yg([],this.scene.getElementsIncludingDeleted()),[m]));this.setState({selectedElementIds:(A={},A[m.id]=!0,A)});fk.resumeRecording()},h.prototype.selectShapeTool=function(m){var A;Fo||Kf(this.canvas,m);(A=document.activeElement)instanceof HTMLElement&&A.className.includes("ToolIcon")&&document.activeElement.blur();$h(m)||this.setState({suggestedBindings:[]});"selection"!==
m?this.setState({elementType:m,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:m})},h.prototype.handleTextWysiwyg=function(m,A){A=A.isExistingElement;var P=void 0!==A&&A,W=this,wa=function(pa,Ba){void 0===Ba&&(Ba=!1);W.scene.replaceAllElements(Yg([],W.scene.getElementsIncludingDeleted().map(function(Ma){if(Ma.id===m.id&&og(Ma)){var Ga=Ba;Ga={text:pa,isDeleted:null!=Ga?Ga:Ma.isDeleted};var hb=Ig(pa,Ch(Ma));var jb=hb.width;var kb=hb.height;hb=hb.baseline;var Kb=
Ma.textAlign;var Ib=Ma.verticalAlign;if("center"===Kb&&"middle"===Ib)Kb=Ig(Ma.text,Ch(Ma)),Ib=Ti(Ma,{width:jb-Kb.width,height:kb-Kb.height}),Kb=Ma.x-Ib.x,Ib=Ma.y-Ib.y;else{var nc=Jf(Ma);Ib=nc[0];var Sc=nc[1],Yc=nc[2];nc=nc[3];var jd=fh(Ma,jb,kb);Kb=(Ib=wj({s:!0,e:"center"===Kb||"left"===Kb,w:"center"===Kb||"right"===Kb},Ma.x,Ma.y,Ma.angle,(Ib-jd[0])/2,(Sc-jd[1])/2,(Yc-jd[2])/2,(nc-jd[3])/2))[0];Ib=Ib[1]}jb={width:jb,height:kb,x:Number.isFinite(Kb)?Kb:Ma.x,y:Number.isFinite(Ib)?Ib:Ma.y,baseline:hb};
Ma=wf(Ma,Ca(Ga,jb))}return Ma})))};!function(pa){var Ba=pa.id,Ma=pa.appState,Ga=pa.onChange,hb=pa.onSubmit,jb=pa.getViewportCoords,kb=pa.element;pa=pa.canvas;var Kb=function(){var pe,Oe=null===(pe=Kg.getScene(kb))||void 0===pe?void 0:pe.getElement(Ba);if(Oe&&og(Oe)){pe=jb(Oe.x,Oe.y);var md=pe[0],Hd=pe[1];pe=Oe.textAlign;var Wd=Oe.angle;Ib.value=Oe.text;var Ae=Oe.text.replace(/\r\n?/g,"\n").split("\n"),wh=Oe.height/Ae.length;Ae=(Ma.offsetLeft+Ma.width-md-8)/Ma.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,
-2));var Wh=Object,oj=Wh.assign,Ji=Ib.style,Cl=Ch(Oe);wh="".concat(wh,"px");var kn="".concat(Oe.width,"px"),Tl="".concat(Oe.height,"px");md="".concat(md,"px");Hd="".concat(Hd,"px");var ln=Oe.width;var Nm=Ma.zoom,Yn=180*Wd/Math.PI;Wd=(ln-2*Ma.offsetLeft)*(Nm.value-1)/2;var Mm=(Oe.height-2*Ma.offsetTop)*(Nm.value-1)/2;ln=(ln>Ae&&1!==Nm.value&&(Wd=Ae/2*(Nm.value-1)),"translate(".concat(Wd,"px, ").concat(Mm,"px) scale(").concat(Nm.value,") rotate(").concat(Yn,"deg)"));oj.call(Wh,Ji,{font:Cl,lineHeight:wh,
width:kn,height:Tl,left:md,top:Hd,transform:ln,textAlign:pe,color:Oe.strokeColor,opacity:Oe.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(Ae,"px")})}},Ib=document.createElement("textarea");Ib.dir="auto";Ib.tabIndex=0;Ib.dataset.type="wysiwyg";Ib.wrap="off";Object.assign(Ib.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});
Kb();Ga&&(Ib.oninput=function(){Ga(kk(Ib.value))});Ib.onkeydown=function(pe){"Escape"===pe.key?(pe.preventDefault(),Sc()):"Enter"===pe.key&&pe[we]?(pe.preventDefault(),pe.isComposing||229===pe.keyCode)||Sc():"Enter"!==pe.key||pe.altKey||pe.stopPropagation()};var nc=function(pe){pe.preventDefault();pe.stopPropagation()},Sc=function(){hb(kk(Ib.value));je||(je=!0,Ib.onblur=null,Ib.oninput=null,Ib.onkeydown=null,xe&&xe.disconnect(),window.removeEventListener("resize",Kb),window.removeEventListener("wheel",
nc,!0),window.removeEventListener("pointerdown",jd),window.removeEventListener("pointerup",Yc),window.removeEventListener("blur",Sc),le(),Ib.remove())},Yc=function(){window.removeEventListener("pointerup",Yc);setTimeout(function(){Ib.onblur=Sc;Ib.focus()})},jd=function(pe){pe.target instanceof HTMLElement&&pe.target.closest(".".concat(Pa.$C.SHAPE_ACTIONS_MENU))&&!Bh(pe.target)&&(Ib.onblur=null,window.addEventListener("pointerup",Yc),window.addEventListener("blur",Sc))},le=Kg.getScene(kb).addCallback(function(){Kb();
Ib.focus()}),je=!1;Ib.onblur=Sc;var xe=null;pa&&"ResizeObserver"in window?(xe=new window.ResizeObserver(function(){Kb()})).observe(pa):window.addEventListener("resize",Kb);window.addEventListener("pointerdown",jd);window.addEventListener("wheel",nc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Ib);Ib.focus();Ib.select()}({id:m.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(pa,Ba){pa=rg({sceneX:pa,sceneY:Ba},W.state);return[pa.x-
W.state.offsetLeft,pa.y-W.state.offsetTop]},onChange:bf(function(pa){wa(pa);!m.isDeleted&&Vh(m)}),onSubmit:bf(function(pa){var Ba=!pa.trim();wa(pa,Ba);Ba?li(W.scene.getElements(),[m]):W.setState(function(Ma){var Ga;return{selectedElementIds:Va(Va({},Ma.selectedElementIds),{},(Ga={},Ga[m.id]=!0,Ga))}});Ba&&!P||fk.resumeRecording();W.setState({draggingElement:null,editingElement:null});W.state.elementLocked&&Kf(W.canvas,W.state.elementType)}),element:m});this.setState({selectedElementIds:{},selectedGroupIds:{},
editingGroupId:null});wa(m.text)},h.prototype.getTextElementAtPosition=function(m,A){return(m=this.getElementAtPosition(m,A))&&og(m)&&!m.isDeleted?m:null},h.prototype.getElementAtPosition=function(m,A){var P=this.getElementsAtPosition(m,A);if(1<P.length){var W=P[P.length-1];return Lk(W,this.state,m,A)?P[P.length-2]:W}return 1===P.length?P[0]:null},h.prototype.getElementsAtPosition=function(m,A){var P,W,wa=this;return P=this.scene.getElements(),W=function(pa){var Ba=wa.state,Ma=10/Ba.zoom.value,Ga=
[m,A];return Ba.selectedElementIds[pa.id]?nm(pa,Ga,Ma):Ej(pa,Ba,Ga)},P.filter(function(pa){return!pa.isDeleted&&W(pa)})},h.prototype.maybeCleanupAfterMissingPointerUp=function(m){null!==Zn&&Zn(m)},h.prototype.updateGestureOnPointerDown=function(m){jl.set(m.pointerId,{x:m.clientX,y:m.clientY});2===jl.size&&(up=Lm(jl),tp=this.state.zoom.value,cr=Vn(Array.from(jl.values())))},h.prototype.initialPointerDownState=function(m){var A=Zf(m,this.state),P=cf(this.scene.getElements(),this.state),W=Yf(P),wa=W[0],
pa=W[1],Ba=W[2];W=W[3];return{origin:A,originInGrid:fj(ch(A.x,A.y,this.state.gridSize)),scrollbars:ql(Xr,m.clientX-this.state.offsetLeft,m.clientY-this.state.offsetTop),lastCoords:Va({},A),originalElements:this.scene.getElements().reduce(function(Ma,Ga){return Ma.set(Ga.id,fi(Ga)),Ma},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Ba+wa)/2,y:(W+pa)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(A,
P)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},h.prototype.handleDraggingScrollBar=function(m,A){var P=this;if(!A.scrollbars.isOverEither||this.state.multiElement)return!1;Wr=!0;A.lastCoords.x=m.clientX;A.lastCoords.y=m.clientY;var W=bf(function(pa){pa.target instanceof HTMLElement&&P.handlePointerMoveOverScrollbars(pa,A)}),wa=bf(function(){Wr=!1;Kf(P.canvas,P.state.elementType);Zn=null;P.setState({cursorButton:"up"});P.savePointer(m.clientX,
m.clientY,"up");window.removeEventListener(Pa.Ks.POINTER_MOVE,W);window.removeEventListener(Pa.Ks.POINTER_UP,wa)});return Zn=wa,window.addEventListener(Pa.Ks.POINTER_MOVE,W),window.addEventListener(Pa.Ks.POINTER_UP,wa),!0},h.prototype.isASelectedElement=function(m){return null!=m&&this.state.selectedElementIds[m.id]},h.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(m,A){if(2>A.length)return!1;var P=10/this.state.zoom.value;A=Yf(A);var W=A[1],wa=A[2],pa=A[3];return m.x>A[0]-P&&m.x<
wa+P&&m.y>W-P&&m.y<pa+P},h.prototype.onKeyDownFromPointerDownHandler=function(m){var A=this;return bf(function(P){A.maybeHandleResize(m,P)||A.maybeDragNewGenericElement(m,P)})},h.prototype.onKeyUpFromPointerDownHandler=function(m){var A=this;return bf(function(P){"Alt"===P.key&&P.preventDefault();A.maybeHandleResize(m,P)||A.maybeDragNewGenericElement(m,P)})},h.prototype.onPointerMoveFromPointerDownHandler=function(m){var A=this;return bf(function(P){if(null===m.drag.offset&&(m.drag.offset=fj(function(Yc,
jd,le){Yc=Yf(Yc);return[jd-Yc[0],le-Yc[1]]}(cf(A.scene.getElements(),A.state),m.origin.x,m.origin.y))),P.target instanceof HTMLElement&&!A.handlePointerMoveOverScrollbars(P,m)){var W=Zf(P,A.state),wa=ch(W.x,W.y,A.state.gridSize),pa=wa[0];wa=wa[1];if(m.drag.hasOccurred||"arrow"!==A.state.elementType&&"line"!==A.state.elementType||!(Math.hypot(m.origin.x-W.x,m.origin.y-W.y)<Pa.f)){if(m.resize.isResizing&&(m.lastCoords.x=W.x,m.lastCoords.y=W.y,A.maybeHandleResize(m,P)))return!0;if(A.state.editingLinearElement&&
ag.handlePointDragging(A.state,function(Yc){return A.setState(Yc)},W.x,W.y,function(Yc,jd){A.maybeSuggestBindingForLinearElementAtCursor(Yc,jd,W)}))return m.lastCoords.x=W.x,void(m.lastCoords.y=W.y);if(m.hit.allHitElements.some(function(Yc){return A.isASelectedElement(Yc)})||m.hit.hasHitCommonBoundingBoxOfSelectedElements){m.drag.hasOccurred=!0;var Ba=cf(A.scene.getElements(),A.state);if(0<Ba.length){pa=ch(W.x-m.drag.offset.x,W.y-m.drag.offset.y,A.state.gridSize);var Ma=pa[0];pa=pa[1];wa=[Math.abs(W.x-
m.origin.x),Math.abs(W.y-m.origin.y)];if(function(Yc,jd,le,je,xe,pe,Oe,md){void 0===pe&&(pe=!1);void 0===Oe&&(Oe=0);void 0===md&&(md=0);xe=Yf(jd);var Hd=le-xe[0],Wd=je-xe[1];jd.forEach(function(Ae){if(pe){var wh=pe&&Oe<md;var Wh=pe&&Oe>md;var oj=Yc.originalElements.get(Ae.id);wh=wh&&oj?oj.x:Ae.x+Hd;Wh=Wh&&oj?oj.y:Ae.y+Wd}else wh=Ae.x+Hd,Wh=Ae.y+Wd;Gd(Ae,{x:wh,y:Wh});Vh(Ae,{simultaneouslyUpdated:jd})})}(m,Ba,Ma,pa,A.scene,P.shiftKey,wa[0],wa[1]),A.maybeSuggestBindingForAll(Ba),P.altKey&&!m.hit.hasBeenDuplicated){m.hit.hasBeenDuplicated=
!0;Ba=[];P=[];var Ga=new Map;wa=new Map;for(var hb=m.hit.element,jb=0,kb=A.scene.getElementsIncludingDeleted();jb<kb.length;jb++){var Kb=kb[jb];if(A.state.selectedElementIds[Kb.id]||Kb.id===(null==hb?void 0:hb.id)&&m.hit.wasAddedToSelection){var Ib=Ii(A.state.editingGroupId,Ga,Kb),nc=ch(m.origin.x-m.drag.offset.x,m.origin.y-m.drag.offset.y,A.state.gridSize);Gd(Ib,{x:Ib.x+(nc[0]-Ma),y:Ib.y+(nc[1]-pa)});Ba.push(Ib);P.push(Kb);wa.set(Kb.id,Ib.id)}else Ba.push(Kb)}Ma=Yg(Yg([],Ba),P);cl(Ma,P,wa,"duplicatesServeAsOld");
A.scene.replaceAllElements(Ma)}return}}if(Ba=A.state.draggingElement)if(pg(Ba)?(m.drag.hasOccurred=!0,Ga=Ba.points,jb=hb=void 0,"draw"===Ba.type?(hb=W.x-Ba.x,jb=W.y-Ba.y):(hb=pa-Ba.x,jb=wa-Ba.y),P.shiftKey&&2===Ga.length&&(hb=(Ma=Lg(A.state.elementType,hb,jb)).width,jb=Ma.height),1===Ga.length?Gd(Ba,{points:Yg(Yg([],Ga),[[hb,jb]])}):1<Ga.length&&("draw"===Ba.type?Gd(Ba,{points:O(Yg(Yg([],Ga),[[hb,jb]]),.7/A.state.zoom.value)}):Gd(Ba,{points:Yg(Yg([],Ga.slice(0,-1)),[[hb,jb]])})),zf(Ba)&&A.maybeSuggestBindingForLinearElementAtCursor(Ba,
"end",W,A.state.startBoundElement)):(m.lastCoords.x=W.x,m.lastCoords.y=W.y,A.maybeDragNewGenericElement(m,P)),"selection"===A.state.elementType){Ma=A.scene.getElements();!P.shiftKey&&Eg(Ma,A.state)&&A.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var Sc=function(Yc,jd){jd=Jf(jd);var le=jd[0],je=jd[1],xe=jd[2],pe=jd[3];return Yc.filter(function(Oe){var md=yj(Oe),Hd=md[0],Wd=md[1],Ae=md[2];md=md[3];return"selection"!==Oe.type&&le<=Hd&&je<=Wd&&xe>=Ae&&pe>=md})}(Ma,Ba);A.setState(function(Yc){return Zj(Va(Va({},
Yc),{},{selectedElementIds:Va(Va({},Yc.selectedElementIds),Sc.reduce(function(jd,le){return jd[le.id]=!0,jd},{}))}),A.scene.getElements())})}}}})},h.prototype.handlePointerMoveOverScrollbars=function(m,A){return A.scrollbars.isOverHorizontal?(m=m.clientX,this.setState({scrollX:this.state.scrollX-(m-A.lastCoords.x)/this.state.zoom.value}),A.lastCoords.x=m,!0):A.scrollbars.isOverVertical?(m=m.clientY,this.setState({scrollY:this.state.scrollY-(m-A.lastCoords.y)/this.state.zoom.value}),A.lastCoords.y=
m,!0):!1},h.prototype.onPointerUpFromPointerDownHandler=function(m){var A=this;return bf(function(P){var W=A.state,wa=W.draggingElement,pa=W.resizingElement,Ba=W.multiElement,Ma=W.elementType,Ga=W.elementLocked,hb=W.isResizing;W=W.isRotating;if(A.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ba||og(A.state.editingElement)?A.state.editingElement:null}),A.savePointer(P.clientX,P.clientY,"up"),A.state.editingLinearElement){var jb=ag.handlePointerUp(P,
A.state.editingLinearElement,A.state);jb!==A.state.editingLinearElement&&A.setState({editingLinearElement:jb,suggestedBindings:[]})}if(Zn=null,window.removeEventListener(Pa.Ks.POINTER_MOVE,m.eventListeners.onMove),window.removeEventListener(Pa.Ks.POINTER_UP,m.eventListeners.onUp),window.removeEventListener(Pa.Ks.KEYDOWN,m.eventListeners.onKeyDown),window.removeEventListener(Pa.Ks.KEYUP,m.eventListeners.onKeyUp),"draw"!==(null==wa?void 0:wa.type))if(pg(wa))1<wa.points.length&&fk.resumeRecording(),
P=Zf(P,A.state),m.drag.hasOccurred||!wa||Ba?m.drag.hasOccurred&&!Ba&&(A.state.isBindingEnabled&&zf(wa)&&Hj(wa,A.state,A.scene,P),A.setState({suggestedBindings:[],startBoundElement:null}),Ga||"draw"===Ma?A.setState(function(Ib){var nc;return{draggingElement:null,selectedElementIds:Va(Va({},Ib.selectedElementIds),{},(nc={},nc[A.state.draggingElement.id]=!0,nc))}}):(Rh(A.canvas),A.setState(function(Ib){var nc;return{draggingElement:null,elementType:"selection",selectedElementIds:Va(Va({},Ib.selectedElementIds),
{},(nc={},nc[A.state.draggingElement.id]=!0,nc))}}))):(Gd(wa,{points:Yg(Yg([],wa.points),[[P.x-wa.x,P.y-wa.y]])}),A.setState({multiElement:wa,editingElement:A.state.draggingElement}));else{if("selection"!==Ma&&wa&&Sh(wa))return A.scene.replaceAllElements(A.scene.getElementsIncludingDeleted().slice(0,-1)),void A.setState({draggingElement:null});wa&&Gd(wa,hj(wa));pa&&fk.resumeRecording();pa&&Sh(pa)&&A.scene.replaceAllElements(A.scene.getElementsIncludingDeleted().filter(function(Ib){return Ib.id!==
pa.id}));var kb=m.hit.element;if(kb&&!m.drag.hasOccurred&&!m.hit.wasAddedToSelection)if(P.shiftKey)if(A.state.selectedElementIds[kb.id])if(null!=Di(A.state,kb)){var Kb=kb.groupIds.flatMap(function(Ib){return Ie(A.scene.getElements(),Ib)}).map(function(Ib){var nc;return(nc={})[Ib.id]=!1,nc}).reduce(function(Ib,nc){return Va(Va({},Ib),nc)},{});A.setState(function(Ib){return{selectedGroupIds:Va(Va({},Ib.selectedElementIds),kb.groupIds.map(function(nc){var Sc;return(Sc={})[nc]=!1,Sc}).reduce(function(nc,
Sc){return Va(Va({},nc),Sc)},{})),selectedElementIds:Va(Va({},Ib.selectedElementIds),Kb)}})}else A.setState(function(Ib){var nc;return{selectedElementIds:Va(Va({},Ib.selectedElementIds),{},(nc={},nc[kb.id]=!1,nc))}});else A.setState(function(Ib){var nc;return{selectedElementIds:Va(Va({},Ib.selectedElementIds),{},(nc={},nc[kb.id]=!0,nc))}});else A.setState(function(Ib){var nc;return Va({},Zj(Va(Va({},Ib),{},{selectedElementIds:(nc={},nc[kb.id]=!0,nc)}),A.scene.getElements()))});A.state.editingLinearElement||
m.drag.hasOccurred||A.state.isResizing||!(kb&&Lk(kb,A.state,m.origin.x,m.origin.y)||!kb&&m.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ga&&"draw"!==Ma&&wa&&A.setState(function(Ib){var nc;return{selectedElementIds:Va(Va({},Ib.selectedElementIds),{},(nc={},nc[wa.id]=!0,nc))}}),("selection"!==Ma||Eg(A.scene.getElements(),A.state))&&fk.resumeRecording(),(m.drag.hasOccurred||hb||W)&&(A.state.isBindingEnabled?kg:xh)(cf(A.scene.getElements(),A.state)),Ga||"draw"===Ma?A.setState({draggingElement:null,
suggestedBindings:[]}):(Rh(A.canvas),A.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):A.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else A.actionManager.executeAction(Pf)})},h.prototype.maybeSuggestBindingForAll=function(m){var A;m=(A=new Set(m.map(function(P){return P.id})),m.flatMap(function(P){return zf(P)?$m(P).filter(function(W){return!A.has(W.id)}):Pi(P)?Hh(P).filter(function(W){return!A.has(W[0].id)}):[]}));this.setState({suggestedBindings:m})},
h.prototype.clearSelection=function(m){this.setState(function(A){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:A.editingGroupId&&null!=m&&m.groupIds.includes(A.editingGroupId)?A.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},h.prototype.getTextWysiwygSnappedToCenterPosition=function(m,A,P,W,wa){if(wa=function(pa,Ba,Ma){for(var Ga=null,hb=pa.length-1;0<=hb;--hb)if(!pa[hb].isDeleted){var jb=Jf(pa[hb]),kb=jb[1],
Kb=jb[2],Ib=jb[3];if(jb[0]<Ba&&Ba<Kb&&kb<Ma&&Ma<Ib){Ga=pa[hb];break}}return Ga}(this.scene.getElementsIncludingDeleted().filter(function(pa){return!og(pa)}),m,A))if(W=wa.x+wa.width/2,wa=wa.y+wa.height/2,Math.hypot(m-W,A-wa)<Pa.wZ)return m=rg({sceneX:W,sceneY:wa},P),{viewportX:m.x,viewportY:m.y,elementCenterX:W,elementCenterY:wa}},h.prototype.getCanvasOffsets=function(m){var A,P;return"number"==typeof(null==m?void 0:m.offsetLeft)&&"number"==typeof(null==m?void 0:m.offsetTop)?{offsetLeft:m.offsetLeft,
offsetTop:m.offsetTop}:null!==(A=this.excalidrawContainerRef)&&void 0!==A&&null!==(P=A.current)&&void 0!==P&&P.parentElement?(P=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),A=P.left,P=P.top,{offsetLeft:"number"==typeof(null==m?void 0:m.offsetLeft)?m.offsetLeft:A,offsetTop:"number"==typeof(null==m?void 0:m.offsetTop)?m.offsetTop:P}):{offsetLeft:"number"==typeof(null==m?void 0:m.offsetLeft)?m.offsetLeft:0,offsetTop:"number"==typeof(null==m?void 0:m.offsetTop)?m.offsetTop:
0}},h.prototype.updateLanguage=function(){var m=this;return tb()(function(){var A;return Eo(this,function(P){switch(P.label){case 0:return A=Tc.find(function(W){return W.code===m.props.langCode})||Kd,[4,Ne(A)];case 1:return P.sent(),m.setAppState({}),[2]}})})()},h}(R().Component);Vr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Pt=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=R().createRef();this.getSceneElementsIncludingDeleted=
function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=bf(function(h){if(!d.unmounted&&!1!==h){var m=null;if(h.elements&&(h.elements.forEach(function(Ma){var Ga;(null===(Ga=d.state.editingElement)||void 0===Ga?void 0:Ga.id)===Ma.id&&d.state.editingElement!==Ma&&!Ma.isDeleted&&(m=Ma)}),d.scene.replaceAllElements(h.elements),h.commitToHistory&&fk.resumeRecording()),h.appState||m){var A,P,W;h.commitToHistory&&fk.resumeRecording();
var wa=(null==h||null===(A=h.appState)||void 0===A?void 0:A.viewModeEnabled)||!1,pa=(null==h||null===(P=h.appState)||void 0===P?void 0:P.zenModeEnabled)||!1,Ba=(null==h||null===(W=h.appState)||void 0===W?void 0:W.gridSize)||null;void 0!==d.props.viewModeEnabled&&(wa=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(pa=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(Ba=d.props.gridModeEnabled?Pa.k:null);d.setState(function(Ma){var Ga;return Object.assign(h.appState||{},{editingElement:m||
(null===(Ga=h.appState)||void 0===Ga?void 0:Ga.editingElement)||null,width:Ma.width,height:Ma.height,offsetTop:Ma.offsetTop,offsetLeft:Ma.offsetLeft,viewModeEnabled:wa,zenModeEnabled:pa,gridSize:Ba})},function(){h.syncHistory&&fk.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=bf(function(){Fo=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(h){h.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(h){og(h)&&
qi.delete(h)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var h=tb()(function(m){var A,P,W,wa,pa;return Eo(this,function(Ba){switch(Ba.label){case 0:window.history.replaceState({},Pa.iC,window.location.origin),Ba.label=1;case 1:return Ba.trys.push([1,7,,8]),[4,fetch(m)];case 2:return[4,Ba.sent().blob()];case 3:return A=Ba.sent(),wa=(W=JSON).parse,[4,A.text()];case 4:Ba=P=wa.apply(W,[Ba.sent()]);if("object"!=typeof Ba||!Ba||"excalidrawlib"!==Ba.type||1!==Ba.version)throw Error();return window.confirm(Jb("alerts.confirmAddLibrary",
{numShapes:P.library.length}))?[4,gh.importLibrary(A)]:[3,6];case 5:Ba.sent(),d.setState({isLibraryOpen:!0}),Ba.label=6;case 6:return[3,8];case 7:return pa=Ba.sent(),window.alert(Jb("alerts.errorLoadingLibrary")),console.error(pa),[3,8];case 8:return[2]}})});return function(m){return h.apply(this,arguments)}}();this.resetHistory=function(){fk.clear()};this.resetScene=bf(function(h){d.scene.replaceAllElements([]);d.setState(function(m){return Va(Va({},uh()),{},{isLoading:(null==h||!h.resetLoadingState)&&
m.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=tb()(function(){var h,m,A,P,W;return Eo(this,function(wa){switch(wa.label){case 0:"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var pa=tb()(function(Ba){var Ma,Ga;return Eo(this,function(hb){switch(hb.label){case 0:return Ba.files.length?[4,(Ma=Ba.files[0]).getFile()]:[2];case 1:return(Ga=hb.sent()).handle=Ma,Em(Ga,d.state).then(function(jb){return d.syncActionResult({elements:jb.elements,
appState:Va(Va({},jb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(jb){d.setState({isLoading:!1,errorMessage:jb.message})}),[2]}})});return function(Ba){return pa.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),m=null,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return m=wa.sent()||null,[3,4];case 3:return A=wa.sent(),console.error(A),[3,4];case 4:return(P=cn(m,null)).appState=Va(Va({},P.appState),{},{isLoading:!1}),
null!==(h=m)&&void 0!==h&&h.scrollToCenter&&(P.appState=Va(Va({},P.appState),mi(P.elements,Va(Va({},P.appState),{},{width:d.state.width,height:d.state.height,offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Va(Va({},P),{},{commitToHistory:!0})),(W=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(W)]:[3,6];case 5:wa.sent(),wa.label=6;case 6:return[2]}})});this.onResize=bf(function(){d.scene.getElementsIncludingDeleted().forEach(function(h){return qi.delete(h)});
d.setState({})});this.onScroll=dj(function(){var h=d.getCanvasOffsets(),m=h.offsetTop,A=h.offsetLeft;d.setState(function(P){return P.offsetLeft===A&&P.offsetTop===m?null:{offsetTop:m,offsetLeft:A}})},Pa.HM);this.onCut=bf(function(h){Bh(h.target)||(d.cutAll(),h.preventDefault())});this.onCopy=bf(function(h){var m=document.getSelection();null!=m&&m.anchorNode&&!d.excalidrawContainerRef.current.contains(m.anchorNode)||Bh(h.target)||(d.copyAll(),h.preventDefault())});this.cutAll=function(){d.copyAll();
d.actionManager.executeAction(Al)};this.copyAll=function(){rk(d.scene.getElements(),d.state)};this.onTapStart=function(h){if(!bq)return bq=!0,clearTimeout(Yr),void(Yr=window.setTimeout(Vr.resetTapTwice,Pa.Gj));if(bq&&1===h.touches.length){var m=h.touches[0];d.handleCanvasDoubleClick({clientX:m.clientX,clientY:m.clientY});bq=!1;clearTimeout(Yr)}h.preventDefault();2===h.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(h){h.preventDefault();0<h.touches.length&&d.setState({previousSelectedElementIds:{},
selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=bf(function(){var h=tb()(function(m){var A,P,W;return Eo(this,function(wa){switch(wa.label){case 0:return A=document.activeElement,P=document.elementFromPoint(yp,vp),!m||P instanceof HTMLCanvasElement&&!Bh(A)?[4,$a(m)]:[2];case 1:return(W=wa.sent()).errorMessage?d.setState({errorMessage:W.errorMessage}):W.spreadsheet?d.setState({pasteDialog:{data:W.spreadsheet,shown:!0}}):W.elements?d.addElementsFromPasteOrLibrary(W.elements):
W.text&&d.addTextFromPaste(W.text),d.selectShapeTool("selection"),null==m||m.preventDefault(),[2]}})});return function(m){return h.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(h,m,A){void 0===m&&(m=yp);void 0===A&&(A=vp);var P=Yf(h),W=P[0],wa=P[1],pa=Math.abs(W-P[2])/2;P=Math.abs(wa-P[3])/2;m=Zf({clientX:m,clientY:A},d.state);pa=m.x-pa;P=m.y-P;var Ba=new Map;pa=ch(pa,P,d.state.gridSize);var Ma=pa[0],Ga=pa[1],hb=new Map;pa=h.map(function(jb){var kb=Ii(d.state.editingGroupId,
Ba,jb,{x:jb.x+Ma-W,y:jb.y+Ga-wa});return hb.set(jb.id,kb.id),kb});P=Yg(Yg([],d.scene.getElementsIncludingDeleted()),pa);cl(P,h,hb);d.scene.replaceAllElements(P);fk.resumeRecording();d.setState(Zj(Va(Va({},d.state),{},{isLibraryOpen:!1,selectedElementIds:pa.reduce(function(jb,kb){return jb[kb.id]=!0,jb},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(h){d.setState(h)};this.removePointer=function(h){"touch"===h.pointerType&&go&&(clearTimeout(go),go=0,dq=!1);jl.delete(h.pointerId)};
this.toggleLock=function(){d.setState(function(h){return{elementLocked:!h.elementLocked,elementType:h.elementLocked?"selection":h.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(Yd)};this.toggleStats=function(){d.state.showStats||dh("dialog","stats");d.actionManager.executeAction(Tn)};this.setScrollToCenter=function(h){d.setState(Va({},mi(Rd(h),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=bf(function(h){var m;h.commitToHistory&&
fk.resumeRecording();null!==(m=h.appState)&&void 0!==m&&m.viewBackgroundColor&&d.setState({viewBackgroundColor:h.appState.viewBackgroundColor});h.elements&&d.scene.replaceAllElements(h.elements);h.collaborators&&d.setState({collaborators:h.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=bf(function(h){yp=h.x;vp=h.y});this.onKeyDown=bf(function(h){var m;if(!(("Proxy"in window&&(!h.shiftKey&&/^[A-Z]$/.test(h.key)||h.shiftKey&&/^[a-z]$/.test(h.key))&&
(h=new Proxy(h,{get:function(wa,pa){var Ba=wa[pa];return"function"==typeof Ba?Ba.bind(wa):"key"===pa?h.shiftKey?wa.key.toUpperCase():wa.key.toLowerCase():Ba}})),Bh(h.target)&&"Escape"!==h.key||ci(h.key)&&(m=h.target,m instanceof HTMLElement&&"wysiwyg"===m.dataset.type||m instanceof HTMLBRElement||m instanceof HTMLInputElement||m instanceof HTMLTextAreaElement||m instanceof HTMLSelectElement))||("?"===h.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(h)||d.state.viewModeEnabled))){if(h[we]&&
d.setState({isBindingEnabled:!1}),"Digit9"===h.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),ci(h.key)){m=d.state.gridSize&&(h.shiftKey?Pa.$e:d.state.gridSize)||(h.shiftKey?Pa.Iw:Pa.$e);var A=d.scene.getElements().filter(function(wa){return d.state.selectedElementIds[wa.id]}),P=0,W=0;"ArrowLeft"===h.key?P=-m:"ArrowRight"===h.key?P=m:"ArrowUp"===h.key?W=-m:"ArrowDown"===h.key&&(W=m);A.forEach(function(wa){Gd(wa,{x:wa.x+P,y:wa.y+W});Vh(wa,{simultaneouslyUpdated:A})});d.maybeSuggestBindingForAll(A);
h.preventDefault()}else if("Enter"===h.key)if(m=cf(d.scene.getElements(),d.state),1===m.length&&pg(m[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===m[0].id||(fk.resumeRecording(),d.setState({editingLinearElement:new ag(m[0],d.scene)}));else{if(1===m.length&&!pg(m[0]))return m=m[0],d.startTextEditing({sceneX:m.x+m.width/2,sceneY:m.y+m.height/2}),void h.preventDefault()}else h.ctrlKey||h.altKey||h.metaKey||null!==d.state.draggingElement||((m=function(wa){var pa=jm.find(function(Ba,
Ma){return wa===(Ma+1).toString()||("string"==typeof Ba.key?Ba.key===wa:Ba.key.includes(wa))});return(null==pa?void 0:pa.value)||null}(h.key))?d.selectShapeTool(m):"q"===h.key&&d.toggleLock());" "===h.key&&0===jl.size&&(Fo=!0,pi(d.canvas,Pa.oc.GRABBING))}});this.onKeyUp=bf(function(h){if(" "===h.key&&("selection"===d.state.elementType?Rh(d.canvas):(Kf(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Fo=!1),h[we]||d.state.isBindingEnabled||
d.setState({isBindingEnabled:!0}),ci(h.key))h=cf(d.scene.getElements(),d.state),d.state.isBindingEnabled?kg(h):xh(h),d.setState({suggestedBindings:[]})});this.onGestureStart=bf(function(h){h.preventDefault();d.setState({selectedElementIds:{}});tp=d.state.zoom.value});this.onGestureChange=bf(function(h){if(h.preventDefault(),2!==jl.size){var m=tp;m&&d.setState(function(A){var P=A.zoom,W=A.offsetLeft;A=A.offsetTop;return{zoom:qh(Nj(m*h.scale),P,{left:W,top:A},{x:yp,y:vp})}})}});this.onGestureEnd=bf(function(h){h.preventDefault();
d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});tp=null});this.startTextEditing=function(h){var m=h.sceneX,A=h.sceneY;h=h.insertAtParentCenter;var P=void 0===h||h;h=d.getTextElementAtPosition(m,A);P=P&&d.getTextWysiwygSnappedToCenterPosition(m,A,d.state,d.canvas,window.devicePixelRatio);m=h||bk({x:P?P.elementCenterX:m,y:P?P.elementCenterY:A,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,
strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:P?"center":d.state.currentItemTextAlign,verticalAlign:P?"middle":Pa.hs});d.setState({editingElement:m});h?P&&"center"===m.textAlign||Gd(m,{verticalAlign:Pa.hs}):(d.scene.replaceAllElements(Yg(Yg([],
d.scene.getElementsIncludingDeleted()),[m])),P||Gd(m,{y:m.y-m.baseline/2}));d.setState({editingElement:m});d.handleTextWysiwyg(m,{isExistingElement:!!h})};this.handleCanvasDoubleClick=function(h){if(!d.state.multiElement&&"selection"===d.state.elementType){var m=cf(d.scene.getElements(),d.state);if(1===m.length&&pg(m[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===m[0].id||(fk.resumeRecording(),d.setState({editingLinearElement:new ag(m[0],d.scene)}));else{Rh(d.canvas);var A=
Zf(h,d.state);m=A.x;A=A.y;if(0<Si(d.state).length){var P=d.getElementAtPosition(m,A),W=P&&function(wa,pa){return wa.groupIds.find(function(Ba){return pa[Ba]})}(P,d.state.selectedGroupIds);if(W)return void d.setState(function(wa){var pa;return Zj(Va(Va({},wa),{},{editingGroupId:W,selectedElementIds:(pa={},pa[P.id]=!0,pa),selectedGroupIds:{}}),d.scene.getElements())})}Rh(d.canvas);h[we]||d.startTextEditing({sceneX:m,sceneY:A,insertAtParentCenter:!h.altKey})}}};this.handleCanvasPointerMove=function(h){d.savePointer(h.clientX,
h.clientY,d.state.cursorButton);jl.has(h.pointerId)&&jl.set(h.pointerId,{x:h.clientX,y:h.clientY});var m=tp;if(2===jl.size&&up&&m&&cr){var A=Lm(jl),P=A.x-up.x,W=A.y-up.y;up=A;var wa=Vn(Array.from(jl.values()))/cr;d.setState(function(Kb){var Ib=Kb.zoom,nc=Kb.offsetLeft,Sc=Kb.offsetTop;return{scrollX:Kb.scrollX+P/Ib.value,scrollY:Kb.scrollY+W/Ib.value,zoom:qh(Nj(m*wa),Ib,{left:nc,top:Sc},A),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else up=cr=tp=null;if(!(Fo||aq||Wr)){var pa=
ql(Xr,h.clientX-d.state.offsetLeft,h.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||d.state.multiElement||(pa?Rh(d.canvas):Kf(d.canvas,d.state.elementType));var Ba=Zf(h,d.state),Ma=Ba.x,Ga=Ba.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var hb=ag.handlePointerMove(h,Ma,Ga,d.state.editingLinearElement,d.state.gridSize);hb!==d.state.editingLinearElement&&d.setState({editingLinearElement:hb});null!=hb.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(Ba):
d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(hb=d.state.draggingElement,zf(hb)?d.maybeSuggestBindingForLinearElementAtCursor(hb,"end",Ba,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(Ba));if(d.state.multiElement){pa=d.state.multiElement;Ba=pa.x;hb=pa.y;h=pa.points;var jb=pa.lastCommittedPoint,kb=h[h.length-1];return Kf(d.canvas,d.state.elementType),void(kb===jb?Math.hypot(kb[0]-(Ma-Ba),kb[1]-(Ga-hb))>=Pa.qx?Gd(pa,{points:Yg(Yg([],h),[[Ma-Ba,Ga-hb]])}):pi(d.canvas,
Pa.oc.POINTER):2<h.length&&jb&&Math.hypot(jb[0]-(Ma-Ba),jb[1]-(Ga-hb))<Pa.qx?(pi(d.canvas,Pa.oc.POINTER),Gd(pa,{points:h.slice(0,-1)})):(bj(h,d.state.zoom.value)&&pi(d.canvas,Pa.oc.POINTER),Gd(pa,{points:Yg(Yg([],h.slice(0,-1)),[[Ma-Ba,Ga-hb]])})))}if(!(h.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){jb=d.scene.getElements();hb=cf(jb,d.state);if(1!==hb.length||pa||d.state.editingLinearElement){if(1<hb.length&&!pa&&(Ma=lj(Yf(hb),Ma,Ga,d.state.zoom,h.pointerType)))return void pi(d.canvas,
Ng({transformHandleType:Ma}))}else if((Ma=Rl(jb,d.state,Ma,Ga,d.state.zoom,h.pointerType))&&Ma.transformHandleType)return void pi(d.canvas,Ng(Ma));Ma=d.getElementAtPosition(Ba.x,Ba.y);"text"===d.state.elementType?pi(d.canvas,og(Ma)?Pa.oc.TEXT:Pa.oc.CROSSHAIR):pa?pi(d.canvas,Pa.oc.AUTO):Ma||d.isHittingCommonBoundingBoxOfSelectedElements(Ba,hb)?pi(d.canvas,Pa.oc.MOVE):pi(d.canvas,Pa.oc.AUTO)}}};this.handleTouchMove=function(h){dq=!0};this.handleCanvasPointerDown=function(h){if(h.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(h),
d.maybeCleanupAfterMissingPointerUp(h),!(aq||(d.setState({lastPointerDownWith:h.pointerType,cursorButton:"down"}),d.savePointer(h.clientX,h.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(h)||h.button!==Pa.Oh.MAIN&&h.button!==Pa.Oh.TOUCH||(d.updateGestureOnPointerDown(h),h.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<jl.size)))){var m=d.initialPointerDownState(h);if(!d.handleDraggingScrollBar(h,m)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(h),
!d.handleSelectionOnPointerDown(h,m)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(h,d.state.elementType,m):d.createGenericElementOnPointerDown(d.state.elementType,m);h=d.onPointerMoveFromPointerDownHandler(m);var A=d.onPointerUpFromPointerDownHandler(m),P=d.onKeyDownFromPointerDownHandler(m),W=d.onKeyUpFromPointerDownHandler(m);Zn=A;d.state.viewModeEnabled||(window.addEventListener(Pa.Ks.POINTER_MOVE,
h),window.addEventListener(Pa.Ks.POINTER_UP,A),window.addEventListener(Pa.Ks.KEYDOWN,P),window.addEventListener(Pa.Ks.KEYUP,W),m.eventListeners.onMove=h,m.eventListeners.onUp=A,m.eventListeners.onKeyUp=W,m.eventListeners.onKeyDown=P)}else d.handleTextOnPointerDown(h,m)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(h){"touch"===h.pointerType&&(dq=!1,go?dq=!0:go=window.setTimeout(function(){go=0;dq||d.openContextMenu({clientX:h.clientX,clientY:h.clientY})},Pa.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=
function(h){if(0!==jl.size||!(h.button===Pa.Oh.WHEEL||h.button===Pa.Oh.MAIN&&Fo||d.state.viewModeEnabled))return!1;aq=!0;var m=!1,A=/Linux/.test(window.navigator.platform);pi(d.canvas,Pa.oc.GRABBING);var P=h.clientX,W=h.clientY,wa=bf(function(Ba){var Ma=P-Ba.clientX,Ga=W-Ba.clientY;if(P=Ba.clientX,W=Ba.clientY,A&&!m&&(1<Math.abs(Ma)||1<Math.abs(Ga))){m=!0;var hb=function(kb){document.body.removeEventListener(Pa.Ks.PASTE,hb);kb.stopPropagation()},jb=function(){setTimeout(function(){document.body.removeEventListener(Pa.Ks.PASTE,
hb);window.removeEventListener(Pa.Ks.POINTER_UP,jb)},100)};document.body.addEventListener(Pa.Ks.PASTE,hb);window.addEventListener(Pa.Ks.POINTER_UP,jb)}d.setState({scrollX:d.state.scrollX-Ma/d.state.zoom.value,scrollY:d.state.scrollY-Ga/d.state.zoom.value})}),pa=bf(Zn=function(){Zn=null;aq=!1;Fo||Kf(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(h.clientX,h.clientY,"up");window.removeEventListener(Pa.Ks.POINTER_MOVE,wa);window.removeEventListener(Pa.Ks.POINTER_UP,pa);window.removeEventListener(Pa.Ks.BLUR,
pa)});return window.addEventListener(Pa.Ks.BLUR,pa),window.addEventListener(Pa.Ks.POINTER_MOVE,wa,{passive:!0}),window.addEventListener(Pa.Ks.POINTER_UP,pa),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(h,m){if("selection"===d.state.elementType){var A=d.scene.getElements(),P=cf(A,d.state);1!==P.length||d.state.editingLinearElement?1<P.length&&
(m.resize.handleType=lj(Yf(P),m.origin.x,m.origin.y,d.state.zoom,h.pointerType)):(A=Rl(A,d.state,m.origin.x,m.origin.y,d.state.zoom,h.pointerType),null!=A&&(d.setState({resizingElement:A.element}),m.resize.handleType=A.transformHandleType));if(m.resize.handleType)pi(d.canvas,Ng({transformHandleType:m.resize.handleType})),m.resize.isResizing=!0,m.resize.offset=fj(function(jb,kb,Kb,Ib){var nc,Sc=1===kb.length?Jf(kb[0]):Yf(kb),Yc=Sc[0],jd=Sc[1],le=Sc[2];Sc=Sc[3];kb=1===kb.length?kb[0].angle:0;switch(Kb=
(nc=Ue(Kb,Ib,(Yc+le)/2,(jd+Sc)/2,-kb))[0],Ib=nc[1],jb){case "n":return Ue(Kb-(Yc+le)/2,Ib-jd,0,0,kb);case "s":return Ue(Kb-(Yc+le)/2,Ib-Sc,0,0,kb);case "w":return Ue(Kb-Yc,Ib-(jd+Sc)/2,0,0,kb);case "e":return Ue(Kb-le,Ib-(jd+Sc)/2,0,0,kb);case "nw":return Ue(Kb-Yc,Ib-jd,0,0,kb);case "ne":return Ue(Kb-le,Ib-jd,0,0,kb);case "sw":return Ue(Kb-Yc,Ib-Sc,0,0,kb);case "se":return Ue(Kb-le,Ib-Sc,0,0,kb);default:return[0,0]}}(m.resize.handleType,P,m.origin.x,m.origin.y)),1===P.length&&pg(P[0])&&2===P[0].points.length&&
(m.resize.arrowDirection=(pa=m.resize.handleType,Ba=P[0],Ma=Ba.points[1],Ga=Ma[0],hb=Ma[1],"nw"===pa&&(0>Ga||0>hb)||"ne"===pa&&0<=Ga||"sw"===pa&&0>=Ga||"se"===pa&&(0<Ga||0<hb)?"end":"origin"));else{var W;if(d.state.editingLinearElement&&(P=ag.handlePointerDown(h,d.state,function(jb){return d.setState(jb)},fk,m.origin),P.hitElement&&(m.hit.element=P.hitElement),P.didAddPoint))return!0;m.hit.element=null!==(W=m.hit.element)&&void 0!==W?W:d.getElementAtPosition(m.origin.x,m.origin.y);m.hit.allHitElements=
d.getElementsAtPosition(m.origin.x,m.origin.y);var wa=m.hit.element;W=m.hit.allHitElements.some(function(jb){return d.isASelectedElement(jb)});if(null!==wa&&W||h.shiftKey||m.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(wa),null!=wa){if(h[we])return d.setState(function(jb){var kb;jb=Ja(Ja({},jb),{},{editingGroupId:wa.groupIds.length?wa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(kb={},kb[wa.id]=!0,kb)});return Va(Va({},jb),{},{previousSelectedElementIds:d.state.selectedElementIds})}),
!1;d.state.selectedElementIds[wa.id]||(d.state.editingGroupId&&!wa.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),W||m.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(jb){var kb;return Zj(Va(Va({},jb),{},{selectedElementIds:Va(Va({},jb.selectedElementIds),{},(kb={},kb[wa.id]=!0,kb))}),d.scene.getElements())}),m.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var pa,
Ba,Ma,Ga,hb;return!1};this.handleTextOnPointerDown=function(h,m){var A;"text"!==(null===(A=d.state.editingElement)||void 0===A?void 0:A.type)&&(d.startTextEditing({sceneX:m.origin.x,sceneY:m.origin.y,insertAtParentCenter:!h.altKey}),Rh(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(h,m,A){if(d.state.multiElement){var P=d.state.multiElement;if("line"===P.type&&bj(P.points,d.state.zoom.value))return Gd(P,{lastCommittedPoint:P.points[P.points.length-
1]}),void d.actionManager.executeAction(Pf);m=P.x;h=P.y;var W=P.lastCommittedPoint;if(1<P.points.length&&W&&Math.hypot(W[0]-(A.origin.x-m),W[1]-(A.origin.y-h))<Pa.qx)return void d.actionManager.executeAction(Pf);d.setState(function(Ba){var Ma;return{selectedElementIds:Va(Va({},Ba.selectedElementIds),{},(Ma={},Ma[P.id]=!0,Ma))}});Gd(P,{lastCommittedPoint:P.points[P.points.length-1]});pi(d.canvas,Pa.oc.POINTER)}else{h=ch(A.origin.x,A.origin.y,"draw"===m?null:d.state.gridSize);var wa=d.state;W=wa.currentItemStartArrowhead;
wa=wa.currentItemEndArrowhead;W="arrow"===m?[W,wa]:[null,null];var pa=Hi({type:m,x:h[0],y:h[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:W[0],endArrowhead:W[1]});d.setState(function(Ba){var Ma;
return{selectedElementIds:Va(Va({},Ba.selectedElementIds),{},(Ma={},Ma[pa.id]=!1,Ma))}});Gd(pa,{points:Yg(Yg([],pa.points),[[0,0]])});A=ph(A.origin,d.scene);d.scene.replaceAllElements(Yg(Yg([],d.scene.getElementsIncludingDeleted()),[pa]));d.setState({draggingElement:pa,editingElement:pa,startBoundElement:A,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(h,m){m=ch(m.origin.x,m.origin.y,d.state.gridSize);h=Ol({type:h,x:m[0],y:m[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===h.type?d.setState({selectionElement:h,draggingElement:h}):(d.scene.replaceAllElements(Yg(Yg([],d.scene.getElementsIncludingDeleted()),[h])),d.setState({multiElement:null,draggingElement:h,
editingElement:h}))};this.updateBindingEnabledOnPointerMove=function(h){h=!h[we];d.state.isBindingEnabled!==h&&d.setState({isBindingEnabled:h})};this.maybeSuggestBindingAtCursor=function(h){h=ph(h,d.scene);d.setState({suggestedBindings:null!=h?[h]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(h,m,A,P){m=ph(A,d.scene);d.setState({suggestedBindings:null==m||(null==P?void 0:P.id)===m.id&&3>h.points.length?[]:[m]})};this.handleCanvasRef=function(h){var m,A,P;null!==h?(d.canvas=h,d.rc=
Xf.canvas(d.canvas),d.canvas.addEventListener(Pa.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(Pa.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(Pa.Ks.TOUCH_END,d.onTapEnd)):(null===(m=d.canvas)||void 0===m||m.removeEventListener(Pa.Ks.WHEEL,d.handleWheel),null===(A=d.canvas)||void 0===A||A.removeEventListener(Pa.Ks.TOUCH_START,d.onTapStart),null===(P=d.canvas)||void 0===P||P.removeEventListener(Pa.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var h=tb()(function(m){var A,
P,W,wa,pa,Ba,Ma,Ga,hb,jb,kb;return Eo(this,function(Kb){switch(Kb.label){case 0:return Kb.trys.push([0,3,,4]),"image/png"!==(null==(P=m.dataTransfer.files[0])?void 0:P.type)&&"image/svg+xml"!==(null==P?void 0:P.type)?[3,2]:[4,Em(P,d.state)];case 1:return W=Kb.sent(),wa=W.elements,pa=W.appState,d.syncActionResult({elements:wa,appState:Va(Va({},pa||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ba=Kb.sent(),[2,d.setState({isLoading:!1,errorMessage:Ba.message})];
case 4:if(""!==(Ma=m.dataTransfer.getData(Pa.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(Ma),m.clientX,m.clientY),[2];if(!("application/json"===(null==(Ga=null===(A=m.dataTransfer)||void 0===A?void 0:A.files[0])?void 0:Ga.type)||null!=Ga&&Ga.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];Kb.label=5;case 5:return Kb.trys.push([5,7,,8]),hb=m.dataTransfer.items[0],jb=Ga,
[4,hb.getAsFileSystemHandle()];case 6:return jb.handle=Kb.sent(),[3,8];case 7:return kb=Kb.sent(),console.warn(kb.name,kb.message),[3,8];case 8:return Em(Ga,d.state).then(function(Ib){return d.syncActionResult({elements:Ib.elements,appState:Va(Va({},Ib.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Ib){d.setState({isLoading:!1,errorMessage:Ib.message})}),[3,10];case 9:(null==Ga?void 0:Ga.type)===Pa.LO.excalidrawlib||null!=Ga&&Ga.name.endsWith(".excalidrawlib")?gh.importLibrary(Ga).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(Ib){return d.setState({isLoading:!1,
errorMessage:Ib.message})}):d.setState({isLoading:!1,errorMessage:Jb("alerts.couldNotLoadInvalidFile")}),Kb.label=10;case 10:return[2]}})});return function(m){return h.apply(this,arguments)}}();this.handleCanvasContextMenu=function(h){h.preventDefault();d.openContextMenu(h)};this.maybeDragNewGenericElement=function(h,m){var A=d.state.draggingElement,P=h.lastCoords;if(A)if("selection"===A.type)Lh(A,d.state.elementType,h.origin.x,h.origin.y,P.x,P.y,Math.abs(h.origin.x-P.x),Math.abs(h.origin.y-P.y),
m.shiftKey,m.altKey);else{var W=ch(P.x,P.y,d.state.gridSize);P=W[0];W=W[1];Lh(A,d.state.elementType,h.originInGrid.x,h.originInGrid.y,P,W,Math.abs(h.originInGrid.x-P),Math.abs(h.originInGrid.y-W),m.shiftKey,m.altKey);d.maybeSuggestBindingForAll([A])}};this.maybeHandleResize=function(h,m){var A=cf(d.scene.getElements(),d.state),P=h.resize.handleType;d.setState({isResizing:P&&"rotation"!==P,isRotating:"rotation"===P});var W=h.lastCoords;W=ch(W.x-h.resize.offset.x,W.y-h.resize.offset.y,d.state.gridSize);
a:{var wa=h.resize.arrowDirection,pa=m.shiftKey,Ba=m.altKey;m=m.shiftKey;var Ma=W[0],Ga=W[1];W=h.resize.center.x;var hb=h.resize.center.y;if(1===A.length){W=A[0];if("rotation"===P)P=Jf(W),P=5*Math.PI/2+Math.atan2(Ga-(P[1]+P[3])/2,Ma-(P[0]+P[2])/2),pa&&(P+=Pa.ay/2,P-=P%Pa.ay),P=mf(P),Gd(W,{angle:P}),Vh(W);else if(!pg(W)||2!==W.points.length||"nw"!==P&&"ne"!==P&&"sw"!==P&&"se"!==P)if(!og(W)||"nw"!==P&&"ne"!==P&&"sw"!==P&&"se"!==P){if(P){wa=h.originalElements.get(W.id);var jb=fh(wa,wa.width,wa.height);
pa=[jb[0],jb[1]];h=[jb[2],jb[3]];jb=[(pa[0]+h[0])/2,(pa[1]+h[1])/2];hb=pk([Ma,Ga],jb,-wa.angle);Ma=fh(W,W.width,W.height);var kb=Ma[2]-Ma[0],Kb=Ma[3]-Ma[1];Ma=(h[0]-pa[0])/kb;Ga=(h[1]-pa[1])/Kb;P.includes("e")&&(Ma=(hb[0]-pa[0])/kb);P.includes("s")&&(Ga=(hb[1]-pa[1])/Kb);P.includes("w")&&(Ma=(h[0]-hb[0])/kb);P.includes("n")&&(Ga=(h[1]-hb[1])/Kb);hb=wa.width;kb=wa.height;Ma*=W.width;Ga*=W.height;if(Ba&&(Ma=2*Ma-hb,Ga=2*Ga-kb),m){Kb=Math.abs(Ma)/hb;var Ib=Math.abs(Ga)/kb;if(1===P.length&&(Ga*=Kb,Ma*=
Ib),2===P.length)Kb=Math.max(Kb,Ib),Ma=hb*Kb*Math.sign(Ma),Ga=kb*Kb*Math.sign(Ga)}Ib=fh(wa,Ma,Ga);hb=Ib[0];kb=Ib[1];Kb=Ib[2]-hb;Ib=Ib[3]-kb;var nc=qj([],pa);if(["n","w","nw"].includes(P)&&(nc=[h[0]-Math.abs(Kb),h[1]-Math.abs(Ib)]),"ne"===P)nc=[pa[0],h[1]],nc=[nc[0],nc[1]-Math.abs(Ib)];"sw"===P&&(pa=[h[0],pa[1]],nc=[pa[0]-Math.abs(Kb),pa[1]]);m&&(["s","n"].includes(P)&&(nc[0]=jb[0]-Kb/2),["e","w"].includes(P)&&(nc[1]=jb[1]-Ib/2));0>Ma&&(P.includes("e")&&(nc[0]-=Math.abs(Kb)),P.includes("w")&&(nc[0]+=
Math.abs(Kb)));0>Ga&&(P.includes("s")&&(nc[1]-=Math.abs(Ib)),P.includes("n")&&(nc[1]+=Math.abs(Ib)));Ba&&(nc[0]=jb[0]-Math.abs(Kb)/2,nc[1]=jb[1]-Math.abs(Ib)/2);P=wa.angle;Ba=pk(nc,jb,P);m=pk([nc[0]+Math.abs(Kb)/2,nc[1]+Math.abs(Ib)/2],jb,P);nc=pk(Ba,m,-P);P=$e(wa,Ma,Ga);Ba=qj([],nc);Ba[0]+=wa.x-hb;Ba[1]+=wa.y-kb;P=Xb({width:Math.abs(Ma),height:Math.abs(Ga),x:Ba[0],y:Ba[1]},P);0!==P.width&&0!==P.height&&Number.isFinite(P.x)&&Number.isFinite(P.y)&&(Vh(W,{newSize:{width:P.width,height:P.height}}),Gd(W,
P))}}else{wa=Jf(W);h=wa[0];pa=wa[1];m=wa[2];wa=wa[3];Ga=Ue(Ma,Ga,(h+m)/2,(pa+wa)/2,-W.angle);Ma=Ga[0];Ga=Ga[1];switch(P){case "se":jb=Math.max((Ma-h)/(m-h),(Ga-pa)/(wa-pa));break;case "nw":jb=Math.max((m-Ma)/(m-h),(wa-Ga)/(wa-pa));break;case "ne":jb=Math.max((Ma-h)/(m-h),(wa-Ga)/(wa-pa));break;case "sw":jb=Math.max((m-Ma)/(m-h),(Ga-pa)/(wa-pa))}0<jb&&(Ma=W.width*jb,jb*=W.height,Ga=$g(W,Ma,jb),null!==Ga&&(hb=fh(W,Ma,jb),h=(h-hb[0])/2,pa=(pa-hb[1])/2,m=(m-hb[2])/2,wa=(wa-hb[3])/2,P={n:/^(n|ne|nw)$/.test(P)||
Ba&&/^(s|se|sw)$/.test(P),s:/^(s|se|sw)$/.test(P)||Ba&&/^(n|ne|nw)$/.test(P),w:/^(w|nw|sw)$/.test(P)||Ba&&/^(e|ne|se)$/.test(P),e:/^(e|ne|se)$/.test(P)||Ba&&/^(w|nw|sw)$/.test(P)},P=wj(P,W.x,W.y,W.angle,h,pa,m,wa),Gd(W,{fontSize:Ga.size,width:Ma,height:jb,baseline:Ga.baseline,x:P[0],y:P[1]})));Vh(W)}else P=Jf(W),Ba=Ue(Ma,Ga,(P[0]+P[2])/2,(P[1]+P[3])/2,-W.angle),P=Ba[0],Ba=Ba[1],Ba="end"===wa?[P-W.x,Ba-W.y]:[W.x+W.points[1][0]-P,W.y+W.points[1][1]-Ba],P=Ba[0],Ba=Ba[1],pa&&(m=W.angle,P=Lg.apply(void 0,
qj([W.type],Ue(P,Ba,0,0,m))),Ba=Ue(P.width,P.height,0,0,-m),P=Ba[0],Ba=Ba[1]),m=wj("end"===wa?{s:!0,e:!0}:{n:!0,w:!0},W.x,W.y,W.angle,0,0,(W.points[1][0]-P)/2,(W.points[1][1]-Ba)/2),Gd(W,{x:m[0],y:m[1],points:[[0,0],[P,Ba]]});W=!0}else{if(1<A.length){if("rotation"===P){W=(jk(h,A,Ma,Ga,pa,W,hb),!0);break a}if("nw"===P||"ne"===P||"sw"===P||"se"===P){W=(rl(A,P,Ma,Ga),!0);break a}}W=!1}}return!!W&&(d.maybeSuggestBindingForAll(A),!0)};this.openContextMenu=function(h){var m,A=h.clientX;h=h.clientY;var P=
Zf({clientX:A,clientY:h},d.state),W=P.x,wa=P.y,pa=Mf.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),Ba=ri.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());P=eg().matches;var Ma=d.scene.getElements();W=d.getElementAtPosition(W,wa);wa=[];(sk&&0<Ma.length&&wa.push(qp),Uj&&0<Ma.length&&wa.push(rp),W)?(d.state.selectedElementIds[W.id]||d.setState({selectedElementIds:(m={},m[W.id]=!0,m)}),d.state.viewModeEnabled?
zn({options:Yg([navigator.clipboard&&en],wa),top:h,left:A,actionManager:d.actionManager,appState:d.state}):zn({options:Yg(Yg([P&&Yp,P&&navigator.clipboard&&en,P&&navigator.clipboard&&{name:"paste",perform:function(Ga,hb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},P&&"separator"],wa),["separator",Ye,Se,"separator",pa&&Mf,Ba&&ri,(pa||Ba)&&"separator",Ao,"separator",Co,ni,f,y,"separator",ba,Al]),top:h,left:A,actionManager:d.actionManager,appState:d.state})):
(m=Yg(Yg([],wa),[void 0===d.props.gridModeEnabled&&op,void 0===d.props.zenModeEnabled&&Yd,void 0===d.props.viewModeEnabled&&Is,Tn]),(zn({options:m,top:h,left:A,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||zn({options:[P&&navigator.clipboard&&{name:"paste",perform:function(Ga,hb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},P&&navigator.clipboard&&"separator",sk&&0<Ma.length&&qp,Uj&&0<Ma.length&&rp,(sk&&0<Ma.length||Uj&&0<Ma.length)&&
"separator",V,"separator",void 0===d.props.gridModeEnabled&&op,void 0===d.props.zenModeEnabled&&Yd,void 0===d.props.viewModeEnabled&&Is,Tn],top:h,left:A,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=bf(function(h){if(h.preventDefault(),!aq){var m=h.deltaX,A=h.deltaY,P=d.state,W=P.selectedElementIds,wa=P.previousSelectedElementIds;if(h.metaKey||h.ctrlKey){h=Math.sign(A);P=Math.abs(A);10<P&&(P=10);P*=h;0!==Object.keys(wa).length&&setTimeout(function(){d.setState({selectedElementIds:wa,
previousSelectedElementIds:{}})},1E3);var pa=d.state.zoom.value-P/100;return pa+=Math.log10(Math.max(1,d.state.zoom.value))*-h,pa=Math.round(pa*Pa.V4*100)/(100*Pa.V4),d.setState(function(Ba){var Ma=Ba.zoom,Ga=Ba.offsetLeft;Ba=Ba.offsetTop;return{zoom:qh(Nj(pa),Ma,{left:Ga,top:Ba},{x:yp,y:vp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(W).length?W:wa,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}h.shiftKey?d.setState(function(Ba){return{scrollX:Ba.scrollX-
(A||m)/Ba.zoom.value}}):d.setState(function(Ba){var Ma=Ba.zoom;return{scrollX:Ba.scrollX-m/Ma.value,scrollY:Ba.scrollY-A/Ma.value}})}});this.savePointer=function(h,m,A){var P,W;h&&m&&(h=Zf({clientX:h,clientY:m},d.state),isNaN(h.x)||isNaN(h.y),null===(P=(W=d.props).onPointerUpdate)||void 0===P||P.call(W,{pointer:h,button:A,pointersMap:jl}))};this.resetShouldCacheIgnoreZoomDebounced=dj(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Pa.Vi.TEST&&"production"!==Pa.Vi.DEVELOPMENT||
(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return fk}},library:{configurable:!0,value:gh}}));g(8234);g(4651);var Hs=function(d){var h=d.width,m=d.height,A=d.offsetLeft,P=d.offsetTop,W=d.onChange,wa=d.initialData,pa=d.excalidrawRef,Ba=d.onCollabButtonClick,Ma=d.isCollaborating,Ga=d.onPointerUpdate,
hb=d.onExportToBackend,jb=d.renderFooter,kb=d.langCode;kb=void 0===kb?Kd.code:kb;var Kb=d.viewModeEnabled,Ib=d.zenModeEnabled;d=d.gridModeEnabled;return(0,Z.useEffect)(function(){var nc=function(Sc){"number"==typeof Sc.scale&&1!==Sc.scale&&Sc.preventDefault()};return document.addEventListener("touchmove",nc,{passive:!1}),function(){document.removeEventListener("touchmove",nc)}},[]),R().createElement(th,{langCode:kb},R().createElement(Vf,null,R().createElement(Vr,{width:h,height:m,offsetLeft:A,offsetTop:P,
onChange:W,initialData:wa,excalidrawRef:pa,onCollabButtonClick:Ba,isCollaborating:Ma,onPointerUpdate:Ga,onExportToBackend:hb,renderFooter:jb,langCode:kb,viewModeEnabled:Kb,zenModeEnabled:Ib,gridModeEnabled:d})))};Hs.defaultProps={lanCode:Kd.code};var Ot=(0,Z.forwardRef)(function(d,h){return R().createElement(Hs,xa()({},d,{excalidrawRef:h}))});const Qt=R().memo(Ot,function(d,h){d.initialData;var m=M()(d,["initialData"]),A=(h.initialData,M()(h,["initialData"]));d=Object.keys(d);h=Object.keys(h);return d.length===
h.length&&d.every(function(P){return m[P]===A[P]})});g(6009);const Nt=Qt},4698:B=>{B.exports=u},6207:B=>{B.exports=t}},a={};return q.m=w,q.n=B=>{var n=B&&B.__esModule?()=>B.default:()=>B;return q.d(n,{a:n}),n},l=Object.getPrototypeOf?B=>Object.getPrototypeOf(B):B=>B.__proto__,q.t=function(B,n){if((1&n&&(B=this(B)),8&n)||"object"==typeof B&&B&&(4&n&&B.__esModule||16&n&&"function"==typeof B.then))return B;var g=Object.create(null);q.r(g);var z={};k=k||[null,l({}),l([]),l(l)];for(n=2&n&&B;"object"==
typeof n&&!~k.indexOf(n);n=l(n))Object.getOwnPropertyNames(n).forEach(D=>z[D]=()=>B[D]);return z.default=()=>B,q.d(g,z),g},q.d=(B,n)=>{for(var g in n)q.o(n,g)&&!q.o(B,g)&&Object.defineProperty(B,g,{enumerable:!0,get:n[g]})},q.f={},q.e=B=>Promise.all(Object.keys(q.f).reduce((n,g)=>(q.f[g](B,n),n),[])),q.u=B=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",
242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",
869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[B]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",
364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",
933:"f3ae9dac7b038b673e45"}[B]+".js",q.o=(B,n)=>Object.prototype.hasOwnProperty.call(B,n),p={},q.l=(B,n,g,z)=>{if(p[B])p[B].push(n);else{var D;if(void 0!==g){z=document.getElementsByTagName("script");for(var J=0;J<z.length;J++){var O=z[J];if(O.getAttribute("src")==B||O.getAttribute("data-webpack")=="Excalidraw:"+g){var S=O;break}}}S||(D=!0,(S=document.createElement("script")).charset="utf-8",S.timeout=120,q.nc&&S.setAttribute("nonce",q.nc),S.setAttribute("data-webpack","Excalidraw:"+g),S.src=B);p[B]=
[n];n=(G,E)=>{S.onerror=S.onload=null;clearTimeout(H);var F=p[B];if(delete p[B],S.parentNode&&S.parentNode.removeChild(S),F&&F.forEach(ea=>ea(E)),G)return G(E)};var H=setTimeout(n.bind(null,void 0,{type:"timeout",target:S}),12E4);S.onerror=n.bind(null,S.onerror);S.onload=n.bind(null,S.onload);D&&document.head.appendChild(S)}},q.r=B=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"});Object.defineProperty(B,"__esModule",{value:!0})},q.p="",
(()=>{var B={163:0};q.f.j=(z,D)=>{var J=q.o(B,z)?B[z]:void 0;if(0!==J)if(J)D.push(J[2]);else{var O=new Promise((H,G)=>{J=B[z]=[H,G]});D.push(J[2]=O);D=q.p+q.u(z);var S=Error();q.l(D,H=>{if(q.o(B,z)&&(0!==(J=B[z])&&(B[z]=void 0),J)){var G=H&&("load"===H.type?"missing":H.type);H=H&&H.target&&H.target.src;S.message="Loading chunk "+z+" failed.\n("+G+": "+H+")";S.name="ChunkLoadError";S.type=G;S.request=H;J[1](S)}},"chunk-"+z,z)}};var n=(z,D)=>{for(var J,O,[S,H,G]=D,E=0,F=[];E<S.length;E++)O=S[E],q.o(B,
O)&&B[O]&&F.push(B[O][0]),B[O]=0;for(J in H)q.o(H,J)&&(q.m[J]=H[J]);G&&G(q);for(z&&z(D);F.length;)F.shift()()},g=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];g.forEach(n.bind(null,0));g.push=n.bind(null,g.push.bind(g))})(),q(3956)})()})};
var uXb=function(a,b){var c=$APP.gD();$APP.l(c)&&$APP.MB($APP.sVa(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.dl($APP.E(["Error loading ",a,": ",d]))})},wXb=function(a){var b=$APP.qy(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Qi(vXb.F(a),b);return a},xXb=new $APP.H(null,"view-mode-enabled","view-mode-enabled",-588220561),yXb=new $APP.H($APP.va,"view-mode?","frontend.extensions.excalidraw/view-mode?",525380621),zXb=new $APP.H(null,
"viewBackgroundColor","viewBackgroundColor",1889137994),AXb=new $APP.H(null,"grid-mode-enabled","grid-mode-enabled",584978327),BXb=new $APP.H(null,"gridSize","gridSize",843108791),CXb=new $APP.H($APP.va,"elements","frontend.extensions.excalidraw/elements",1745667967),DXb=new $APP.H($APP.va,"loading?","frontend.extensions.excalidraw/loading?",-1335058663),EXb=new $APP.H($APP.va,"data","frontend.extensions.excalidraw/data",-1371036113),FXb=new $APP.H(null,"zen-mode-enabled","zen-mode-enabled",-955634269),
GXb=new $APP.H($APP.va,"zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),HXb=new $APP.H(null,"appState","appState",-1920687968),IXb=new $APP.H(null,"initial-data","initial-data",-1315709804),vXb=new $APP.H($APP.va,"draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.Tca("excalidraw");var JXb=$APP.Nx(436);var KXb,LXb,MXb,NXb;$APP.XPb={};KXb=$APP.eN($APP.jb(JXb,"default"));LXb=$APP.tl.F(null);
MXb=$APP.ky($APP.oy,function(a,b,c){$APP.VC($APP.fD);$APP.ty(LXb);var d=$APP.F.B(a,vXb),e=$APP.F.B(a,GXb),f=$APP.F.B(a,yXb),k=$APP.VC($APP.QKa),m=$APP.F.B(a,CXb),p=$APP.rn.F(c);return $APP.l(b)?$APP.U("div",{onMouseDown:function(q){return $APP.WB(q)},className:"overflow-hidden"},[$APP.U("div",{style:{fontSize:10},className:"my-1"},[$APP.U("a",{onClick:$APP.RKa,className:"mr-2"},[$APP.Ux($APP.KB("Wide Mode (%s)",$APP.E([$APP.l(k)?"ON":"OFF"])))]),$APP.U("a",{onClick:function(){return $APP.ul.B(e,$APP.Dd)},
className:"mr-2"},[$APP.Ux($APP.KB("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.U("a",{onClick:function(){return $APP.ul.B(f,$APP.Dd)},className:"mr-2"},[$APP.Ux($APP.KB("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.U("div",{onMouseDown:function(q){$APP.WB(q);return $APP.dD($APP.jZ,!0)},onBlur:function(){return $APP.dD($APP.jZ,!1)},className:"draw-wrap"},[$APP.Ux(function(){var q=$APP.Yn.K($APP.E([new $APP.h(null,6,[$APP.VU,function(u,w){var A=$APP.Xv(u);return $APP.v(A)&&
$APP.sk.B(u,$APP.r(m))?(w=$APP.Xv(w),$APP.VXa(p,JSON.stringify($APP.Yv(new $APP.h(null,5,[$APP.pn,"excalidraw",$APP.N6a,2,$APP.is,$APP.KXa,$APP.g3,u,HXb,$APP.tk(w,new $APP.K(null,2,5,$APP.N,[BXb,zXb],null))],null)))),$APP.Qi(m,u)):null},FXb,$APP.r(e),xXb,$APP.r(f),AXb,!1,IXb,b,$APP.oN,$APP.r(d)],null),$APP.l(k)?new $APP.h(null,1,[$APP.nN,650],null):new $APP.h(null,1,[$APP.nN,500],null)]));return KXb.F?KXb.F(q):KXb.call(null,q)}())])]):null},new $APP.K(null,7,5,$APP.N,[$APP.p6,$APP.ry(800,vXb),$APP.ry(!0,
GXb),$APP.ry(!1,yXb),$APP.ry(null,CXb),new $APP.h(null,1,[$APP.gy,wXb],null),new $APP.h(null,1,[$APP.iy,wXb],null)],null),"frontend.extensions.excalidraw/draw-inner");
NXb=$APP.ky($APP.oy,function(a,b){var c=$APP.F.B(a,EXb);a=$APP.F.B(a,DXb);a=$APP.ty(a);c=$APP.ty(c);var d=$APP.VC($APP.iGb);return $APP.l($APP.rn.F(b))?$APP.l(d)?(b=$APP.ZU("Loading"),$APP.U("div",$APP.Pf(b)?$APP.Tx($APP.Rx($APP.E([new $APP.h(null,1,[$APP.Qx,new $APP.K(null,1,5,$APP.N,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.Pf(b)?null:[$APP.Ux(b)])):!1===a?MXb(c,b):null:null},new $APP.K(null,2,5,$APP.N,[$APP.p6,new $APP.h(null,1,[$APP.dy,function(a){var b=$APP.ly.F(a);b=$APP.C.G(b,
0,null);b=$APP.rn.F(b);var c=$APP.tl.F(null),d=$APP.tl.F(!0);$APP.l(b)&&uXb(b,function(e){if($APP.Lm(e))var f=null;else try{f=JSON.parse(e)}catch(k){if(k instanceof Error)e=k,$APP.dl($APP.E(["from json error:"])),console.dir(e),f=$APP.CM($APP.fta("Could not load this invalid excalidraw file"),$APP.Wp);else throw k;}$APP.Qi(c,f);return $APP.Qi(d,!1)});return $APP.P.K(a,EXb,c,$APP.E([DXb,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.YPb=$APP.ky($APP.ny,function(a){var b=$APP.gD(),c=$APP.VC(new $APP.K(null,2,5,$APP.N,[$APP.FM,b],null));return $APP.QE(b)&&$APP.Dd(c)&&$APP.Dd($APP.JB())?null:NXb(a)},new $APP.K(null,1,5,$APP.N,[$APP.p6],null),"frontend.extensions.excalidraw/draw");$APP.nc.Di();
}).call(this);